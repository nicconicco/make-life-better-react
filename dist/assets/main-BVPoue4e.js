(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();var cm={exports:{}},Ol={};var I_;function ib(){if(I_)return Ol;I_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:f,ref:o!==void 0?o:null,props:c}}return Ol.Fragment=e,Ol.jsx=n,Ol.jsxs=n,Ol}var C_;function sb(){return C_||(C_=1,cm.exports=ib()),cm.exports}var m=sb(),um={exports:{}},ve={};var N_;function ab(){if(N_)return ve;N_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),V=Symbol.iterator;function H(D){return D===null||typeof D!="object"?null:(D=V&&D[V]||D["@@iterator"],typeof D=="function"?D:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ne=Object.assign,ee={};function ye(D,Q,Z){this.props=D,this.context=Q,this.refs=ee,this.updater=Z||J}ye.prototype.isReactComponent={},ye.prototype.setState=function(D,Q){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Q,"setState")},ye.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function be(){}be.prototype=ye.prototype;function pe(D,Q,Z){this.props=D,this.context=Q,this.refs=ee,this.updater=Z||J}var Le=pe.prototype=new be;Le.constructor=pe,ne(Le,ye.prototype),Le.isPureReactComponent=!0;var ot=Array.isArray;function xe(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(D,Q,Z){var re=Z.ref;return{$$typeof:s,type:D,key:Q,ref:re!==void 0?re:null,props:Z}}function O(D,Q){return I(D.type,Q,D.props)}function M(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function P(D){var Q={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(Z){return Q[Z]})}var C=/\/+/g;function Ct(D,Q){return typeof D=="object"&&D!==null&&D.key!=null?P(""+D.key):Q.toString(36)}function Ut(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(xe,xe):(D.status="pending",D.then(function(Q){D.status==="pending"&&(D.status="fulfilled",D.value=Q)},function(Q){D.status==="pending"&&(D.status="rejected",D.reason=Q)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function G(D,Q,Z,re,fe){var Re=typeof D;(Re==="undefined"||Re==="boolean")&&(D=null);var je=!1;if(D===null)je=!0;else switch(Re){case"bigint":case"string":case"number":je=!0;break;case"object":switch(D.$$typeof){case s:case e:je=!0;break;case S:return je=D._init,G(je(D._payload),Q,Z,re,fe)}}if(je)return fe=fe(D),je=re===""?"."+Ct(D,0):re,ot(fe)?(Z="",je!=null&&(Z=je.replace(C,"$&/")+"/"),G(fe,Q,Z,"",function(ri){return ri})):fe!=null&&(M(fe)&&(fe=O(fe,Z+(fe.key==null||D&&D.key===fe.key?"":(""+fe.key).replace(C,"$&/")+"/")+je)),Q.push(fe)),1;je=0;var Bt=re===""?".":re+":";if(ot(D))for(var lt=0;lt<D.length;lt++)re=D[lt],Re=Bt+Ct(re,lt),je+=G(re,Q,Z,Re,fe);else if(lt=H(D),typeof lt=="function")for(D=lt.call(D),lt=0;!(re=D.next()).done;)re=re.value,Re=Bt+Ct(re,lt++),je+=G(re,Q,Z,Re,fe);else if(Re==="object"){if(typeof D.then=="function")return G(Ut(D),Q,Z,re,fe);throw Q=String(D),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return je}function te(D,Q,Z){if(D==null)return D;var re=[],fe=0;return G(D,re,"","",function(Re){return Q.call(Z,Re,fe++)}),re}function ue(D){if(D._status===-1){var Q=D._result;Q=Q(),Q.then(function(Z){(D._status===0||D._status===-1)&&(D._status=1,D._result=Z)},function(Z){(D._status===0||D._status===-1)&&(D._status=2,D._result=Z)}),D._status===-1&&(D._status=0,D._result=Q)}if(D._status===1)return D._result.default;throw D._result}var Ue=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Ge={map:te,forEach:function(D,Q,Z){te(D,function(){Q.apply(this,arguments)},Z)},count:function(D){var Q=0;return te(D,function(){Q++}),Q},toArray:function(D){return te(D,function(Q){return Q})||[]},only:function(D){if(!M(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return ve.Activity=b,ve.Children=Ge,ve.Component=ye,ve.Fragment=n,ve.Profiler=o,ve.PureComponent=pe,ve.StrictMode=a,ve.Suspense=y,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,ve.__COMPILER_RUNTIME={__proto__:null,c:function(D){return N.H.useMemoCache(D)}},ve.cache=function(D){return function(){return D.apply(null,arguments)}},ve.cacheSignal=function(){return null},ve.cloneElement=function(D,Q,Z){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var re=ne({},D.props),fe=D.key;if(Q!=null)for(Re in Q.key!==void 0&&(fe=""+Q.key),Q)!w.call(Q,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&Q.ref===void 0||(re[Re]=Q[Re]);var Re=arguments.length-2;if(Re===1)re.children=Z;else if(1<Re){for(var je=Array(Re),Bt=0;Bt<Re;Bt++)je[Bt]=arguments[Bt+2];re.children=je}return I(D.type,fe,re)},ve.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},ve.createElement=function(D,Q,Z){var re,fe={},Re=null;if(Q!=null)for(re in Q.key!==void 0&&(Re=""+Q.key),Q)w.call(Q,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(fe[re]=Q[re]);var je=arguments.length-2;if(je===1)fe.children=Z;else if(1<je){for(var Bt=Array(je),lt=0;lt<je;lt++)Bt[lt]=arguments[lt+2];fe.children=Bt}if(D&&D.defaultProps)for(re in je=D.defaultProps,je)fe[re]===void 0&&(fe[re]=je[re]);return I(D,Re,fe)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(D){return{$$typeof:g,render:D}},ve.isValidElement=M,ve.lazy=function(D){return{$$typeof:S,_payload:{_status:-1,_result:D},_init:ue}},ve.memo=function(D,Q){return{$$typeof:E,type:D,compare:Q===void 0?null:Q}},ve.startTransition=function(D){var Q=N.T,Z={};N.T=Z;try{var re=D(),fe=N.S;fe!==null&&fe(Z,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(xe,Ue)}catch(Re){Ue(Re)}finally{Q!==null&&Z.types!==null&&(Q.types=Z.types),N.T=Q}},ve.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},ve.use=function(D){return N.H.use(D)},ve.useActionState=function(D,Q,Z){return N.H.useActionState(D,Q,Z)},ve.useCallback=function(D,Q){return N.H.useCallback(D,Q)},ve.useContext=function(D){return N.H.useContext(D)},ve.useDebugValue=function(){},ve.useDeferredValue=function(D,Q){return N.H.useDeferredValue(D,Q)},ve.useEffect=function(D,Q){return N.H.useEffect(D,Q)},ve.useEffectEvent=function(D){return N.H.useEffectEvent(D)},ve.useId=function(){return N.H.useId()},ve.useImperativeHandle=function(D,Q,Z){return N.H.useImperativeHandle(D,Q,Z)},ve.useInsertionEffect=function(D,Q){return N.H.useInsertionEffect(D,Q)},ve.useLayoutEffect=function(D,Q){return N.H.useLayoutEffect(D,Q)},ve.useMemo=function(D,Q){return N.H.useMemo(D,Q)},ve.useOptimistic=function(D,Q){return N.H.useOptimistic(D,Q)},ve.useReducer=function(D,Q,Z){return N.H.useReducer(D,Q,Z)},ve.useRef=function(D){return N.H.useRef(D)},ve.useState=function(D){return N.H.useState(D)},ve.useSyncExternalStore=function(D,Q,Z){return N.H.useSyncExternalStore(D,Q,Z)},ve.useTransition=function(){return N.H.useTransition()},ve.version="19.2.4",ve}var x_;function sp(){return x_||(x_=1,um.exports=ab()),um.exports}var fo=sp(),dm={exports:{}},Ml={},hm={exports:{}},fm={};var D_;function rb(){return D_||(D_=1,(function(s){function e(G,te){var ue=G.length;G.push(te);e:for(;0<ue;){var Ue=ue-1>>>1,Ge=G[Ue];if(0<o(Ge,te))G[Ue]=te,G[ue]=Ge,ue=Ue;else break e}}function n(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var te=G[0],ue=G.pop();if(ue!==te){G[0]=ue;e:for(var Ue=0,Ge=G.length,D=Ge>>>1;Ue<D;){var Q=2*(Ue+1)-1,Z=G[Q],re=Q+1,fe=G[re];if(0>o(Z,ue))re<Ge&&0>o(fe,Z)?(G[Ue]=fe,G[re]=ue,Ue=re):(G[Ue]=Z,G[Q]=ue,Ue=Q);else if(re<Ge&&0>o(fe,ue))G[Ue]=fe,G[re]=ue,Ue=re;else break e}}return te}function o(G,te){var ue=G.sortIndex-te.sortIndex;return ue!==0?ue:G.id-te.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();s.unstable_now=function(){return f.now()-g}}var y=[],E=[],S=1,b=null,V=3,H=!1,J=!1,ne=!1,ee=!1,ye=typeof setTimeout=="function"?setTimeout:null,be=typeof clearTimeout=="function"?clearTimeout:null,pe=typeof setImmediate<"u"?setImmediate:null;function Le(G){for(var te=n(E);te!==null;){if(te.callback===null)a(E);else if(te.startTime<=G)a(E),te.sortIndex=te.expirationTime,e(y,te);else break;te=n(E)}}function ot(G){if(ne=!1,Le(G),!J)if(n(y)!==null)J=!0,xe||(xe=!0,P());else{var te=n(E);te!==null&&Ut(ot,te.startTime-G)}}var xe=!1,N=-1,w=5,I=-1;function O(){return ee?!0:!(s.unstable_now()-I<w)}function M(){if(ee=!1,xe){var G=s.unstable_now();I=G;var te=!0;try{e:{J=!1,ne&&(ne=!1,be(N),N=-1),H=!0;var ue=V;try{t:{for(Le(G),b=n(y);b!==null&&!(b.expirationTime>G&&O());){var Ue=b.callback;if(typeof Ue=="function"){b.callback=null,V=b.priorityLevel;var Ge=Ue(b.expirationTime<=G);if(G=s.unstable_now(),typeof Ge=="function"){b.callback=Ge,Le(G),te=!0;break t}b===n(y)&&a(y),Le(G)}else a(y);b=n(y)}if(b!==null)te=!0;else{var D=n(E);D!==null&&Ut(ot,D.startTime-G),te=!1}}break e}finally{b=null,V=ue,H=!1}te=void 0}}finally{te?P():xe=!1}}}var P;if(typeof pe=="function")P=function(){pe(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Ct=C.port2;C.port1.onmessage=M,P=function(){Ct.postMessage(null)}}else P=function(){ye(M,0)};function Ut(G,te){N=ye(function(){G(s.unstable_now())},te)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_next=function(G){switch(V){case 1:case 2:case 3:var te=3;break;default:te=V}var ue=V;V=te;try{return G()}finally{V=ue}},s.unstable_requestPaint=function(){ee=!0},s.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ue=V;V=G;try{return te()}finally{V=ue}},s.unstable_scheduleCallback=function(G,te,ue){var Ue=s.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Ue+ue:Ue):ue=Ue,G){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=ue+Ge,G={id:S++,callback:te,priorityLevel:G,startTime:ue,expirationTime:Ge,sortIndex:-1},ue>Ue?(G.sortIndex=ue,e(E,G),n(y)===null&&G===n(E)&&(ne?(be(N),N=-1):ne=!0,Ut(ot,ue-Ue))):(G.sortIndex=Ge,e(y,G),J||H||(J=!0,xe||(xe=!0,P()))),G},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(G){var te=V;return function(){var ue=V;V=te;try{return G.apply(this,arguments)}finally{V=ue}}}})(fm)),fm}var O_;function ob(){return O_||(O_=1,hm.exports=rb()),hm.exports}var mm={exports:{}},tn={};var M_;function lb(){if(M_)return tn;M_=1;var s=sp();function e(y){var E="https://react.dev/errors/"+y;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)E+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,E,S){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:y,containerInfo:E,implementation:S}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,E){if(y==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,tn.createPortal=function(y,E){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(e(299));return c(y,E,null,S)},tn.flushSync=function(y){var E=f.T,S=a.p;try{if(f.T=null,a.p=2,y)return y()}finally{f.T=E,a.p=S,a.d.f()}},tn.preconnect=function(y,E){typeof y=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,a.d.C(y,E))},tn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},tn.preinit=function(y,E){if(typeof y=="string"&&E&&typeof E.as=="string"){var S=E.as,b=g(S,E.crossOrigin),V=typeof E.integrity=="string"?E.integrity:void 0,H=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;S==="style"?a.d.S(y,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:b,integrity:V,fetchPriority:H}):S==="script"&&a.d.X(y,{crossOrigin:b,integrity:V,fetchPriority:H,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},tn.preinitModule=function(y,E){if(typeof y=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var S=g(E.as,E.crossOrigin);a.d.M(y,{crossOrigin:S,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&a.d.M(y)},tn.preload=function(y,E){if(typeof y=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var S=E.as,b=g(S,E.crossOrigin);a.d.L(y,S,{crossOrigin:b,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},tn.preloadModule=function(y,E){if(typeof y=="string")if(E){var S=g(E.as,E.crossOrigin);a.d.m(y,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:S,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else a.d.m(y)},tn.requestFormReset=function(y){a.d.r(y)},tn.unstable_batchedUpdates=function(y,E){return y(E)},tn.useFormState=function(y,E,S){return f.H.useFormState(y,E,S)},tn.useFormStatus=function(){return f.H.useHostTransitionStatus()},tn.version="19.2.4",tn}var j_;function cb(){if(j_)return mm.exports;j_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),mm.exports=lb(),mm.exports}var V_;function ub(){if(V_)return Ml;V_=1;var s=ob(),e=sp(),n=cb();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,r=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(r=i.return),t=i.return;while(t)}return i.tag===3?r:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(a(188))}function E(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(a(188));return i!==t?null:t}for(var r=t,l=i;;){var d=r.return;if(d===null)break;var h=d.alternate;if(h===null){if(l=d.return,l!==null){r=l;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===r)return y(d),t;if(h===l)return y(d),i;h=h.sibling}throw Error(a(188))}if(r.return!==l.return)r=d,l=h;else{for(var v=!1,T=d.child;T;){if(T===r){v=!0,r=d,l=h;break}if(T===l){v=!0,l=d,r=h;break}T=T.sibling}if(!v){for(T=h.child;T;){if(T===r){v=!0,r=h,l=d;break}if(T===l){v=!0,l=h,r=d;break}T=T.sibling}if(!v)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:i}function S(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=S(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,V=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),ye=Symbol.for("react.profiler"),be=Symbol.for("react.consumer"),pe=Symbol.for("react.context"),Le=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Ct(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ne:return"Fragment";case ye:return"Profiler";case ee:return"StrictMode";case ot:return"Suspense";case xe:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case pe:return t.displayName||"Context";case be:return(t._context.displayName||"Context")+".Consumer";case Le:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:Ct(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return Ct(t(i))}catch{}}return null}var Ut=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},Ue=[],Ge=-1;function D(t){return{current:t}}function Q(t){0>Ge||(t.current=Ue[Ge],Ue[Ge]=null,Ge--)}function Z(t,i){Ge++,Ue[Ge]=t.current,t.current=i}var re=D(null),fe=D(null),Re=D(null),je=D(null);function Bt(t,i){switch(Z(Re,i),Z(fe,t),Z(re,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Xv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Xv(i),t=Jv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(re),Z(re,t)}function lt(){Q(re),Q(fe),Q(Re)}function ri(t){t.memoizedState!==null&&Z(je,t);var i=re.current,r=Jv(i,t.type);i!==r&&(Z(fe,t),Z(re,r))}function Ri(t){fe.current===t&&(Q(re),Q(fe)),je.current===t&&(Q(je),Cl._currentValue=ue)}var _a,hr;function Kn(t){if(_a===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);_a=i&&i[1]||"",hr=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_a+t+hr}var Ea=!1;function fr(t,i){if(!t||Ea)return"";Ea=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(z){var B=z}Reflect.construct(t,[],K)}else{try{K.call()}catch(z){B=z}t.call(K.prototype)}}else{try{throw Error()}catch(z){B=z}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(z){if(z&&B&&typeof z.stack=="string")return[z.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),v=h[0],T=h[1];if(v&&T){var R=v.split(`
`),U=T.split(`
`);for(d=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;d<U.length&&!U[d].includes("DetermineComponentFrameRoot");)d++;if(l===R.length||d===U.length)for(l=R.length-1,d=U.length-1;1<=l&&0<=d&&R[l]!==U[d];)d--;for(;1<=l&&0<=d;l--,d--)if(R[l]!==U[d]){if(l!==1||d!==1)do if(l--,d--,0>d||R[l]!==U[d]){var F=`
`+R[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=d);break}}}finally{Ea=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Kn(r):""}function ah(t,i){switch(t.tag){case 26:case 27:case 5:return Kn(t.type);case 16:return Kn("Lazy");case 13:return t.child!==i&&i!==null?Kn("Suspense Fallback"):Kn("Suspense");case 19:return Kn("SuspenseList");case 0:case 15:return fr(t.type,!1);case 11:return fr(t.type.render,!1);case 1:return fr(t.type,!0);case 31:return Kn("Activity");default:return""}}function Tc(t){try{var i="",r=null;do i+=ah(t,r),r=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var mr=Object.prototype.hasOwnProperty,Ta=s.unstable_scheduleCallback,pr=s.unstable_cancelCallback,rh=s.unstable_shouldYield,Do=s.unstable_requestPaint,zt=s.unstable_now,Ac=s.unstable_getCurrentPriorityLevel,Nt=s.unstable_ImmediatePriority,Mt=s.unstable_UserBlockingPriority,Ii=s.unstable_NormalPriority,Sc=s.unstable_LowPriority,Oo=s.unstable_IdlePriority,oh=s.log,Aa=s.unstable_setDisableYieldValue,ms=null,Wt=null;function jn(t){if(typeof oh=="function"&&Aa(t),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(ms,t)}catch{}}var on=Math.clz32?Math.clz32:wc,lh=Math.log,Mo=Math.LN2;function wc(t){return t>>>=0,t===0?32:31-(lh(t)/Mo|0)|0}var Sa=256,oi=262144,ps=4194304;function Yn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Vn(t,i,r){var l=t.pendingLanes;if(l===0)return 0;var d=0,h=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~h,l!==0?d=Yn(l):(v&=T,v!==0?d=Yn(v):r||(r=T&~t,r!==0&&(d=Yn(r))))):(T=l&~h,T!==0?d=Yn(T):v!==0?d=Yn(v):r||(r=l&~t,r!==0&&(d=Yn(r)))),d===0?0:i!==0&&i!==d&&(i&h)===0&&(h=d&-d,r=i&-i,h>=r||h===32&&(r&4194048)!==0)?i:d}function gs(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function gr(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jo(){var t=ps;return ps<<=1,(ps&62914560)===0&&(ps=4194304),t}function Ci(t){for(var i=[],r=0;31>r;r++)i.push(t);return i}function ys(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qt(t,i,r,l,d,h){var v=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,R=t.expirationTimes,U=t.hiddenUpdates;for(r=v&~r;0<r;){var F=31-on(r),K=1<<F;T[F]=0,R[F]=-1;var B=U[F];if(B!==null)for(U[F]=null,F=0;F<B.length;F++){var z=B[F];z!==null&&(z.lane&=-536870913)}r&=~K}l!==0&&Vo(t,l,0),h!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=h&~(v&~i))}function Vo(t,i,r){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-on(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function vs(t,i){var r=t.entangledLanes|=i;for(t=t.entanglements;r;){var l=31-on(r),d=1<<l;d&i|t[l]&i&&(t[l]|=i),r&=~d}}function _s(t,i){var r=i&-i;return r=(r&42)!==0?1:Po(r),(r&(t.suspendedLanes|i))!==0?0:r}function Po(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Lo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ni(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:E_(t.type))}function bc(t,i){var r=te.p;try{return te.p=t,i()}finally{te.p=r}}var li=Math.random().toString(36).slice(2),dt="__reactFiber$"+li,Ht="__reactProps$"+li,ci="__reactContainer$"+li,Es="__reactEvents$"+li,ui="__reactListeners$"+li,Rc="__reactHandles$"+li,ko="__reactResources$"+li,xi="__reactMarker$"+li;function wa(t){delete t[dt],delete t[Ht],delete t[Es],delete t[ui],delete t[Rc]}function Di(t){var i=t[dt];if(i)return i;for(var r=t.parentNode;r;){if(i=r[ci]||r[dt]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(t=s_(t);t!==null;){if(r=t[dt])return r;t=s_(t)}return i}t=r,r=t.parentNode}return null}function Oi(t){if(t=t[dt]||t[ci]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function ba(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function Xn(t){var i=t[ko];return i||(i=t[ko]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function gt(t){t[xi]=!0}var yr=new Set,Ts={};function ln(t,i){di(t,i),di(t+"Capture",i)}function di(t,i){for(Ts[t]=i,t=0;t<i.length;t++)yr.add(i[t])}var ch=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uo={},Bo={};function Ic(t){return mr.call(Bo,t)?!0:mr.call(Uo,t)?!1:ch.test(t)?Bo[t]=!0:(Uo[t]=!0,!1)}function As(t,i,r){if(Ic(i))if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+r)}}function Ss(t,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+r)}}function Pn(t,i,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(i,r,""+l)}}function cn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cc(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function uh(t,i,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,h=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(v){r=""+v,h.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(v){r=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function vr(t){if(!t._valueTracker){var i=Cc(t)?"checked":"value";t._valueTracker=uh(t,i,""+t[i])}}function zo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var r=i.getValue(),l="";return t&&(l=Cc(t)?t.checked?"true":"false":t.value),t=l,t!==r?(i.setValue(t),!0):!1}function _r(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Mi=/[\n"\\]/g;function ht(t){return t.replace(Mi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ws(t,i,r,l,d,h,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+cn(i)):t.value!==""+cn(i)&&(t.value=""+cn(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Er(t,v,cn(i)):r!=null?Er(t,v,cn(r)):l!=null&&t.removeAttribute("value"),d==null&&h!=null&&(t.defaultChecked=!!h),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+cn(T):t.removeAttribute("name")}function Ra(t,i,r,l,d,h,v,T){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),i!=null||r!=null){if(!(h!=="submit"&&h!=="reset"||i!=null)){vr(t);return}r=r!=null?""+cn(r):"",i=i!=null?""+cn(i):r,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),vr(t)}function Er(t,i,r){i==="number"&&_r(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Be(t,i,r,l){if(t=t.options,i){i={};for(var d=0;d<r.length;d++)i["$"+r[d]]=!0;for(r=0;r<t.length;r++)d=i.hasOwnProperty("$"+t[r].value),t[r].selected!==d&&(t[r].selected=d),d&&l&&(t[r].defaultSelected=!0)}else{for(r=""+cn(r),i=null,d=0;d<t.length;d++){if(t[d].value===r){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function Ia(t,i,r){if(i!=null&&(i=""+cn(i),i!==t.value&&(t.value=i),r==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=r!=null?""+cn(r):""}function bs(t,i,r,l){if(i==null){if(l!=null){if(r!=null)throw Error(a(92));if(Ut(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),i=r}r=cn(i),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),vr(t)}function Ln(t,i){if(i){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=i;return}}t.textContent=i}var dh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qo(t,i,r){var l=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,r):typeof r!="number"||r===0||dh.has(i)?i==="float"?t.cssFloat=r:t[i]=(""+r).trim():t[i]=r+"px"}function Nc(t,i,r){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in i)l=i[d],i.hasOwnProperty(d)&&r[d]!==l&&qo(t,d,l)}else for(var h in i)i.hasOwnProperty(h)&&qo(t,h,i[h])}function Ho(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hi(t){return fh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function jt(){}var Tr=null;function Ar(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ji=null,Sn=null;function xc(t){var i=Oi(t);if(i&&(t=i.stateNode)){var r=t[Ht]||null;e:switch(t=i.stateNode,i.type){case"input":if(ws(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ht(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var l=r[i];if(l!==t&&l.form===t.form){var d=l[Ht]||null;if(!d)throw Error(a(90));ws(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<r.length;i++)l=r[i],l.form===t.form&&zo(l)}break e;case"textarea":Ia(t,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&Be(t,!!r.multiple,i,!1)}}}var Fo=!1;function Dc(t,i,r){if(Fo)return t(i,r);Fo=!0;try{var l=t(i);return l}finally{if(Fo=!1,(ji!==null||Sn!==null)&&(Iu(),ji&&(i=ji,t=Sn,Sn=ji=null,xc(i),t)))for(i=0;i<t.length;i++)xc(t[i])}}function mn(t,i){var r=t.stateNode;if(r===null)return null;var l=r[Ht]||null;if(l===null)return null;r=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,i,typeof r));return r}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Go=!1;if(Jn)try{var fi={};Object.defineProperty(fi,"passive",{get:function(){Go=!0}}),window.addEventListener("test",fi,fi),window.removeEventListener("test",fi,fi)}catch{Go=!1}var wn=null,Sr=null,mi=null;function Rs(){if(mi)return mi;var t,i=Sr,r=i.length,l,d="value"in wn?wn.value:wn.textContent,h=d.length;for(t=0;t<r&&i[t]===d[t];t++);var v=r-t;for(l=1;l<=v&&i[r-l]===d[h-l];l++);return mi=d.slice(t,1<l?1-l:void 0)}function Ca(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Is(){return!0}function et(){return!1}function en(t){function i(r,l,d,h,v){this._reactName=r,this._targetInst=d,this.type=l,this.nativeEvent=h,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(h):h[T]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Is:et,this.isPropagationStopped=et,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Is)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Is)},persist:function(){},isPersistent:Is}),i}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Na=en(Vi),Cs=b({},Vi,{view:0,detail:0}),Oc=en(Cs),Ns,wr,un,xa=b({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==un&&(un&&t.type==="mousemove"?(Ns=t.screenX-un.screenX,wr=t.screenY-un.screenY):wr=Ns=0,un=t),Ns)},movementY:function(t){return"movementY"in t?t.movementY:wr}}),Mc=en(xa),Da=b({},xa,{dataTransfer:0}),jc=en(Da),Qo=b({},Cs,{relatedTarget:0}),xs=en(Qo),Vc=b({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),br=en(Vc),mh=b({},Vi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pc=en(mh),Oa=b({},Vi,{data:0}),$o=en(Oa),Lc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ko={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Yo[t])?!!i[t]:!1}function Ds(){return kc}var Uc=b({},Cs,{key:function(t){if(t.key){var i=Lc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ca(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ko[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(t){return t.type==="keypress"?Ca(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ca(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Bc=en(Uc),Pi=b({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xo=en(Pi),zc=b({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),qc=en(zc),Hc=b({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rr=en(Hc),dn=b({},xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Fc=en(dn),Gc=b({},Vi,{newState:0,oldState:0}),Os=en(Gc),u=[9,13,27,32],p=Jn&&"CompositionEvent"in window,_=null;Jn&&"documentMode"in document&&(_=document.documentMode);var A=Jn&&"TextEvent"in window&&!_,L=Jn&&(!p||_&&8<_&&11>=_),q=" ",W=!1;function Qe(t,i){switch(t){case"keyup":return u.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Et(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ie=!1;function Vt(t,i){switch(t){case"compositionend":return Et(i);case"keypress":return i.which!==32?null:(W=!0,q);case"textInput":return t=i.data,t===q&&W?null:t;default:return null}}function Pt(t,i){if(Ie)return t==="compositionend"||!p&&Qe(t,i)?(t=Rs(),mi=Sr=wn=null,Ie=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return L&&i.locale!=="ko"?null:i.data;default:return null}}var Ms={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pn(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Ms[t.type]:i==="textarea"}function Ma(t,i,r,l){ji?Sn?Sn.push(l):Sn=[l]:ji=l,i=ju(i,"onChange"),0<i.length&&(r=new Na("onChange","change",null,r,l),t.push({event:r,listeners:i}))}var Li=null,Jo=null;function xS(t){Fv(t,0)}function Qc(t){var i=ba(t);if(zo(i))return t}function cg(t,i){if(t==="change")return i}var ug=!1;if(Jn){var ph;if(Jn){var gh="oninput"in document;if(!gh){var dg=document.createElement("div");dg.setAttribute("oninput","return;"),gh=typeof dg.oninput=="function"}ph=gh}else ph=!1;ug=ph&&(!document.documentMode||9<document.documentMode)}function hg(){Li&&(Li.detachEvent("onpropertychange",fg),Jo=Li=null)}function fg(t){if(t.propertyName==="value"&&Qc(Jo)){var i=[];Ma(i,Jo,t,Ar(t)),Dc(xS,i)}}function DS(t,i,r){t==="focusin"?(hg(),Li=i,Jo=r,Li.attachEvent("onpropertychange",fg)):t==="focusout"&&hg()}function OS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qc(Jo)}function MS(t,i){if(t==="click")return Qc(i)}function jS(t,i){if(t==="input"||t==="change")return Qc(i)}function VS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var bn=typeof Object.is=="function"?Object.is:VS;function Zo(t,i){if(bn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var r=Object.keys(t),l=Object.keys(i);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var d=r[l];if(!mr.call(i,d)||!bn(t[d],i[d]))return!1}return!0}function mg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pg(t,i){var r=mg(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=i&&l>=i)return{node:r,offset:i-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=mg(r)}}function gg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?gg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function yg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=_r(t.document);i instanceof t.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)t=i.contentWindow;else break;i=_r(t.document)}return i}function yh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var PS=Jn&&"documentMode"in document&&11>=document.documentMode,Ir=null,vh=null,Wo=null,_h=!1;function vg(t,i,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;_h||Ir==null||Ir!==_r(l)||(l=Ir,"selectionStart"in l&&yh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Wo&&Zo(Wo,l)||(Wo=l,l=ju(vh,"onSelect"),0<l.length&&(i=new Na("onSelect","select",null,i,r),t.push({event:i,listeners:l}),i.target=Ir)))}function ja(t,i){var r={};return r[t.toLowerCase()]=i.toLowerCase(),r["Webkit"+t]="webkit"+i,r["Moz"+t]="moz"+i,r}var Cr={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionrun:ja("Transition","TransitionRun"),transitionstart:ja("Transition","TransitionStart"),transitioncancel:ja("Transition","TransitionCancel"),transitionend:ja("Transition","TransitionEnd")},Eh={},_g={};Jn&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);function Va(t){if(Eh[t])return Eh[t];if(!Cr[t])return t;var i=Cr[t],r;for(r in i)if(i.hasOwnProperty(r)&&r in _g)return Eh[t]=i[r];return t}var Eg=Va("animationend"),Tg=Va("animationiteration"),Ag=Va("animationstart"),LS=Va("transitionrun"),kS=Va("transitionstart"),US=Va("transitioncancel"),Sg=Va("transitionend"),wg=new Map,Th="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Th.push("scrollEnd");function Zn(t,i){wg.set(t,i),ln(i,[t])}var $c=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},kn=[],Nr=0,Ah=0;function Kc(){for(var t=Nr,i=Ah=Nr=0;i<t;){var r=kn[i];kn[i++]=null;var l=kn[i];kn[i++]=null;var d=kn[i];kn[i++]=null;var h=kn[i];if(kn[i++]=null,l!==null&&d!==null){var v=l.pending;v===null?d.next=d:(d.next=v.next,v.next=d),l.pending=d}h!==0&&bg(r,d,h)}}function Yc(t,i,r,l){kn[Nr++]=t,kn[Nr++]=i,kn[Nr++]=r,kn[Nr++]=l,Ah|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Sh(t,i,r,l){return Yc(t,i,r,l),Xc(t)}function Pa(t,i){return Yc(t,null,null,i),Xc(t)}function bg(t,i,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var d=!1,h=t.return;h!==null;)h.childLanes|=r,l=h.alternate,l!==null&&(l.childLanes|=r),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(d=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,d&&i!==null&&(d=31-on(r),t=h.hiddenUpdates,l=t[d],l===null?t[d]=[i]:l.push(i),i.lane=r|536870912),h):null}function Xc(t){if(50<Tl)throw Tl=0,Mf=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var xr={};function BS(t,i,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,i,r,l){return new BS(t,i,r,l)}function wh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ki(t,i){var r=t.alternate;return r===null?(r=Rn(t.tag,i,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=i,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,i=t.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Rg(t,i){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,i=r.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Jc(t,i,r,l,d,h){var v=0;if(l=t,typeof t=="function")wh(t)&&(v=1);else if(typeof t=="string")v=Gw(t,r,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Rn(31,r,i,d),t.elementType=I,t.lanes=h,t;case ne:return La(r.children,d,h,i);case ee:v=8,d|=24;break;case ye:return t=Rn(12,r,i,d|2),t.elementType=ye,t.lanes=h,t;case ot:return t=Rn(13,r,i,d),t.elementType=ot,t.lanes=h,t;case xe:return t=Rn(19,r,i,d),t.elementType=xe,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pe:v=10;break e;case be:v=9;break e;case Le:v=11;break e;case N:v=14;break e;case w:v=16,l=null;break e}v=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=Rn(v,r,i,d),i.elementType=t,i.type=l,i.lanes=h,i}function La(t,i,r,l){return t=Rn(7,t,l,i),t.lanes=r,t}function bh(t,i,r){return t=Rn(6,t,null,i),t.lanes=r,t}function Ig(t){var i=Rn(18,null,null,0);return i.stateNode=t,i}function Rh(t,i,r){return i=Rn(4,t.children!==null?t.children:[],t.key,i),i.lanes=r,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Cg=new WeakMap;function Un(t,i){if(typeof t=="object"&&t!==null){var r=Cg.get(t);return r!==void 0?r:(i={value:t,source:i,stack:Tc(i)},Cg.set(t,i),i)}return{value:t,source:i,stack:Tc(i)}}var Dr=[],Or=0,Zc=null,el=0,Bn=[],zn=0,js=null,pi=1,gi="";function Ui(t,i){Dr[Or++]=el,Dr[Or++]=Zc,Zc=t,el=i}function Ng(t,i,r){Bn[zn++]=pi,Bn[zn++]=gi,Bn[zn++]=js,js=t;var l=pi;t=gi;var d=32-on(l)-1;l&=~(1<<d),r+=1;var h=32-on(i)+d;if(30<h){var v=d-d%5;h=(l&(1<<v)-1).toString(32),l>>=v,d-=v,pi=1<<32-on(i)+d|r<<d|l,gi=h+t}else pi=1<<h|r<<d|l,gi=t}function Ih(t){t.return!==null&&(Ui(t,1),Ng(t,1,0))}function Ch(t){for(;t===Zc;)Zc=Dr[--Or],Dr[Or]=null,el=Dr[--Or],Dr[Or]=null;for(;t===js;)js=Bn[--zn],Bn[zn]=null,gi=Bn[--zn],Bn[zn]=null,pi=Bn[--zn],Bn[zn]=null}function xg(t,i){Bn[zn++]=pi,Bn[zn++]=gi,Bn[zn++]=js,pi=i.id,gi=i.overflow,js=t}var Ft=null,tt=null,Ve=!1,Vs=null,qn=!1,Nh=Error(a(519));function Ps(t){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tl(Un(i,t)),Nh}function Dg(t){var i=t.stateNode,r=t.type,l=t.memoizedProps;switch(i[dt]=t,i[Ht]=l,r){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(r=0;r<Sl.length;r++)Ne(Sl[r],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),Ra(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),bs(i,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||l.suppressHydrationWarning===!0||Kv(i.textContent,r)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=jt),i=!0):i=!1,i||Ps(t,!0)}function Og(t){for(Ft=t.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Ft=Ft.return}}function Mr(t){if(t!==Ft)return!1;if(!Ve)return Og(t),Ve=!0,!1;var i=t.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Kf(t.type,t.memoizedProps)),r=!r),r&&tt&&Ps(t),Og(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));tt=i_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));tt=i_(t)}else i===27?(i=tt,Xs(t.type)?(t=Wf,Wf=null,tt=t):tt=i):tt=Ft?Fn(t.stateNode.nextSibling):null;return!0}function ka(){tt=Ft=null,Ve=!1}function xh(){var t=Vs;return t!==null&&(_n===null?_n=t:_n.push.apply(_n,t),Vs=null),t}function tl(t){Vs===null?Vs=[t]:Vs.push(t)}var Dh=D(null),Ua=null,Bi=null;function Ls(t,i,r){Z(Dh,i._currentValue),i._currentValue=r}function zi(t){t._currentValue=Dh.current,Q(Dh)}function Oh(t,i,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===r)break;t=t.return}}function Mh(t,i,r,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var h=d.dependencies;if(h!==null){var v=d.child;h=h.firstContext;e:for(;h!==null;){var T=h;h=d;for(var R=0;R<i.length;R++)if(T.context===i[R]){h.lanes|=r,T=h.alternate,T!==null&&(T.lanes|=r),Oh(h.return,r,t),l||(v=null);break e}h=T.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(a(341));v.lanes|=r,h=v.alternate,h!==null&&(h.lanes|=r),Oh(v,r,t),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===t){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function jr(t,i,r,l){t=null;for(var d=i,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var T=d.type;bn(d.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(d===je.current){if(v=d.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Cl):t=[Cl])}d=d.return}t!==null&&Mh(i,t,r,l),i.flags|=262144}function Wc(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ba(t){Ua=t,Bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return Mg(Ua,t)}function eu(t,i){return Ua===null&&Ba(t),Mg(t,i)}function Mg(t,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},Bi===null){if(t===null)throw Error(a(308));Bi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Bi=Bi.next=i;return r}var zS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(r){return r()})}},qS=s.unstable_scheduleCallback,HS=s.unstable_NormalPriority,Tt={$$typeof:pe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jh(){return{controller:new zS,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&qS(HS,function(){t.controller.abort()})}var il=null,Vh=0,Vr=0,Pr=null;function FS(t,i){if(il===null){var r=il=[];Vh=0,Vr=Uf(),Pr={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Vh++,i.then(jg,jg),i}function jg(){if(--Vh===0&&il!==null){Pr!==null&&(Pr.status="fulfilled");var t=il;il=null,Vr=0,Pr=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function GS(t,i){var r=[],l={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var d=0;d<r.length;d++)(0,r[d])(i)},function(d){for(l.status="rejected",l.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),l}var Vg=G.S;G.S=function(t,i){vv=zt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&FS(t,i),Vg!==null&&Vg(t,i)};var za=D(null);function Ph(){var t=za.current;return t!==null?t:We.pooledCache}function tu(t,i){i===null?Z(za,za.current):Z(za,i.pool)}function Pg(){var t=Ph();return t===null?null:{parent:Tt._currentValue,pool:t}}var Lr=Error(a(460)),Lh=Error(a(474)),nu=Error(a(542)),iu={then:function(){}};function Lg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function kg(t,i,r){switch(r=t[r],r===void 0?t.push(i):r!==i&&(i.then(jt,jt),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Bg(t),t;default:if(typeof i.status=="string")i.then(jt,jt);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=l}},function(l){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Bg(t),t}throw Ha=i,Lr}}function qa(t){try{var i=t._init;return i(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ha=r,Lr):r}}var Ha=null;function Ug(){if(Ha===null)throw Error(a(459));var t=Ha;return Ha=null,t}function Bg(t){if(t===Lr||t===nu)throw Error(a(483))}var kr=null,sl=0;function su(t){var i=sl;return sl+=1,kr===null&&(kr=[]),kg(kr,t,i)}function al(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function au(t,i){throw i.$$typeof===V?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function zg(t){function i(j,x){if(t){var k=j.deletions;k===null?(j.deletions=[x],j.flags|=16):k.push(x)}}function r(j,x){if(!t)return null;for(;x!==null;)i(j,x),x=x.sibling;return null}function l(j){for(var x=new Map;j!==null;)j.key!==null?x.set(j.key,j):x.set(j.index,j),j=j.sibling;return x}function d(j,x){return j=ki(j,x),j.index=0,j.sibling=null,j}function h(j,x,k){return j.index=k,t?(k=j.alternate,k!==null?(k=k.index,k<x?(j.flags|=67108866,x):k):(j.flags|=67108866,x)):(j.flags|=1048576,x)}function v(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function T(j,x,k,$){return x===null||x.tag!==6?(x=bh(k,j.mode,$),x.return=j,x):(x=d(x,k),x.return=j,x)}function R(j,x,k,$){var ce=k.type;return ce===ne?F(j,x,k.props.children,$,k.key):x!==null&&(x.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===w&&qa(ce)===x.type)?(x=d(x,k.props),al(x,k),x.return=j,x):(x=Jc(k.type,k.key,k.props,null,j.mode,$),al(x,k),x.return=j,x)}function U(j,x,k,$){return x===null||x.tag!==4||x.stateNode.containerInfo!==k.containerInfo||x.stateNode.implementation!==k.implementation?(x=Rh(k,j.mode,$),x.return=j,x):(x=d(x,k.children||[]),x.return=j,x)}function F(j,x,k,$,ce){return x===null||x.tag!==7?(x=La(k,j.mode,$,ce),x.return=j,x):(x=d(x,k),x.return=j,x)}function K(j,x,k){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=bh(""+x,j.mode,k),x.return=j,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case H:return k=Jc(x.type,x.key,x.props,null,j.mode,k),al(k,x),k.return=j,k;case J:return x=Rh(x,j.mode,k),x.return=j,x;case w:return x=qa(x),K(j,x,k)}if(Ut(x)||P(x))return x=La(x,j.mode,k,null),x.return=j,x;if(typeof x.then=="function")return K(j,su(x),k);if(x.$$typeof===pe)return K(j,eu(j,x),k);au(j,x)}return null}function B(j,x,k,$){var ce=x!==null?x.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ce!==null?null:T(j,x,""+k,$);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case H:return k.key===ce?R(j,x,k,$):null;case J:return k.key===ce?U(j,x,k,$):null;case w:return k=qa(k),B(j,x,k,$)}if(Ut(k)||P(k))return ce!==null?null:F(j,x,k,$,null);if(typeof k.then=="function")return B(j,x,su(k),$);if(k.$$typeof===pe)return B(j,x,eu(j,k),$);au(j,k)}return null}function z(j,x,k,$,ce){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return j=j.get(k)||null,T(x,j,""+$,ce);if(typeof $=="object"&&$!==null){switch($.$$typeof){case H:return j=j.get($.key===null?k:$.key)||null,R(x,j,$,ce);case J:return j=j.get($.key===null?k:$.key)||null,U(x,j,$,ce);case w:return $=qa($),z(j,x,k,$,ce)}if(Ut($)||P($))return j=j.get(k)||null,F(x,j,$,ce,null);if(typeof $.then=="function")return z(j,x,k,su($),ce);if($.$$typeof===pe)return z(j,x,k,eu(x,$),ce);au(x,$)}return null}function ae(j,x,k,$){for(var ce=null,ze=null,le=x,we=x=0,Oe=null;le!==null&&we<k.length;we++){le.index>we?(Oe=le,le=null):Oe=le.sibling;var qe=B(j,le,k[we],$);if(qe===null){le===null&&(le=Oe);break}t&&le&&qe.alternate===null&&i(j,le),x=h(qe,x,we),ze===null?ce=qe:ze.sibling=qe,ze=qe,le=Oe}if(we===k.length)return r(j,le),Ve&&Ui(j,we),ce;if(le===null){for(;we<k.length;we++)le=K(j,k[we],$),le!==null&&(x=h(le,x,we),ze===null?ce=le:ze.sibling=le,ze=le);return Ve&&Ui(j,we),ce}for(le=l(le);we<k.length;we++)Oe=z(le,j,we,k[we],$),Oe!==null&&(t&&Oe.alternate!==null&&le.delete(Oe.key===null?we:Oe.key),x=h(Oe,x,we),ze===null?ce=Oe:ze.sibling=Oe,ze=Oe);return t&&le.forEach(function(ta){return i(j,ta)}),Ve&&Ui(j,we),ce}function he(j,x,k,$){if(k==null)throw Error(a(151));for(var ce=null,ze=null,le=x,we=x=0,Oe=null,qe=k.next();le!==null&&!qe.done;we++,qe=k.next()){le.index>we?(Oe=le,le=null):Oe=le.sibling;var ta=B(j,le,qe.value,$);if(ta===null){le===null&&(le=Oe);break}t&&le&&ta.alternate===null&&i(j,le),x=h(ta,x,we),ze===null?ce=ta:ze.sibling=ta,ze=ta,le=Oe}if(qe.done)return r(j,le),Ve&&Ui(j,we),ce;if(le===null){for(;!qe.done;we++,qe=k.next())qe=K(j,qe.value,$),qe!==null&&(x=h(qe,x,we),ze===null?ce=qe:ze.sibling=qe,ze=qe);return Ve&&Ui(j,we),ce}for(le=l(le);!qe.done;we++,qe=k.next())qe=z(le,j,we,qe.value,$),qe!==null&&(t&&qe.alternate!==null&&le.delete(qe.key===null?we:qe.key),x=h(qe,x,we),ze===null?ce=qe:ze.sibling=qe,ze=qe);return t&&le.forEach(function(nb){return i(j,nb)}),Ve&&Ui(j,we),ce}function Ze(j,x,k,$){if(typeof k=="object"&&k!==null&&k.type===ne&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case H:e:{for(var ce=k.key;x!==null;){if(x.key===ce){if(ce=k.type,ce===ne){if(x.tag===7){r(j,x.sibling),$=d(x,k.props.children),$.return=j,j=$;break e}}else if(x.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===w&&qa(ce)===x.type){r(j,x.sibling),$=d(x,k.props),al($,k),$.return=j,j=$;break e}r(j,x);break}else i(j,x);x=x.sibling}k.type===ne?($=La(k.props.children,j.mode,$,k.key),$.return=j,j=$):($=Jc(k.type,k.key,k.props,null,j.mode,$),al($,k),$.return=j,j=$)}return v(j);case J:e:{for(ce=k.key;x!==null;){if(x.key===ce)if(x.tag===4&&x.stateNode.containerInfo===k.containerInfo&&x.stateNode.implementation===k.implementation){r(j,x.sibling),$=d(x,k.children||[]),$.return=j,j=$;break e}else{r(j,x);break}else i(j,x);x=x.sibling}$=Rh(k,j.mode,$),$.return=j,j=$}return v(j);case w:return k=qa(k),Ze(j,x,k,$)}if(Ut(k))return ae(j,x,k,$);if(P(k)){if(ce=P(k),typeof ce!="function")throw Error(a(150));return k=ce.call(k),he(j,x,k,$)}if(typeof k.then=="function")return Ze(j,x,su(k),$);if(k.$$typeof===pe)return Ze(j,x,eu(j,k),$);au(j,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,x!==null&&x.tag===6?(r(j,x.sibling),$=d(x,k),$.return=j,j=$):(r(j,x),$=bh(k,j.mode,$),$.return=j,j=$),v(j)):r(j,x)}return function(j,x,k,$){try{sl=0;var ce=Ze(j,x,k,$);return kr=null,ce}catch(le){if(le===Lr||le===nu)throw le;var ze=Rn(29,le,null,j.mode);return ze.lanes=$,ze.return=j,ze}}}var Fa=zg(!0),qg=zg(!1),ks=!1;function kh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uh(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Us(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Bs(t,i,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var d=l.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),l.pending=i,i=Xc(t),bg(t,null,r),i}return Yc(t,l,i,r),Xc(t)}function rl(t,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,r|=l,i.lanes=r,vs(t,r)}}function Bh(t,i){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var d=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};h===null?d=h=v:h=h.next=v,r=r.next}while(r!==null);h===null?d=h=i:h=h.next=i}else d=h=i;r={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=i:t.next=i,r.lastBaseUpdate=i}var zh=!1;function ol(){if(zh){var t=Pr;if(t!==null)throw t}}function ll(t,i,r,l){zh=!1;var d=t.updateQueue;ks=!1;var h=d.firstBaseUpdate,v=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var R=T,U=R.next;R.next=null,v===null?h=U:v.next=U,v=R;var F=t.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==v&&(T===null?F.firstBaseUpdate=U:T.next=U,F.lastBaseUpdate=R))}if(h!==null){var K=d.baseState;v=0,F=U=R=null,T=h;do{var B=T.lane&-536870913,z=B!==T.lane;if(z?(De&B)===B:(l&B)===B){B!==0&&B===Vr&&(zh=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ae=t,he=T;B=i;var Ze=r;switch(he.tag){case 1:if(ae=he.payload,typeof ae=="function"){K=ae.call(Ze,K,B);break e}K=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=he.payload,B=typeof ae=="function"?ae.call(Ze,K,B):ae,B==null)break e;K=b({},K,B);break e;case 2:ks=!0}}B=T.callback,B!==null&&(t.flags|=64,z&&(t.flags|=8192),z=d.callbacks,z===null?d.callbacks=[B]:z.push(B))}else z={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(U=F=z,R=K):F=F.next=z,v|=B;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;z=T,T=z.next,z.next=null,d.lastBaseUpdate=z,d.shared.pending=null}}while(!0);F===null&&(R=K),d.baseState=R,d.firstBaseUpdate=U,d.lastBaseUpdate=F,h===null&&(d.shared.lanes=0),Gs|=v,t.lanes=v,t.memoizedState=K}}function Hg(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function Fg(t,i){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Hg(r[t],i)}var Ur=D(null),ru=D(0);function Gg(t,i){t=Xi,Z(ru,t),Z(Ur,i),Xi=t|i.baseLanes}function qh(){Z(ru,Xi),Z(Ur,Ur.current)}function Hh(){Xi=ru.current,Q(Ur),Q(ru)}var In=D(null),Hn=null;function zs(t){var i=t.alternate;Z(yt,yt.current&1),Z(In,t),Hn===null&&(i===null||Ur.current!==null||i.memoizedState!==null)&&(Hn=t)}function Fh(t){Z(yt,yt.current),Z(In,t),Hn===null&&(Hn=t)}function Qg(t){t.tag===22?(Z(yt,yt.current),Z(In,t),Hn===null&&(Hn=t)):qs()}function qs(){Z(yt,yt.current),Z(In,In.current)}function Cn(t){Q(In),Hn===t&&(Hn=null),Q(yt)}var yt=D(0);function ou(t){for(var i=t;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Jf(r)||Zf(r)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var qi=0,Se=null,Xe=null,At=null,lu=!1,Br=!1,Ga=!1,cu=0,cl=0,zr=null,QS=0;function ft(){throw Error(a(321))}function Gh(t,i){if(i===null)return!1;for(var r=0;r<i.length&&r<t.length;r++)if(!bn(t[r],i[r]))return!1;return!0}function Qh(t,i,r,l,d,h){return qi=h,Se=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=t===null||t.memoizedState===null?Ny:lf,Ga=!1,h=r(l,d),Ga=!1,Br&&(h=Kg(i,r,l,d)),$g(t),h}function $g(t){G.H=hl;var i=Xe!==null&&Xe.next!==null;if(qi=0,At=Xe=Se=null,lu=!1,cl=0,zr=null,i)throw Error(a(300));t===null||St||(t=t.dependencies,t!==null&&Wc(t)&&(St=!0))}function Kg(t,i,r,l){Se=t;var d=0;do{if(Br&&(zr=null),cl=0,Br=!1,25<=d)throw Error(a(301));if(d+=1,At=Xe=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}G.H=xy,h=i(r,l)}while(Br);return h}function $S(){var t=G.H,i=t.useState()[0];return i=typeof i.then=="function"?ul(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Se.flags|=1024),i}function $h(){var t=cu!==0;return cu=0,t}function Kh(t,i,r){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~r}function Yh(t){if(lu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}lu=!1}qi=0,At=Xe=Se=null,Br=!1,cl=cu=0,zr=null}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Se.memoizedState=At=t:At=At.next=t,At}function vt(){if(Xe===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=At===null?Se.memoizedState:At.next;if(i!==null)At=i,Xe=t;else{if(t===null)throw Se.alternate===null?Error(a(467)):Error(a(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},At===null?Se.memoizedState=At=t:At=At.next=t}return At}function uu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(t){var i=cl;return cl+=1,zr===null&&(zr=[]),t=kg(zr,t,i),i=Se,(At===null?i.memoizedState:At.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?Ny:lf),t}function du(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ul(t);if(t.$$typeof===pe)return Gt(t)}throw Error(a(438,String(t)))}function Xh(t){var i=null,r=Se.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var l=Se.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=uu(),Se.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(t),l=0;l<t;l++)r[l]=O;return i.index++,r}function Hi(t,i){return typeof i=="function"?i(t):i}function hu(t){var i=vt();return Jh(i,Xe,t)}function Jh(t,i,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var d=t.baseQueue,h=l.pending;if(h!==null){if(d!==null){var v=d.next;d.next=h.next,h.next=v}i.baseQueue=d=h,l.pending=null}if(h=t.baseState,d===null)t.memoizedState=h;else{i=d.next;var T=v=null,R=null,U=i,F=!1;do{var K=U.lane&-536870913;if(K!==U.lane?(De&K)===K:(qi&K)===K){var B=U.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),K===Vr&&(F=!0);else if((qi&B)===B){U=U.next,B===Vr&&(F=!0);continue}else K={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},R===null?(T=R=K,v=h):R=R.next=K,Se.lanes|=B,Gs|=B;K=U.action,Ga&&r(h,K),h=U.hasEagerState?U.eagerState:r(h,K)}else B={lane:K,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},R===null?(T=R=B,v=h):R=R.next=B,Se.lanes|=K,Gs|=K;U=U.next}while(U!==null&&U!==i);if(R===null?v=h:R.next=T,!bn(h,t.memoizedState)&&(St=!0,F&&(r=Pr,r!==null)))throw r;t.memoizedState=h,t.baseState=v,t.baseQueue=R,l.lastRenderedState=h}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Zh(t){var i=vt(),r=i.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,d=r.pending,h=i.memoizedState;if(d!==null){r.pending=null;var v=d=d.next;do h=t(h,v.action),v=v.next;while(v!==d);bn(h,i.memoizedState)||(St=!0),i.memoizedState=h,i.baseQueue===null&&(i.baseState=h),r.lastRenderedState=h}return[h,l]}function Yg(t,i,r){var l=Se,d=vt(),h=Ve;if(h){if(r===void 0)throw Error(a(407));r=r()}else r=i();var v=!bn((Xe||d).memoizedState,r);if(v&&(d.memoizedState=r,St=!0),d=d.queue,tf(Zg.bind(null,l,d,t),[t]),d.getSnapshot!==i||v||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,qr(9,{destroy:void 0},Jg.bind(null,l,d,r,i),null),We===null)throw Error(a(349));h||(qi&127)!==0||Xg(l,i,r)}return r}function Xg(t,i,r){t.flags|=16384,t={getSnapshot:i,value:r},i=Se.updateQueue,i===null?(i=uu(),Se.updateQueue=i,i.stores=[t]):(r=i.stores,r===null?i.stores=[t]:r.push(t))}function Jg(t,i,r,l){i.value=r,i.getSnapshot=l,Wg(i)&&ey(t)}function Zg(t,i,r){return r(function(){Wg(i)&&ey(t)})}function Wg(t){var i=t.getSnapshot;t=t.value;try{var r=i();return!bn(t,r)}catch{return!0}}function ey(t){var i=Pa(t,2);i!==null&&En(i,t,2)}function Wh(t){var i=hn();if(typeof t=="function"){var r=t;if(t=r(),Ga){jn(!0);try{r()}finally{jn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:t},i}function ty(t,i,r,l){return t.baseState=r,Jh(t,Xe,typeof l=="function"?l:Hi)}function KS(t,i,r,l,d){if(pu(t))throw Error(a(485));if(t=i.action,t!==null){var h={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){h.listeners.push(v)}};G.T!==null?r(!0):h.isTransition=!1,l(h),r=i.pending,r===null?(h.next=i.pending=h,ny(i,h)):(h.next=r.next,i.pending=r.next=h)}}function ny(t,i){var r=i.action,l=i.payload,d=t.state;if(i.isTransition){var h=G.T,v={};G.T=v;try{var T=r(d,l),R=G.S;R!==null&&R(v,T),iy(t,i,T)}catch(U){ef(t,i,U)}finally{h!==null&&v.types!==null&&(h.types=v.types),G.T=h}}else try{h=r(d,l),iy(t,i,h)}catch(U){ef(t,i,U)}}function iy(t,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){sy(t,i,l)},function(l){return ef(t,i,l)}):sy(t,i,r)}function sy(t,i,r){i.status="fulfilled",i.value=r,ay(i),t.state=r,i=t.pending,i!==null&&(r=i.next,r===i?t.pending=null:(r=r.next,i.next=r,ny(t,r)))}function ef(t,i,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=r,ay(i),i=i.next;while(i!==l)}t.action=null}function ay(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ry(t,i){return i}function oy(t,i){if(Ve){var r=We.formState;if(r!==null){e:{var l=Se;if(Ve){if(tt){t:{for(var d=tt,h=qn;d.nodeType!==8;){if(!h){d=null;break t}if(d=Fn(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){tt=Fn(d.nextSibling),l=d.data==="F!";break e}}Ps(l)}l=!1}l&&(i=r[0])}}return r=hn(),r.memoizedState=r.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ry,lastRenderedState:i},r.queue=l,r=Ry.bind(null,Se,l),l.dispatch=r,l=Wh(!1),h=of.bind(null,Se,!1,l.queue),l=hn(),d={state:i,dispatch:null,action:t,pending:null},l.queue=d,r=KS.bind(null,Se,d,h,r),d.dispatch=r,l.memoizedState=t,[i,r,!1]}function ly(t){var i=vt();return cy(i,Xe,t)}function cy(t,i,r){if(i=Jh(t,i,ry)[0],t=hu(Hi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ul(i)}catch(v){throw v===Lr?nu:v}else l=i;i=vt();var d=i.queue,h=d.dispatch;return r!==i.memoizedState&&(Se.flags|=2048,qr(9,{destroy:void 0},YS.bind(null,d,r),null)),[l,h,t]}function YS(t,i){t.action=i}function uy(t){var i=vt(),r=Xe;if(r!==null)return cy(i,r,t);vt(),i=i.memoizedState,r=vt();var l=r.queue.dispatch;return r.memoizedState=t,[i,l,!1]}function qr(t,i,r,l){return t={tag:t,create:r,deps:l,inst:i,next:null},i=Se.updateQueue,i===null&&(i=uu(),Se.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,i.lastEffect=t),t}function dy(){return vt().memoizedState}function fu(t,i,r,l){var d=hn();Se.flags|=t,d.memoizedState=qr(1|i,{destroy:void 0},r,l===void 0?null:l)}function mu(t,i,r,l){var d=vt();l=l===void 0?null:l;var h=d.memoizedState.inst;Xe!==null&&l!==null&&Gh(l,Xe.memoizedState.deps)?d.memoizedState=qr(i,h,r,l):(Se.flags|=t,d.memoizedState=qr(1|i,h,r,l))}function hy(t,i){fu(8390656,8,t,i)}function tf(t,i){mu(2048,8,t,i)}function XS(t){Se.flags|=4;var i=Se.updateQueue;if(i===null)i=uu(),Se.updateQueue=i,i.events=[t];else{var r=i.events;r===null?i.events=[t]:r.push(t)}}function fy(t){var i=vt().memoizedState;return XS({ref:i,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function my(t,i){return mu(4,2,t,i)}function py(t,i){return mu(4,4,t,i)}function gy(t,i){if(typeof i=="function"){t=t();var r=i(t);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function yy(t,i,r){r=r!=null?r.concat([t]):null,mu(4,4,gy.bind(null,i,t),r)}function nf(){}function vy(t,i){var r=vt();i=i===void 0?null:i;var l=r.memoizedState;return i!==null&&Gh(i,l[1])?l[0]:(r.memoizedState=[t,i],t)}function _y(t,i){var r=vt();i=i===void 0?null:i;var l=r.memoizedState;if(i!==null&&Gh(i,l[1]))return l[0];if(l=t(),Ga){jn(!0);try{t()}finally{jn(!1)}}return r.memoizedState=[l,i],l}function sf(t,i,r){return r===void 0||(qi&1073741824)!==0&&(De&261930)===0?t.memoizedState=i:(t.memoizedState=r,t=Ev(),Se.lanes|=t,Gs|=t,r)}function Ey(t,i,r,l){return bn(r,i)?r:Ur.current!==null?(t=sf(t,r,l),bn(t,i)||(St=!0),t):(qi&42)===0||(qi&1073741824)!==0&&(De&261930)===0?(St=!0,t.memoizedState=r):(t=Ev(),Se.lanes|=t,Gs|=t,i)}function Ty(t,i,r,l,d){var h=te.p;te.p=h!==0&&8>h?h:8;var v=G.T,T={};G.T=T,of(t,!1,i,r);try{var R=d(),U=G.S;if(U!==null&&U(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=GS(R,l);dl(t,i,F,Dn(t))}else dl(t,i,l,Dn(t))}catch(K){dl(t,i,{then:function(){},status:"rejected",reason:K},Dn())}finally{te.p=h,v!==null&&T.types!==null&&(v.types=T.types),G.T=v}}function JS(){}function af(t,i,r,l){if(t.tag!==5)throw Error(a(476));var d=Ay(t).queue;Ty(t,d,i,ue,r===null?JS:function(){return Sy(t),r(l)})}function Ay(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:ue},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:r},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Sy(t){var i=Ay(t);i.next===null&&(i=t.alternate.memoizedState),dl(t,i.next.queue,{},Dn())}function rf(){return Gt(Cl)}function wy(){return vt().memoizedState}function by(){return vt().memoizedState}function ZS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var r=Dn();t=Us(r);var l=Bs(i,t,r);l!==null&&(En(l,i,r),rl(l,i,r)),i={cache:jh()},t.payload=i;return}i=i.return}}function WS(t,i,r){var l=Dn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},pu(t)?Iy(i,r):(r=Sh(t,i,r,l),r!==null&&(En(r,t,l),Cy(r,i,l)))}function Ry(t,i,r){var l=Dn();dl(t,i,r,l)}function dl(t,i,r,l){var d={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(pu(t))Iy(i,d);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=i.lastRenderedReducer,h!==null))try{var v=i.lastRenderedState,T=h(v,r);if(d.hasEagerState=!0,d.eagerState=T,bn(T,v))return Yc(t,i,d,0),We===null&&Kc(),!1}catch{}if(r=Sh(t,i,d,l),r!==null)return En(r,t,l),Cy(r,i,l),!0}return!1}function of(t,i,r,l){if(l={lane:2,revertLane:Uf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},pu(t)){if(i)throw Error(a(479))}else i=Sh(t,r,l,2),i!==null&&En(i,t,2)}function pu(t){var i=t.alternate;return t===Se||i!==null&&i===Se}function Iy(t,i){Br=lu=!0;var r=t.pending;r===null?i.next=i:(i.next=r.next,r.next=i),t.pending=i}function Cy(t,i,r){if((r&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,r|=l,i.lanes=r,vs(t,r)}}var hl={readContext:Gt,use:du,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};hl.useEffectEvent=ft;var Ny={readContext:Gt,use:du,useCallback:function(t,i){return hn().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:hy,useImperativeHandle:function(t,i,r){r=r!=null?r.concat([t]):null,fu(4194308,4,gy.bind(null,i,t),r)},useLayoutEffect:function(t,i){return fu(4194308,4,t,i)},useInsertionEffect:function(t,i){fu(4,2,t,i)},useMemo:function(t,i){var r=hn();i=i===void 0?null:i;var l=t();if(Ga){jn(!0);try{t()}finally{jn(!1)}}return r.memoizedState=[l,i],l},useReducer:function(t,i,r){var l=hn();if(r!==void 0){var d=r(i);if(Ga){jn(!0);try{r(i)}finally{jn(!1)}}}else d=i;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=WS.bind(null,Se,t),[l.memoizedState,t]},useRef:function(t){var i=hn();return t={current:t},i.memoizedState=t},useState:function(t){t=Wh(t);var i=t.queue,r=Ry.bind(null,Se,i);return i.dispatch=r,[t.memoizedState,r]},useDebugValue:nf,useDeferredValue:function(t,i){var r=hn();return sf(r,t,i)},useTransition:function(){var t=Wh(!1);return t=Ty.bind(null,Se,t.queue,!0,!1),hn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,r){var l=Se,d=hn();if(Ve){if(r===void 0)throw Error(a(407));r=r()}else{if(r=i(),We===null)throw Error(a(349));(De&127)!==0||Xg(l,i,r)}d.memoizedState=r;var h={value:r,getSnapshot:i};return d.queue=h,hy(Zg.bind(null,l,h,t),[t]),l.flags|=2048,qr(9,{destroy:void 0},Jg.bind(null,l,h,r,i),null),r},useId:function(){var t=hn(),i=We.identifierPrefix;if(Ve){var r=gi,l=pi;r=(l&~(1<<32-on(l)-1)).toString(32)+r,i="_"+i+"R_"+r,r=cu++,0<r&&(i+="H"+r.toString(32)),i+="_"}else r=QS++,i="_"+i+"r_"+r.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:rf,useFormState:oy,useActionState:oy,useOptimistic:function(t){var i=hn();i.memoizedState=i.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=of.bind(null,Se,!0,r),r.dispatch=i,[t,i]},useMemoCache:Xh,useCacheRefresh:function(){return hn().memoizedState=ZS.bind(null,Se)},useEffectEvent:function(t){var i=hn(),r={impl:t};return i.memoizedState=r,function(){if((Fe&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},lf={readContext:Gt,use:du,useCallback:vy,useContext:Gt,useEffect:tf,useImperativeHandle:yy,useInsertionEffect:my,useLayoutEffect:py,useMemo:_y,useReducer:hu,useRef:dy,useState:function(){return hu(Hi)},useDebugValue:nf,useDeferredValue:function(t,i){var r=vt();return Ey(r,Xe.memoizedState,t,i)},useTransition:function(){var t=hu(Hi)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:ul(t),i]},useSyncExternalStore:Yg,useId:wy,useHostTransitionStatus:rf,useFormState:ly,useActionState:ly,useOptimistic:function(t,i){var r=vt();return ty(r,Xe,t,i)},useMemoCache:Xh,useCacheRefresh:by};lf.useEffectEvent=fy;var xy={readContext:Gt,use:du,useCallback:vy,useContext:Gt,useEffect:tf,useImperativeHandle:yy,useInsertionEffect:my,useLayoutEffect:py,useMemo:_y,useReducer:Zh,useRef:dy,useState:function(){return Zh(Hi)},useDebugValue:nf,useDeferredValue:function(t,i){var r=vt();return Xe===null?sf(r,t,i):Ey(r,Xe.memoizedState,t,i)},useTransition:function(){var t=Zh(Hi)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:ul(t),i]},useSyncExternalStore:Yg,useId:wy,useHostTransitionStatus:rf,useFormState:uy,useActionState:uy,useOptimistic:function(t,i){var r=vt();return Xe!==null?ty(r,Xe,t,i):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Xh,useCacheRefresh:by};xy.useEffectEvent=fy;function cf(t,i,r,l){i=t.memoizedState,r=r(l,i),r=r==null?i:b({},i,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var uf={enqueueSetState:function(t,i,r){t=t._reactInternals;var l=Dn(),d=Us(l);d.payload=i,r!=null&&(d.callback=r),i=Bs(t,d,l),i!==null&&(En(i,t,l),rl(i,t,l))},enqueueReplaceState:function(t,i,r){t=t._reactInternals;var l=Dn(),d=Us(l);d.tag=1,d.payload=i,r!=null&&(d.callback=r),i=Bs(t,d,l),i!==null&&(En(i,t,l),rl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var r=Dn(),l=Us(r);l.tag=2,i!=null&&(l.callback=i),i=Bs(t,l,r),i!==null&&(En(i,t,r),rl(i,t,r))}};function Dy(t,i,r,l,d,h,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,v):i.prototype&&i.prototype.isPureReactComponent?!Zo(r,l)||!Zo(d,h):!0}function Oy(t,i,r,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,l),i.state!==t&&uf.enqueueReplaceState(i,i.state,null)}function Qa(t,i){var r=i;if("ref"in i){r={};for(var l in i)l!=="ref"&&(r[l]=i[l])}if(t=t.defaultProps){r===i&&(r=b({},r));for(var d in t)r[d]===void 0&&(r[d]=t[d])}return r}function My(t){$c(t)}function jy(t){console.error(t)}function Vy(t){$c(t)}function gu(t,i){try{var r=t.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Py(t,i,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function df(t,i,r){return r=Us(r),r.tag=3,r.payload={element:null},r.callback=function(){gu(t,i)},r}function Ly(t){return t=Us(t),t.tag=3,t}function ky(t,i,r,l){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var h=l.value;t.payload=function(){return d(h)},t.callback=function(){Py(i,r,l)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Py(i,r,l),typeof d!="function"&&(Qs===null?Qs=new Set([this]):Qs.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function ew(t,i,r,l,d){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=r.alternate,i!==null&&jr(i,r,d,!0),r=In.current,r!==null){switch(r.tag){case 31:case 13:return Hn===null?Cu():r.alternate===null&&mt===0&&(mt=3),r.flags&=-257,r.flags|=65536,r.lanes=d,l===iu?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([l]):i.add(l),Pf(t,l,d)),!1;case 22:return r.flags|=65536,l===iu?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([l]):r.add(l)),Pf(t,l,d)),!1}throw Error(a(435,r.tag))}return Pf(t,l,d),Cu(),!1}if(Ve)return i=In.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,l!==Nh&&(t=Error(a(422),{cause:l}),tl(Un(t,r)))):(l!==Nh&&(i=Error(a(423),{cause:l}),tl(Un(i,r))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=Un(l,r),d=df(t.stateNode,l,d),Bh(t,d),mt!==4&&(mt=2)),!1;var h=Error(a(520),{cause:l});if(h=Un(h,r),El===null?El=[h]:El.push(h),mt!==4&&(mt=2),i===null)return!0;l=Un(l,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,t=d&-d,r.lanes|=t,t=df(r.stateNode,l,t),Bh(r,t),!1;case 1:if(i=r.type,h=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Qs===null||!Qs.has(h))))return r.flags|=65536,d&=-d,r.lanes|=d,d=Ly(d),ky(d,t,r,l),Bh(r,d),!1}r=r.return}while(r!==null);return!1}var hf=Error(a(461)),St=!1;function Qt(t,i,r,l){i.child=t===null?qg(i,null,r,l):Fa(i,t.child,r,l)}function Uy(t,i,r,l,d){r=r.render;var h=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ba(i),l=Qh(t,i,r,v,h,d),T=$h(),t!==null&&!St?(Kh(t,i,d),Fi(t,i,d)):(Ve&&T&&Ih(i),i.flags|=1,Qt(t,i,l,d),i.child)}function By(t,i,r,l,d){if(t===null){var h=r.type;return typeof h=="function"&&!wh(h)&&h.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=h,zy(t,i,h,l,d)):(t=Jc(r.type,null,l,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(h=t.child,!Ef(t,d)){var v=h.memoizedProps;if(r=r.compare,r=r!==null?r:Zo,r(v,l)&&t.ref===i.ref)return Fi(t,i,d)}return i.flags|=1,t=ki(h,l),t.ref=i.ref,t.return=i,i.child=t}function zy(t,i,r,l,d){if(t!==null){var h=t.memoizedProps;if(Zo(h,l)&&t.ref===i.ref)if(St=!1,i.pendingProps=l=h,Ef(t,d))(t.flags&131072)!==0&&(St=!0);else return i.lanes=t.lanes,Fi(t,i,d)}return ff(t,i,r,l,d)}function qy(t,i,r,l){var d=l.children,h=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(h=h!==null?h.baseLanes|r:r,t!==null){for(l=i.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~h}else l=0,i.child=null;return Hy(t,i,h,r,l)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&tu(i,h!==null?h.cachePool:null),h!==null?Gg(i,h):qh(),Qg(i);else return l=i.lanes=536870912,Hy(t,i,h!==null?h.baseLanes|r:r,r,l)}else h!==null?(tu(i,h.cachePool),Gg(i,h),qs(),i.memoizedState=null):(t!==null&&tu(i,null),qh(),qs());return Qt(t,i,d,r),i.child}function fl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Hy(t,i,r,l,d){var h=Ph();return h=h===null?null:{parent:Tt._currentValue,pool:h},i.memoizedState={baseLanes:r,cachePool:h},t!==null&&tu(i,null),qh(),Qg(i),t!==null&&jr(t,i,l,!0),i.childLanes=d,null}function yu(t,i){return i=_u({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Fy(t,i,r){return Fa(i,t.child,null,r),t=yu(i,i.pendingProps),t.flags|=2,Cn(i),i.memoizedState=null,t}function tw(t,i,r){var l=i.pendingProps,d=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ve){if(l.mode==="hidden")return t=yu(i,l),i.lanes=536870912,fl(null,t);if(Fh(i),(t=tt)?(t=n_(t,qn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:js!==null?{id:pi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},r=Ig(t),r.return=i,i.child=r,Ft=i,tt=null)):t=null,t===null)throw Ps(i);return i.lanes=536870912,null}return yu(i,l)}var h=t.memoizedState;if(h!==null){var v=h.dehydrated;if(Fh(i),d)if(i.flags&256)i.flags&=-257,i=Fy(t,i,r);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(a(558));else if(St||jr(t,i,r,!1),d=(r&t.childLanes)!==0,St||d){if(l=We,l!==null&&(v=_s(l,r),v!==0&&v!==h.retryLane))throw h.retryLane=v,Pa(t,v),En(l,t,v),hf;Cu(),i=Fy(t,i,r)}else t=h.treeContext,tt=Fn(v.nextSibling),Ft=i,Ve=!0,Vs=null,qn=!1,t!==null&&xg(i,t),i=yu(i,l),i.flags|=4096;return i}return t=ki(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function vu(t,i){var r=i.ref;if(r===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(i.flags|=4194816)}}function ff(t,i,r,l,d){return Ba(i),r=Qh(t,i,r,l,void 0,d),l=$h(),t!==null&&!St?(Kh(t,i,d),Fi(t,i,d)):(Ve&&l&&Ih(i),i.flags|=1,Qt(t,i,r,d),i.child)}function Gy(t,i,r,l,d,h){return Ba(i),i.updateQueue=null,r=Kg(i,l,r,d),$g(t),l=$h(),t!==null&&!St?(Kh(t,i,h),Fi(t,i,h)):(Ve&&l&&Ih(i),i.flags|=1,Qt(t,i,r,h),i.child)}function Qy(t,i,r,l,d){if(Ba(i),i.stateNode===null){var h=xr,v=r.contextType;typeof v=="object"&&v!==null&&(h=Gt(v)),h=new r(l,h),i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=uf,i.stateNode=h,h._reactInternals=i,h=i.stateNode,h.props=l,h.state=i.memoizedState,h.refs={},kh(i),v=r.contextType,h.context=typeof v=="object"&&v!==null?Gt(v):xr,h.state=i.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(cf(i,r,v,l),h.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(v=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),v!==h.state&&uf.enqueueReplaceState(h,h.state,null),ll(i,l,h,d),ol(),h.state=i.memoizedState),typeof h.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){h=i.stateNode;var T=i.memoizedProps,R=Qa(r,T);h.props=R;var U=h.context,F=r.contextType;v=xr,typeof F=="object"&&F!==null&&(v=Gt(F));var K=r.getDerivedStateFromProps;F=typeof K=="function"||typeof h.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,F||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T||U!==v)&&Oy(i,h,l,v),ks=!1;var B=i.memoizedState;h.state=B,ll(i,l,h,d),ol(),U=i.memoizedState,T||B!==U||ks?(typeof K=="function"&&(cf(i,r,K,l),U=i.memoizedState),(R=ks||Dy(i,r,R,l,B,U,v))?(F||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(i.flags|=4194308)):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=U),h.props=l,h.state=U,h.context=v,l=R):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{h=i.stateNode,Uh(t,i),v=i.memoizedProps,F=Qa(r,v),h.props=F,K=i.pendingProps,B=h.context,U=r.contextType,R=xr,typeof U=="object"&&U!==null&&(R=Gt(U)),T=r.getDerivedStateFromProps,(U=typeof T=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v!==K||B!==R)&&Oy(i,h,l,R),ks=!1,B=i.memoizedState,h.state=B,ll(i,l,h,d),ol();var z=i.memoizedState;v!==K||B!==z||ks||t!==null&&t.dependencies!==null&&Wc(t.dependencies)?(typeof T=="function"&&(cf(i,r,T,l),z=i.memoizedState),(F=ks||Dy(i,r,F,l,B,z,R)||t!==null&&t.dependencies!==null&&Wc(t.dependencies))?(U||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,z,R),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,z,R)),typeof h.componentDidUpdate=="function"&&(i.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof h.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=z),h.props=l,h.state=z,h.context=R,l=F):(typeof h.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),l=!1)}return h=l,vu(t,i),l=(i.flags&128)!==0,h||l?(h=i.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:h.render(),i.flags|=1,t!==null&&l?(i.child=Fa(i,t.child,null,d),i.child=Fa(i,null,r,d)):Qt(t,i,r,d),i.memoizedState=h.state,t=i.child):t=Fi(t,i,d),t}function $y(t,i,r,l){return ka(),i.flags|=256,Qt(t,i,r,l),i.child}var mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pf(t){return{baseLanes:t,cachePool:Pg()}}function gf(t,i,r){return t=t!==null?t.childLanes&~r:0,i&&(t|=xn),t}function Ky(t,i,r){var l=i.pendingProps,d=!1,h=(i.flags&128)!==0,v;if((v=h)||(v=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),v&&(d=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ve){if(d?zs(i):qs(),(t=tt)?(t=n_(t,qn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:js!==null?{id:pi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},r=Ig(t),r.return=i,i.child=r,Ft=i,tt=null)):t=null,t===null)throw Ps(i);return Zf(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,d?(qs(),d=i.mode,T=_u({mode:"hidden",children:T},d),l=La(l,d,r,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=pf(r),l.childLanes=gf(t,v,r),i.memoizedState=mf,fl(null,l)):(zs(i),yf(i,T))}var R=t.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(h)i.flags&256?(zs(i),i.flags&=-257,i=vf(t,i,r)):i.memoizedState!==null?(qs(),i.child=t.child,i.flags|=128,i=null):(qs(),T=l.fallback,d=i.mode,l=_u({mode:"visible",children:l.children},d),T=La(T,d,r,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Fa(i,t.child,null,r),l=i.child,l.memoizedState=pf(r),l.childLanes=gf(t,v,r),i.memoizedState=mf,i=fl(null,l));else if(zs(i),Zf(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var U=v.dgst;v=U,l=Error(a(419)),l.stack="",l.digest=v,tl({value:l,source:null,stack:null}),i=vf(t,i,r)}else if(St||jr(t,i,r,!1),v=(r&t.childLanes)!==0,St||v){if(v=We,v!==null&&(l=_s(v,r),l!==0&&l!==R.retryLane))throw R.retryLane=l,Pa(t,l),En(v,t,l),hf;Jf(T)||Cu(),i=vf(t,i,r)}else Jf(T)?(i.flags|=192,i.child=t.child,i=null):(t=R.treeContext,tt=Fn(T.nextSibling),Ft=i,Ve=!0,Vs=null,qn=!1,t!==null&&xg(i,t),i=yf(i,l.children),i.flags|=4096);return i}return d?(qs(),T=l.fallback,d=i.mode,R=t.child,U=R.sibling,l=ki(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,U!==null?T=ki(U,T):(T=La(T,d,r,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,fl(null,l),l=i.child,T=t.child.memoizedState,T===null?T=pf(r):(d=T.cachePool,d!==null?(R=Tt._currentValue,d=d.parent!==R?{parent:R,pool:R}:d):d=Pg(),T={baseLanes:T.baseLanes|r,cachePool:d}),l.memoizedState=T,l.childLanes=gf(t,v,r),i.memoizedState=mf,fl(t.child,l)):(zs(i),r=t.child,t=r.sibling,r=ki(r,{mode:"visible",children:l.children}),r.return=i,r.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=r,i.memoizedState=null,r)}function yf(t,i){return i=_u({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function _u(t,i){return t=Rn(22,t,null,i),t.lanes=0,t}function vf(t,i,r){return Fa(i,t.child,null,r),t=yf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Yy(t,i,r){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Oh(t.return,i,r)}function _f(t,i,r,l,d,h){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:d,treeForkCount:h}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=r,v.tailMode=d,v.treeForkCount=h)}function Xy(t,i,r){var l=i.pendingProps,d=l.revealOrder,h=l.tail;l=l.children;var v=yt.current,T=(v&2)!==0;if(T?(v=v&1|2,i.flags|=128):v&=1,Z(yt,v),Qt(t,i,l,r),l=Ve?el:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yy(t,r,i);else if(t.tag===19)Yy(t,r,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(r=i.child,d=null;r!==null;)t=r.alternate,t!==null&&ou(t)===null&&(d=r),r=r.sibling;r=d,r===null?(d=i.child,i.child=null):(d=r.sibling,r.sibling=null),_f(i,!1,d,r,h,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&ou(t)===null){i.child=d;break}t=d.sibling,d.sibling=r,r=d,d=t}_f(i,!0,r,null,h,l);break;case"together":_f(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Fi(t,i,r){if(t!==null&&(i.dependencies=t.dependencies),Gs|=i.lanes,(r&i.childLanes)===0)if(t!==null){if(jr(t,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,r=ki(t,t.pendingProps),i.child=r,r.return=i;t.sibling!==null;)t=t.sibling,r=r.sibling=ki(t,t.pendingProps),r.return=i;r.sibling=null}return i.child}function Ef(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Wc(t)))}function nw(t,i,r){switch(i.tag){case 3:Bt(i,i.stateNode.containerInfo),Ls(i,Tt,t.memoizedState.cache),ka();break;case 27:case 5:ri(i);break;case 4:Bt(i,i.stateNode.containerInfo);break;case 10:Ls(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Fh(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(zs(i),i.flags|=128,null):(r&i.child.childLanes)!==0?Ky(t,i,r):(zs(i),t=Fi(t,i,r),t!==null?t.sibling:null);zs(i);break;case 19:var d=(t.flags&128)!==0;if(l=(r&i.childLanes)!==0,l||(jr(t,i,r,!1),l=(r&i.childLanes)!==0),d){if(l)return Xy(t,i,r);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Z(yt,yt.current),l)break;return null;case 22:return i.lanes=0,qy(t,i,r,i.pendingProps);case 24:Ls(i,Tt,t.memoizedState.cache)}return Fi(t,i,r)}function Jy(t,i,r){if(t!==null)if(t.memoizedProps!==i.pendingProps)St=!0;else{if(!Ef(t,r)&&(i.flags&128)===0)return St=!1,nw(t,i,r);St=(t.flags&131072)!==0}else St=!1,Ve&&(i.flags&1048576)!==0&&Ng(i,el,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=qa(i.elementType),i.type=t,typeof t=="function")wh(t)?(l=Qa(t,l),i.tag=1,i=Qy(null,i,t,l,r)):(i.tag=0,i=ff(null,i,t,l,r));else{if(t!=null){var d=t.$$typeof;if(d===Le){i.tag=11,i=Uy(null,i,t,l,r);break e}else if(d===N){i.tag=14,i=By(null,i,t,l,r);break e}}throw i=Ct(t)||t,Error(a(306,i,""))}}return i;case 0:return ff(t,i,i.type,i.pendingProps,r);case 1:return l=i.type,d=Qa(l,i.pendingProps),Qy(t,i,l,d,r);case 3:e:{if(Bt(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var h=i.memoizedState;d=h.element,Uh(t,i),ll(i,l,null,r);var v=i.memoizedState;if(l=v.cache,Ls(i,Tt,l),l!==h.cache&&Mh(i,[Tt],r,!0),ol(),l=v.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=$y(t,i,l,r);break e}else if(l!==d){d=Un(Error(a(424)),i),tl(d),i=$y(t,i,l,r);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,tt=Fn(t.firstChild),Ft=i,Ve=!0,Vs=null,qn=!0,r=qg(i,null,l,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ka(),l===d){i=Fi(t,i,r);break e}Qt(t,i,l,r)}i=i.child}return i;case 26:return vu(t,i),t===null?(r=l_(i.type,null,i.pendingProps,null))?i.memoizedState=r:Ve||(r=i.type,t=i.pendingProps,l=Vu(Re.current).createElement(r),l[dt]=i,l[Ht]=t,$t(l,r,t),gt(l),i.stateNode=l):i.memoizedState=l_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ri(i),t===null&&Ve&&(l=i.stateNode=a_(i.type,i.pendingProps,Re.current),Ft=i,qn=!0,d=tt,Xs(i.type)?(Wf=d,tt=Fn(l.firstChild)):tt=d),Qt(t,i,i.pendingProps.children,r),vu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ve&&((d=l=tt)&&(l=Ow(l,i.type,i.pendingProps,qn),l!==null?(i.stateNode=l,Ft=i,tt=Fn(l.firstChild),qn=!1,d=!0):d=!1),d||Ps(i)),ri(i),d=i.type,h=i.pendingProps,v=t!==null?t.memoizedProps:null,l=h.children,Kf(d,h)?l=null:v!==null&&Kf(d,v)&&(i.flags|=32),i.memoizedState!==null&&(d=Qh(t,i,$S,null,null,r),Cl._currentValue=d),vu(t,i),Qt(t,i,l,r),i.child;case 6:return t===null&&Ve&&((t=r=tt)&&(r=Mw(r,i.pendingProps,qn),r!==null?(i.stateNode=r,Ft=i,tt=null,t=!0):t=!1),t||Ps(i)),null;case 13:return Ky(t,i,r);case 4:return Bt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Fa(i,null,l,r):Qt(t,i,l,r),i.child;case 11:return Uy(t,i,i.type,i.pendingProps,r);case 7:return Qt(t,i,i.pendingProps,r),i.child;case 8:return Qt(t,i,i.pendingProps.children,r),i.child;case 12:return Qt(t,i,i.pendingProps.children,r),i.child;case 10:return l=i.pendingProps,Ls(i,i.type,l.value),Qt(t,i,l.children,r),i.child;case 9:return d=i.type._context,l=i.pendingProps.children,Ba(i),d=Gt(d),l=l(d),i.flags|=1,Qt(t,i,l,r),i.child;case 14:return By(t,i,i.type,i.pendingProps,r);case 15:return zy(t,i,i.type,i.pendingProps,r);case 19:return Xy(t,i,r);case 31:return tw(t,i,r);case 22:return qy(t,i,r,i.pendingProps);case 24:return Ba(i),l=Gt(Tt),t===null?(d=Ph(),d===null&&(d=We,h=jh(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=r),d=h),i.memoizedState={parent:l,cache:d},kh(i),Ls(i,Tt,d)):((t.lanes&r)!==0&&(Uh(t,i),ll(i,null,null,r),ol()),d=t.memoizedState,h=i.memoizedState,d.parent!==l?(d={parent:l,cache:l},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Ls(i,Tt,l)):(l=h.cache,Ls(i,Tt,l),l!==d.cache&&Mh(i,[Tt],r,!0))),Qt(t,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Gi(t){t.flags|=4}function Tf(t,i,r,l,d){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(wv())t.flags|=8192;else throw Ha=iu,Lh}else t.flags&=-16777217}function Zy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!f_(i))if(wv())t.flags|=8192;else throw Ha=iu,Lh}function Eu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?jo():536870912,t.lanes|=i,Qr|=i)}function ml(t,i){if(!Ve)switch(t.tailMode){case"hidden":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var i=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(i)for(var d=t.child;d!==null;)r|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)r|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=r,i}function iw(t,i,r){var l=i.pendingProps;switch(Ch(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(i),null;case 1:return nt(i),null;case 3:return r=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),zi(Tt),lt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Mr(i)?Gi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,xh())),nt(i),null;case 26:var d=i.type,h=i.memoizedState;return t===null?(Gi(i),h!==null?(nt(i),Zy(i,h)):(nt(i),Tf(i,d,null,l,r))):h?h!==t.memoizedState?(Gi(i),nt(i),Zy(i,h)):(nt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Gi(i),nt(i),Tf(i,d,t,l,r)),null;case 27:if(Ri(i),r=Re.current,d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Gi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return nt(i),null}t=re.current,Mr(i)?Dg(i):(t=a_(d,l,r),i.stateNode=t,Gi(i))}return nt(i),null;case 5:if(Ri(i),d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Gi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return nt(i),null}if(h=re.current,Mr(i))Dg(i);else{var v=Vu(Re.current);switch(h){case 1:h=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:h=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":h=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":h=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":h=v.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?v.createElement(d,{is:l.is}):v.createElement(d)}}h[dt]=i,h[Ht]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)h.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=h;e:switch($t(h,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Gi(i)}}return nt(i),Tf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,r),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Gi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=Re.current,Mr(i)){if(t=i.stateNode,r=i.memoizedProps,l=null,d=Ft,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[dt]=i,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Kv(t.nodeValue,r)),t||Ps(i,!0)}else t=Vu(t).createTextNode(l),t[dt]=i,i.stateNode=t}return nt(i),null;case 31:if(r=i.memoizedState,t===null||t.memoizedState!==null){if(l=Mr(i),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[dt]=i}else ka(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),t=!1}else r=xh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return i.flags&256?(Cn(i),i):(Cn(i),null);if((i.flags&128)!==0)throw Error(a(558))}return nt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Mr(i),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(a(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[dt]=i}else ka(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),d=!1}else d=xh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Cn(i),i):(Cn(i),null)}return Cn(i),(i.flags&128)!==0?(i.lanes=r,i):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=i.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==d&&(l.flags|=2048)),r!==t&&r&&(i.child.flags|=8192),Eu(i,i.updateQueue),nt(i),null);case 4:return lt(),t===null&&Hf(i.stateNode.containerInfo),nt(i),null;case 10:return zi(i.type),nt(i),null;case 19:if(Q(yt),l=i.memoizedState,l===null)return nt(i),null;if(d=(i.flags&128)!==0,h=l.rendering,h===null)if(d)ml(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(h=ou(t),h!==null){for(i.flags|=128,ml(l,!1),t=h.updateQueue,i.updateQueue=t,Eu(i,t),i.subtreeFlags=0,t=r,r=i.child;r!==null;)Rg(r,t),r=r.sibling;return Z(yt,yt.current&1|2),Ve&&Ui(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&zt()>bu&&(i.flags|=128,d=!0,ml(l,!1),i.lanes=4194304)}else{if(!d)if(t=ou(h),t!==null){if(i.flags|=128,d=!0,t=t.updateQueue,i.updateQueue=t,Eu(i,t),ml(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!Ve)return nt(i),null}else 2*zt()-l.renderingStartTime>bu&&r!==536870912&&(i.flags|=128,d=!0,ml(l,!1),i.lanes=4194304);l.isBackwards?(h.sibling=i.child,i.child=h):(t=l.last,t!==null?t.sibling=h:i.child=h,l.last=h)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=zt(),t.sibling=null,r=yt.current,Z(yt,d?r&1|2:r&1),Ve&&Ui(i,l.treeForkCount),t):(nt(i),null);case 22:case 23:return Cn(i),Hh(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(r&536870912)!==0&&(i.flags&128)===0&&(nt(i),i.subtreeFlags&6&&(i.flags|=8192)):nt(i),r=i.updateQueue,r!==null&&Eu(i,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==r&&(i.flags|=2048),t!==null&&Q(za),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),zi(Tt),nt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function sw(t,i){switch(Ch(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return zi(Tt),lt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ri(i),null;case 31:if(i.memoizedState!==null){if(Cn(i),i.alternate===null)throw Error(a(340));ka()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Cn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));ka()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Q(yt),null;case 4:return lt(),null;case 10:return zi(i.type),null;case 22:case 23:return Cn(i),Hh(),t!==null&&Q(za),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return zi(Tt),null;case 25:return null;default:return null}}function Wy(t,i){switch(Ch(i),i.tag){case 3:zi(Tt),lt();break;case 26:case 27:case 5:Ri(i);break;case 4:lt();break;case 31:i.memoizedState!==null&&Cn(i);break;case 13:Cn(i);break;case 19:Q(yt);break;case 10:zi(i.type);break;case 22:case 23:Cn(i),Hh(),t!==null&&Q(za);break;case 24:zi(Tt)}}function pl(t,i){try{var r=i.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var d=l.next;r=d;do{if((r.tag&t)===t){l=void 0;var h=r.create,v=r.inst;l=h(),v.destroy=l}r=r.next}while(r!==d)}}catch(T){Ke(i,i.return,T)}}function Hs(t,i,r){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var h=d.next;l=h;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,d=i;var R=r,U=T;try{U()}catch(F){Ke(d,R,F)}}}l=l.next}while(l!==h)}}catch(F){Ke(i,i.return,F)}}function ev(t){var i=t.updateQueue;if(i!==null){var r=t.stateNode;try{Fg(i,r)}catch(l){Ke(t,t.return,l)}}}function tv(t,i,r){r.props=Qa(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Ke(t,i,l)}}function gl(t,i){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(d){Ke(t,i,d)}}function yi(t,i){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(d){Ke(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){Ke(t,i,d)}else r.current=null}function nv(t){var i=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(d){Ke(t,t.return,d)}}function Af(t,i,r){try{var l=t.stateNode;Rw(l,t.type,r,i),l[Ht]=i}catch(d){Ke(t,t.return,d)}}function iv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xs(t.type)||t.tag===4}function Sf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wf(t,i,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(t),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=jt));else if(l!==4&&(l===27&&Xs(t.type)&&(r=t.stateNode,i=null),t=t.child,t!==null))for(wf(t,i,r),t=t.sibling;t!==null;)wf(t,i,r),t=t.sibling}function Tu(t,i,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?r.insertBefore(t,i):r.appendChild(t);else if(l!==4&&(l===27&&Xs(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Tu(t,i,r),t=t.sibling;t!==null;)Tu(t,i,r),t=t.sibling}function sv(t){var i=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);$t(i,l,r),i[dt]=t,i[Ht]=r}catch(h){Ke(t,t.return,h)}}var Qi=!1,wt=!1,bf=!1,av=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function aw(t,i){if(t=t.containerInfo,Qf=qu,t=yg(t),yh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var d=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break e}var v=0,T=-1,R=-1,U=0,F=0,K=t,B=null;t:for(;;){for(var z;K!==r||d!==0&&K.nodeType!==3||(T=v+d),K!==h||l!==0&&K.nodeType!==3||(R=v+l),K.nodeType===3&&(v+=K.nodeValue.length),(z=K.firstChild)!==null;)B=K,K=z;for(;;){if(K===t)break t;if(B===r&&++U===d&&(T=v),B===h&&++F===l&&(R=v),(z=K.nextSibling)!==null)break;K=B,B=K.parentNode}K=z}r=T===-1||R===-1?null:{start:T,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for($f={focusedElem:t,selectionRange:r},qu=!1,Lt=i;Lt!==null;)if(i=Lt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Lt=t;else for(;Lt!==null;){switch(i=Lt,h=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)d=t[r],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,r=i,d=h.memoizedProps,h=h.memoizedState,l=r.stateNode;try{var ae=Qa(r.type,d);t=l.getSnapshotBeforeUpdate(ae,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(he){Ke(r,r.return,he)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,r=t.nodeType,r===9)Xf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Xf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,Lt=t;break}Lt=i.return}}function rv(t,i,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Ki(t,r),l&4&&pl(5,r);break;case 1:if(Ki(t,r),l&4)if(t=r.stateNode,i===null)try{t.componentDidMount()}catch(v){Ke(r,r.return,v)}else{var d=Qa(r.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ke(r,r.return,v)}}l&64&&ev(r),l&512&&gl(r,r.return);break;case 3:if(Ki(t,r),l&64&&(t=r.updateQueue,t!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{Fg(t,i)}catch(v){Ke(r,r.return,v)}}break;case 27:i===null&&l&4&&sv(r);case 26:case 5:Ki(t,r),i===null&&l&4&&nv(r),l&512&&gl(r,r.return);break;case 12:Ki(t,r);break;case 31:Ki(t,r),l&4&&cv(t,r);break;case 13:Ki(t,r),l&4&&uv(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=mw.bind(null,r),jw(t,r))));break;case 22:if(l=r.memoizedState!==null||Qi,!l){i=i!==null&&i.memoizedState!==null||wt,d=Qi;var h=wt;Qi=l,(wt=i)&&!h?Yi(t,r,(r.subtreeFlags&8772)!==0):Ki(t,r),Qi=d,wt=h}break;case 30:break;default:Ki(t,r)}}function ov(t){var i=t.alternate;i!==null&&(t.alternate=null,ov(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&wa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var rt=null,gn=!1;function $i(t,i,r){for(r=r.child;r!==null;)lv(t,i,r),r=r.sibling}function lv(t,i,r){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(ms,r)}catch{}switch(r.tag){case 26:wt||yi(r,i),$i(t,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:wt||yi(r,i);var l=rt,d=gn;Xs(r.type)&&(rt=r.stateNode,gn=!1),$i(t,i,r),bl(r.stateNode),rt=l,gn=d;break;case 5:wt||yi(r,i);case 6:if(l=rt,d=gn,rt=null,$i(t,i,r),rt=l,gn=d,rt!==null)if(gn)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(r.stateNode)}catch(h){Ke(r,i,h)}else try{rt.removeChild(r.stateNode)}catch(h){Ke(r,i,h)}break;case 18:rt!==null&&(gn?(t=rt,e_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),eo(t)):e_(rt,r.stateNode));break;case 4:l=rt,d=gn,rt=r.stateNode.containerInfo,gn=!0,$i(t,i,r),rt=l,gn=d;break;case 0:case 11:case 14:case 15:Hs(2,r,i),wt||Hs(4,r,i),$i(t,i,r);break;case 1:wt||(yi(r,i),l=r.stateNode,typeof l.componentWillUnmount=="function"&&tv(r,i,l)),$i(t,i,r);break;case 21:$i(t,i,r);break;case 22:wt=(l=wt)||r.memoizedState!==null,$i(t,i,r),wt=l;break;default:$i(t,i,r)}}function cv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{eo(t)}catch(r){Ke(i,i.return,r)}}}function uv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{eo(t)}catch(r){Ke(i,i.return,r)}}function rw(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new av),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new av),i;default:throw Error(a(435,t.tag))}}function Au(t,i){var r=rw(t);i.forEach(function(l){if(!r.has(l)){r.add(l);var d=pw.bind(null,t,l);l.then(d,d)}})}function yn(t,i){var r=i.deletions;if(r!==null)for(var l=0;l<r.length;l++){var d=r[l],h=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Xs(T.type)){rt=T.stateNode,gn=!1;break e}break;case 5:rt=T.stateNode,gn=!1;break e;case 3:case 4:rt=T.stateNode.containerInfo,gn=!0;break e}T=T.return}if(rt===null)throw Error(a(160));lv(h,v,d),rt=null,gn=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)dv(i,t),i=i.sibling}var Wn=null;function dv(t,i){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yn(i,t),vn(t),l&4&&(Hs(3,t,t.return),pl(3,t),Hs(5,t,t.return));break;case 1:yn(i,t),vn(t),l&512&&(wt||r===null||yi(r,r.return)),l&64&&Qi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var d=Wn;if(yn(i,t),vn(t),l&512&&(wt||r===null||yi(r,r.return)),l&4){var h=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":h=d.getElementsByTagName("title")[0],(!h||h[xi]||h[dt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(l),d.head.insertBefore(h,d.querySelector("head > title"))),$t(h,l,r),h[dt]=t,gt(h),l=h;break e;case"link":var v=d_("link","href",d).get(l+(r.href||""));if(v){for(var T=0;T<v.length;T++)if(h=v[T],h.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&h.getAttribute("rel")===(r.rel==null?null:r.rel)&&h.getAttribute("title")===(r.title==null?null:r.title)&&h.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(T,1);break t}}h=d.createElement(l),$t(h,l,r),d.head.appendChild(h);break;case"meta":if(v=d_("meta","content",d).get(l+(r.content||""))){for(T=0;T<v.length;T++)if(h=v[T],h.getAttribute("content")===(r.content==null?null:""+r.content)&&h.getAttribute("name")===(r.name==null?null:r.name)&&h.getAttribute("property")===(r.property==null?null:r.property)&&h.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&h.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(T,1);break t}}h=d.createElement(l),$t(h,l,r),d.head.appendChild(h);break;default:throw Error(a(468,l))}h[dt]=t,gt(h),l=h}t.stateNode=l}else h_(d,t.type,t.stateNode);else t.stateNode=u_(d,l,t.memoizedProps);else h!==l?(h===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):h.count--,l===null?h_(d,t.type,t.stateNode):u_(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Af(t,t.memoizedProps,r.memoizedProps)}break;case 27:yn(i,t),vn(t),l&512&&(wt||r===null||yi(r,r.return)),r!==null&&l&4&&Af(t,t.memoizedProps,r.memoizedProps);break;case 5:if(yn(i,t),vn(t),l&512&&(wt||r===null||yi(r,r.return)),t.flags&32){d=t.stateNode;try{Ln(d,"")}catch(ae){Ke(t,t.return,ae)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,Af(t,d,r!==null?r.memoizedProps:d)),l&1024&&(bf=!0);break;case 6:if(yn(i,t),vn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(ae){Ke(t,t.return,ae)}}break;case 3:if(ku=null,d=Wn,Wn=Pu(i.containerInfo),yn(i,t),Wn=d,vn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{eo(i.containerInfo)}catch(ae){Ke(t,t.return,ae)}bf&&(bf=!1,hv(t));break;case 4:l=Wn,Wn=Pu(t.stateNode.containerInfo),yn(i,t),vn(t),Wn=l;break;case 12:yn(i,t),vn(t);break;case 31:yn(i,t),vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Au(t,l)));break;case 13:yn(i,t),vn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(wu=zt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Au(t,l)));break;case 22:d=t.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,U=Qi,F=wt;if(Qi=U||d,wt=F||R,yn(i,t),wt=F,Qi=U,vn(t),l&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(r===null||R||Qi||wt||$a(t)),r=null,i=t;;){if(i.tag===5||i.tag===26){if(r===null){R=r=i;try{if(h=R.stateNode,d)v=h.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=R.stateNode;var K=R.memoizedProps.style,B=K!=null&&K.hasOwnProperty("display")?K.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ae){Ke(R,R.return,ae)}}}else if(i.tag===6){if(r===null){R=i;try{R.stateNode.nodeValue=d?"":R.memoizedProps}catch(ae){Ke(R,R.return,ae)}}}else if(i.tag===18){if(r===null){R=i;try{var z=R.stateNode;d?t_(z,!0):t_(R.stateNode,!1)}catch(ae){Ke(R,R.return,ae)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Au(t,r))));break;case 19:yn(i,t),vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Au(t,l)));break;case 30:break;case 21:break;default:yn(i,t),vn(t)}}function vn(t){var i=t.flags;if(i&2){try{for(var r,l=t.return;l!==null;){if(iv(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var d=r.stateNode,h=Sf(t);Tu(t,h,d);break;case 5:var v=r.stateNode;r.flags&32&&(Ln(v,""),r.flags&=-33);var T=Sf(t);Tu(t,T,v);break;case 3:case 4:var R=r.stateNode.containerInfo,U=Sf(t);wf(t,U,R);break;default:throw Error(a(161))}}catch(F){Ke(t,t.return,F)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function hv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;hv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ki(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)rv(t,i.alternate,i),i=i.sibling}function $a(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Hs(4,i,i.return),$a(i);break;case 1:yi(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&tv(i,i.return,r),$a(i);break;case 27:bl(i.stateNode);case 26:case 5:yi(i,i.return),$a(i);break;case 22:i.memoizedState===null&&$a(i);break;case 30:$a(i);break;default:$a(i)}t=t.sibling}}function Yi(t,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,d=t,h=i,v=h.flags;switch(h.tag){case 0:case 11:case 15:Yi(d,h,r),pl(4,h);break;case 1:if(Yi(d,h,r),l=h,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(U){Ke(l,l.return,U)}if(l=h,d=l.updateQueue,d!==null){var T=l.stateNode;try{var R=d.shared.hiddenCallbacks;if(R!==null)for(d.shared.hiddenCallbacks=null,d=0;d<R.length;d++)Hg(R[d],T)}catch(U){Ke(l,l.return,U)}}r&&v&64&&ev(h),gl(h,h.return);break;case 27:sv(h);case 26:case 5:Yi(d,h,r),r&&l===null&&v&4&&nv(h),gl(h,h.return);break;case 12:Yi(d,h,r);break;case 31:Yi(d,h,r),r&&v&4&&cv(d,h);break;case 13:Yi(d,h,r),r&&v&4&&uv(d,h);break;case 22:h.memoizedState===null&&Yi(d,h,r),gl(h,h.return);break;case 30:break;default:Yi(d,h,r)}i=i.sibling}}function Rf(t,i){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&nl(r))}function If(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&nl(t))}function ei(t,i,r,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)fv(t,i,r,l),i=i.sibling}function fv(t,i,r,l){var d=i.flags;switch(i.tag){case 0:case 11:case 15:ei(t,i,r,l),d&2048&&pl(9,i);break;case 1:ei(t,i,r,l);break;case 3:ei(t,i,r,l),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&nl(t)));break;case 12:if(d&2048){ei(t,i,r,l),t=i.stateNode;try{var h=i.memoizedProps,v=h.id,T=h.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Ke(i,i.return,R)}}else ei(t,i,r,l);break;case 31:ei(t,i,r,l);break;case 13:ei(t,i,r,l);break;case 23:break;case 22:h=i.stateNode,v=i.alternate,i.memoizedState!==null?h._visibility&2?ei(t,i,r,l):yl(t,i):h._visibility&2?ei(t,i,r,l):(h._visibility|=2,Hr(t,i,r,l,(i.subtreeFlags&10256)!==0||!1)),d&2048&&Rf(v,i);break;case 24:ei(t,i,r,l),d&2048&&If(i.alternate,i);break;default:ei(t,i,r,l)}}function Hr(t,i,r,l,d){for(d=d&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var h=t,v=i,T=r,R=l,U=v.flags;switch(v.tag){case 0:case 11:case 15:Hr(h,v,T,R,d),pl(8,v);break;case 23:break;case 22:var F=v.stateNode;v.memoizedState!==null?F._visibility&2?Hr(h,v,T,R,d):yl(h,v):(F._visibility|=2,Hr(h,v,T,R,d)),d&&U&2048&&Rf(v.alternate,v);break;case 24:Hr(h,v,T,R,d),d&&U&2048&&If(v.alternate,v);break;default:Hr(h,v,T,R,d)}i=i.sibling}}function yl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=t,l=i,d=l.flags;switch(l.tag){case 22:yl(r,l),d&2048&&Rf(l.alternate,l);break;case 24:yl(r,l),d&2048&&If(l.alternate,l);break;default:yl(r,l)}i=i.sibling}}var vl=8192;function Fr(t,i,r){if(t.subtreeFlags&vl)for(t=t.child;t!==null;)mv(t,i,r),t=t.sibling}function mv(t,i,r){switch(t.tag){case 26:Fr(t,i,r),t.flags&vl&&t.memoizedState!==null&&Qw(r,Wn,t.memoizedState,t.memoizedProps);break;case 5:Fr(t,i,r);break;case 3:case 4:var l=Wn;Wn=Pu(t.stateNode.containerInfo),Fr(t,i,r),Wn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=vl,vl=16777216,Fr(t,i,r),vl=l):Fr(t,i,r));break;default:Fr(t,i,r)}}function pv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function _l(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var l=i[r];Lt=l,yv(l,t)}pv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gv(t),t=t.sibling}function gv(t){switch(t.tag){case 0:case 11:case 15:_l(t),t.flags&2048&&Hs(9,t,t.return);break;case 3:_l(t);break;case 12:_l(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Su(t)):_l(t);break;default:_l(t)}}function Su(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var l=i[r];Lt=l,yv(l,t)}pv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Hs(8,i,i.return),Su(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,Su(i));break;default:Su(i)}t=t.sibling}}function yv(t,i){for(;Lt!==null;){var r=Lt;switch(r.tag){case 0:case 11:case 15:Hs(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Lt=l;else e:for(r=t;Lt!==null;){l=Lt;var d=l.sibling,h=l.return;if(ov(l),l===r){Lt=null;break e}if(d!==null){d.return=h,Lt=d;break e}Lt=h}}}var ow={getCacheForType:function(t){var i=Gt(Tt),r=i.data.get(t);return r===void 0&&(r=t(),i.data.set(t,r)),r},cacheSignal:function(){return Gt(Tt).controller.signal}},lw=typeof WeakMap=="function"?WeakMap:Map,Fe=0,We=null,Ce=null,De=0,$e=0,Nn=null,Fs=!1,Gr=!1,Cf=!1,Xi=0,mt=0,Gs=0,Ka=0,Nf=0,xn=0,Qr=0,El=null,_n=null,xf=!1,wu=0,vv=0,bu=1/0,Ru=null,Qs=null,xt=0,$s=null,$r=null,Ji=0,Df=0,Of=null,_v=null,Tl=0,Mf=null;function Dn(){return(Fe&2)!==0&&De!==0?De&-De:G.T!==null?Uf():Ni()}function Ev(){if(xn===0)if((De&536870912)===0||Ve){var t=oi;oi<<=1,(oi&3932160)===0&&(oi=262144),xn=t}else xn=536870912;return t=In.current,t!==null&&(t.flags|=32),xn}function En(t,i,r){(t===We&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(Kr(t,0),Ks(t,De,xn,!1)),ys(t,r),((Fe&2)===0||t!==We)&&(t===We&&((Fe&2)===0&&(Ka|=r),mt===4&&Ks(t,De,xn,!1)),vi(t))}function Tv(t,i,r){if((Fe&6)!==0)throw Error(a(327));var l=!r&&(i&127)===0&&(i&t.expiredLanes)===0||gs(t,i),d=l?dw(t,i):Vf(t,i,!0),h=l;do{if(d===0){Gr&&!l&&Ks(t,i,0,!1);break}else{if(r=t.current.alternate,h&&!cw(r)){d=Vf(t,i,!1),h=!1;continue}if(d===2){if(h=i,t.errorRecoveryDisabledLanes&h)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;d=El;var R=T.current.memoizedState.isDehydrated;if(R&&(Kr(T,v).flags|=256),v=Vf(T,v,!1),v!==2){if(Cf&&!R){T.errorRecoveryDisabledLanes|=h,Ka|=h,d=4;break e}h=_n,_n=d,h!==null&&(_n===null?_n=h:_n.push.apply(_n,h))}d=v}if(h=!1,d!==2)continue}}if(d===1){Kr(t,0),Ks(t,i,0,!0);break}e:{switch(l=t,h=d,h){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Ks(l,i,xn,!Fs);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(d=wu+300-zt(),10<d)){if(Ks(l,i,xn,!Fs),Vn(l,0,!0)!==0)break e;Ji=i,l.timeoutHandle=Zv(Av.bind(null,l,r,_n,Ru,xf,i,xn,Ka,Qr,Fs,h,"Throttled",-0,0),d);break e}Av(l,r,_n,Ru,xf,i,xn,Ka,Qr,Fs,h,null,-0,0)}}break}while(!0);vi(t)}function Av(t,i,r,l,d,h,v,T,R,U,F,K,B,z){if(t.timeoutHandle=-1,K=i.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jt},mv(i,h,K);var ae=(h&62914560)===h?wu-zt():(h&4194048)===h?vv-zt():0;if(ae=$w(K,ae),ae!==null){Ji=h,t.cancelPendingCommit=ae(xv.bind(null,t,i,h,r,l,d,v,T,R,F,K,null,B,z)),Ks(t,h,v,!U);return}}xv(t,i,h,r,l,d,v,T,R)}function cw(t){for(var i=t;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var d=r[l],h=d.getSnapshot;d=d.value;try{if(!bn(h(),d))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ks(t,i,r,l){i&=~Nf,i&=~Ka,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var d=i;0<d;){var h=31-on(d),v=1<<h;l[h]=-1,d&=~v}r!==0&&Vo(t,r,i)}function Iu(){return(Fe&6)===0?(Al(0),!1):!0}function jf(){if(Ce!==null){if($e===0)var t=Ce.return;else t=Ce,Bi=Ua=null,Yh(t),kr=null,sl=0,t=Ce;for(;t!==null;)Wy(t.alternate,t),t=t.return;Ce=null}}function Kr(t,i){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,Nw(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Ji=0,jf(),We=t,Ce=r=ki(t.current,null),De=i,$e=0,Nn=null,Fs=!1,Gr=gs(t,i),Cf=!1,Qr=xn=Nf=Ka=Gs=mt=0,_n=El=null,xf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var d=31-on(l),h=1<<d;i|=t[d],l&=~h}return Xi=i,Kc(),r}function Sv(t,i){Se=null,G.H=hl,i===Lr||i===nu?(i=Ug(),$e=3):i===Lh?(i=Ug(),$e=4):$e=i===hf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Nn=i,Ce===null&&(mt=1,gu(t,Un(i,t.current)))}function wv(){var t=In.current;return t===null?!0:(De&4194048)===De?Hn===null:(De&62914560)===De||(De&536870912)!==0?t===Hn:!1}function bv(){var t=G.H;return G.H=hl,t===null?hl:t}function Rv(){var t=G.A;return G.A=ow,t}function Cu(){mt=4,Fs||(De&4194048)!==De&&In.current!==null||(Gr=!0),(Gs&134217727)===0&&(Ka&134217727)===0||We===null||Ks(We,De,xn,!1)}function Vf(t,i,r){var l=Fe;Fe|=2;var d=bv(),h=Rv();(We!==t||De!==i)&&(Ru=null,Kr(t,i)),i=!1;var v=mt;e:do try{if($e!==0&&Ce!==null){var T=Ce,R=Nn;switch($e){case 8:jf(),v=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(i=!0);var U=$e;if($e=0,Nn=null,Yr(t,T,R,U),r&&Gr){v=0;break e}break;default:U=$e,$e=0,Nn=null,Yr(t,T,R,U)}}uw(),v=mt;break}catch(F){Sv(t,F)}while(!0);return i&&t.shellSuspendCounter++,Bi=Ua=null,Fe=l,G.H=d,G.A=h,Ce===null&&(We=null,De=0,Kc()),v}function uw(){for(;Ce!==null;)Iv(Ce)}function dw(t,i){var r=Fe;Fe|=2;var l=bv(),d=Rv();We!==t||De!==i?(Ru=null,bu=zt()+500,Kr(t,i)):Gr=gs(t,i);e:do try{if($e!==0&&Ce!==null){i=Ce;var h=Nn;t:switch($e){case 1:$e=0,Nn=null,Yr(t,i,h,1);break;case 2:case 9:if(Lg(h)){$e=0,Nn=null,Cv(i);break}i=function(){$e!==2&&$e!==9||We!==t||($e=7),vi(t)},h.then(i,i);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Lg(h)?($e=0,Nn=null,Cv(i)):($e=0,Nn=null,Yr(t,i,h,7));break;case 5:var v=null;switch(Ce.tag){case 26:v=Ce.memoizedState;case 5:case 27:var T=Ce;if(v?f_(v):T.stateNode.complete){$e=0,Nn=null;var R=T.sibling;if(R!==null)Ce=R;else{var U=T.return;U!==null?(Ce=U,Nu(U)):Ce=null}break t}}$e=0,Nn=null,Yr(t,i,h,5);break;case 6:$e=0,Nn=null,Yr(t,i,h,6);break;case 8:jf(),mt=6;break e;default:throw Error(a(462))}}hw();break}catch(F){Sv(t,F)}while(!0);return Bi=Ua=null,G.H=l,G.A=d,Fe=r,Ce!==null?0:(We=null,De=0,Kc(),mt)}function hw(){for(;Ce!==null&&!rh();)Iv(Ce)}function Iv(t){var i=Jy(t.alternate,t,Xi);t.memoizedProps=t.pendingProps,i===null?Nu(t):Ce=i}function Cv(t){var i=t,r=i.alternate;switch(i.tag){case 15:case 0:i=Gy(r,i,i.pendingProps,i.type,void 0,De);break;case 11:i=Gy(r,i,i.pendingProps,i.type.render,i.ref,De);break;case 5:Yh(i);default:Wy(r,i),i=Ce=Rg(i,Xi),i=Jy(r,i,Xi)}t.memoizedProps=t.pendingProps,i===null?Nu(t):Ce=i}function Yr(t,i,r,l){Bi=Ua=null,Yh(i),kr=null,sl=0;var d=i.return;try{if(ew(t,d,i,r,De)){mt=1,gu(t,Un(r,t.current)),Ce=null;return}}catch(h){if(d!==null)throw Ce=d,h;mt=1,gu(t,Un(r,t.current)),Ce=null;return}i.flags&32768?(Ve||l===1?t=!0:Gr||(De&536870912)!==0?t=!1:(Fs=t=!0,(l===2||l===9||l===3||l===6)&&(l=In.current,l!==null&&l.tag===13&&(l.flags|=16384))),Nv(i,t)):Nu(i)}function Nu(t){var i=t;do{if((i.flags&32768)!==0){Nv(i,Fs);return}t=i.return;var r=iw(i.alternate,i,Xi);if(r!==null){Ce=r;return}if(i=i.sibling,i!==null){Ce=i;return}Ce=i=t}while(i!==null);mt===0&&(mt=5)}function Nv(t,i){do{var r=sw(t.alternate,t);if(r!==null){r.flags&=32767,Ce=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(t=t.sibling,t!==null)){Ce=t;return}Ce=t=r}while(t!==null);mt=6,Ce=null}function xv(t,i,r,l,d,h,v,T,R){t.cancelPendingCommit=null;do xu();while(xt!==0);if((Fe&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(h=i.lanes|i.childLanes,h|=Ah,qt(t,r,h,v,T,R),t===We&&(Ce=We=null,De=0),$r=i,$s=t,Ji=r,Df=h,Of=d,_v=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,gw(Ii,function(){return Vv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,d=te.p,te.p=2,v=Fe,Fe|=4;try{aw(t,i,r)}finally{Fe=v,te.p=d,G.T=l}}xt=1,Dv(),Ov(),Mv()}}function Dv(){if(xt===1){xt=0;var t=$s,i=$r,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var l=te.p;te.p=2;var d=Fe;Fe|=4;try{dv(i,t);var h=$f,v=yg(t.containerInfo),T=h.focusedElem,R=h.selectionRange;if(v!==T&&T&&T.ownerDocument&&gg(T.ownerDocument.documentElement,T)){if(R!==null&&yh(T)){var U=R.start,F=R.end;if(F===void 0&&(F=U),"selectionStart"in T)T.selectionStart=U,T.selectionEnd=Math.min(F,T.value.length);else{var K=T.ownerDocument||document,B=K&&K.defaultView||window;if(B.getSelection){var z=B.getSelection(),ae=T.textContent.length,he=Math.min(R.start,ae),Ze=R.end===void 0?he:Math.min(R.end,ae);!z.extend&&he>Ze&&(v=Ze,Ze=he,he=v);var j=pg(T,he),x=pg(T,Ze);if(j&&x&&(z.rangeCount!==1||z.anchorNode!==j.node||z.anchorOffset!==j.offset||z.focusNode!==x.node||z.focusOffset!==x.offset)){var k=K.createRange();k.setStart(j.node,j.offset),z.removeAllRanges(),he>Ze?(z.addRange(k),z.extend(x.node,x.offset)):(k.setEnd(x.node,x.offset),z.addRange(k))}}}}for(K=[],z=T;z=z.parentNode;)z.nodeType===1&&K.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<K.length;T++){var $=K[T];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}qu=!!Qf,$f=Qf=null}finally{Fe=d,te.p=l,G.T=r}}t.current=i,xt=2}}function Ov(){if(xt===2){xt=0;var t=$s,i=$r,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var l=te.p;te.p=2;var d=Fe;Fe|=4;try{rv(t,i.alternate,i)}finally{Fe=d,te.p=l,G.T=r}}xt=3}}function Mv(){if(xt===4||xt===3){xt=0,Do();var t=$s,i=$r,r=Ji,l=_v;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?xt=5:(xt=0,$r=$s=null,jv(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Qs=null),Lo(r),i=i.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(ms,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=G.T,d=te.p,te.p=2,G.T=null;try{for(var h=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];h(T.value,{componentStack:T.stack})}}finally{G.T=i,te.p=d}}(Ji&3)!==0&&xu(),vi(t),d=t.pendingLanes,(r&261930)!==0&&(d&42)!==0?t===Mf?Tl++:(Tl=0,Mf=t):Tl=0,Al(0)}}function jv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,nl(i)))}function xu(){return Dv(),Ov(),Mv(),Vv()}function Vv(){if(xt!==5)return!1;var t=$s,i=Df;Df=0;var r=Lo(Ji),l=G.T,d=te.p;try{te.p=32>r?32:r,G.T=null,r=Of,Of=null;var h=$s,v=Ji;if(xt=0,$r=$s=null,Ji=0,(Fe&6)!==0)throw Error(a(331));var T=Fe;if(Fe|=4,gv(h.current),fv(h,h.current,v,r),Fe=T,Al(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(ms,h)}catch{}return!0}finally{te.p=d,G.T=l,jv(t,i)}}function Pv(t,i,r){i=Un(r,i),i=df(t.stateNode,i,2),t=Bs(t,i,2),t!==null&&(ys(t,2),vi(t))}function Ke(t,i,r){if(t.tag===3)Pv(t,t,r);else for(;i!==null;){if(i.tag===3){Pv(i,t,r);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Qs===null||!Qs.has(l))){t=Un(r,t),r=Ly(2),l=Bs(i,r,2),l!==null&&(ky(r,l,i,t),ys(l,2),vi(l));break}}i=i.return}}function Pf(t,i,r){var l=t.pingCache;if(l===null){l=t.pingCache=new lw;var d=new Set;l.set(i,d)}else d=l.get(i),d===void 0&&(d=new Set,l.set(i,d));d.has(r)||(Cf=!0,d.add(r),t=fw.bind(null,t,i,r),i.then(t,t))}function fw(t,i,r){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,We===t&&(De&r)===r&&(mt===4||mt===3&&(De&62914560)===De&&300>zt()-wu?(Fe&2)===0&&Kr(t,0):Nf|=r,Qr===De&&(Qr=0)),vi(t)}function Lv(t,i){i===0&&(i=jo()),t=Pa(t,i),t!==null&&(ys(t,i),vi(t))}function mw(t){var i=t.memoizedState,r=0;i!==null&&(r=i.retryLane),Lv(t,r)}function pw(t,i){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(r=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),Lv(t,r)}function gw(t,i){return Ta(t,i)}var Du=null,Xr=null,Lf=!1,Ou=!1,kf=!1,Ys=0;function vi(t){t!==Xr&&t.next===null&&(Xr===null?Du=Xr=t:Xr=Xr.next=t),Ou=!0,Lf||(Lf=!0,vw())}function Al(t,i){if(!kf&&Ou){kf=!0;do for(var r=!1,l=Du;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var h=0;else{var v=l.suspendedLanes,T=l.pingedLanes;h=(1<<31-on(42|t)+1)-1,h&=d&~(v&~T),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(r=!0,zv(l,h))}else h=De,h=Vn(l,l===We?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||gs(l,h)||(r=!0,zv(l,h));l=l.next}while(r);kf=!1}}function yw(){kv()}function kv(){Ou=Lf=!1;var t=0;Ys!==0&&Cw()&&(t=Ys);for(var i=zt(),r=null,l=Du;l!==null;){var d=l.next,h=Uv(l,i);h===0?(l.next=null,r===null?Du=d:r.next=d,d===null&&(Xr=r)):(r=l,(t!==0||(h&3)!==0)&&(Ou=!0)),l=d}xt!==0&&xt!==5||Al(t),Ys!==0&&(Ys=0)}function Uv(t,i){for(var r=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var v=31-on(h),T=1<<v,R=d[v];R===-1?((T&r)===0||(T&l)!==0)&&(d[v]=gr(T,i)):R<=i&&(t.expiredLanes|=T),h&=~T}if(i=We,r=De,r=Vn(t,t===i?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===i&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&pr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||gs(t,r)){if(i=r&-r,i===t.callbackPriority)return i;switch(l!==null&&pr(l),Lo(r)){case 2:case 8:r=Mt;break;case 32:r=Ii;break;case 268435456:r=Oo;break;default:r=Ii}return l=Bv.bind(null,t),r=Ta(r,l),t.callbackPriority=i,t.callbackNode=r,i}return l!==null&&l!==null&&pr(l),t.callbackPriority=2,t.callbackNode=null,2}function Bv(t,i){if(xt!==0&&xt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(xu()&&t.callbackNode!==r)return null;var l=De;return l=Vn(t,t===We?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Tv(t,l,i),Uv(t,zt()),t.callbackNode!=null&&t.callbackNode===r?Bv.bind(null,t):null)}function zv(t,i){if(xu())return null;Tv(t,i,!0)}function vw(){xw(function(){(Fe&6)!==0?Ta(Nt,yw):kv()})}function Uf(){if(Ys===0){var t=Vr;t===0&&(t=Sa,Sa<<=1,(Sa&261888)===0&&(Sa=256)),Ys=t}return Ys}function qv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:hi(""+t)}function Hv(t,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,t.id&&r.setAttribute("form",t.id),i.parentNode.insertBefore(r,i),t=new FormData(t),r.parentNode.removeChild(r),t}function _w(t,i,r,l,d){if(i==="submit"&&r&&r.stateNode===d){var h=qv((d[Ht]||null).action),v=l.submitter;v&&(i=(i=v[Ht]||null)?qv(i.formAction):v.getAttribute("formAction"),i!==null&&(h=i,v=null));var T=new Na("action","action",null,l,d);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ys!==0){var R=v?Hv(d,v):new FormData(d);af(r,{pending:!0,data:R,method:d.method,action:h},null,R)}}else typeof h=="function"&&(T.preventDefault(),R=v?Hv(d,v):new FormData(d),af(r,{pending:!0,data:R,method:d.method,action:h},h,R))},currentTarget:d}]})}}for(var Bf=0;Bf<Th.length;Bf++){var zf=Th[Bf],Ew=zf.toLowerCase(),Tw=zf[0].toUpperCase()+zf.slice(1);Zn(Ew,"on"+Tw)}Zn(Eg,"onAnimationEnd"),Zn(Tg,"onAnimationIteration"),Zn(Ag,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(LS,"onTransitionRun"),Zn(kS,"onTransitionStart"),Zn(US,"onTransitionCancel"),Zn(Sg,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Aw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function Fv(t,i){i=(i&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],d=l.event;l=l.listeners;e:{var h=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],R=T.instance,U=T.currentTarget;if(T=T.listener,R!==h&&d.isPropagationStopped())break e;h=T,d.currentTarget=U;try{h(d)}catch(F){$c(F)}d.currentTarget=null,h=R}else for(v=0;v<l.length;v++){if(T=l[v],R=T.instance,U=T.currentTarget,T=T.listener,R!==h&&d.isPropagationStopped())break e;h=T,d.currentTarget=U;try{h(d)}catch(F){$c(F)}d.currentTarget=null,h=R}}}}function Ne(t,i){var r=i[Es];r===void 0&&(r=i[Es]=new Set);var l=t+"__bubble";r.has(l)||(Gv(i,t,2,!1),r.add(l))}function qf(t,i,r){var l=0;i&&(l|=4),Gv(r,t,l,i)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function Hf(t){if(!t[Mu]){t[Mu]=!0,yr.forEach(function(r){r!=="selectionchange"&&(Aw.has(r)||qf(r,!1,t),qf(r,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Mu]||(i[Mu]=!0,qf("selectionchange",!1,i))}}function Gv(t,i,r,l){switch(E_(i)){case 2:var d=Xw;break;case 8:d=Jw;break;default:d=sm}r=d.bind(null,i,r,t),d=void 0,!Go||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(i,r,{capture:!0,passive:d}):t.addEventListener(i,r,!0):d!==void 0?t.addEventListener(i,r,{passive:d}):t.addEventListener(i,r,!1)}function Ff(t,i,r,l,d){var h=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===d)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;T!==null;){if(v=Di(T),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=h=v;continue e}T=T.parentNode}}l=l.return}Dc(function(){var U=h,F=Ar(r),K=[];e:{var B=wg.get(t);if(B!==void 0){var z=Na,ae=t;switch(t){case"keypress":if(Ca(r)===0)break e;case"keydown":case"keyup":z=Bc;break;case"focusin":ae="focus",z=xs;break;case"focusout":ae="blur",z=xs;break;case"beforeblur":case"afterblur":z=xs;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=Mc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=jc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=qc;break;case Eg:case Tg:case Ag:z=br;break;case Sg:z=Rr;break;case"scroll":case"scrollend":z=Oc;break;case"wheel":z=Fc;break;case"copy":case"cut":case"paste":z=Pc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Xo;break;case"toggle":case"beforetoggle":z=Os}var he=(i&4)!==0,Ze=!he&&(t==="scroll"||t==="scrollend"),j=he?B!==null?B+"Capture":null:B;he=[];for(var x=U,k;x!==null;){var $=x;if(k=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||k===null||j===null||($=mn(x,j),$!=null&&he.push(wl(x,$,k))),Ze)break;x=x.return}0<he.length&&(B=new z(B,ae,null,r,F),K.push({event:B,listeners:he}))}}if((i&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",z=t==="mouseout"||t==="pointerout",B&&r!==Tr&&(ae=r.relatedTarget||r.fromElement)&&(Di(ae)||ae[ci]))break e;if((z||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,z?(ae=r.relatedTarget||r.toElement,z=U,ae=ae?Di(ae):null,ae!==null&&(Ze=c(ae),he=ae.tag,ae!==Ze||he!==5&&he!==27&&he!==6)&&(ae=null)):(z=null,ae=U),z!==ae)){if(he=Mc,$="onMouseLeave",j="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(he=Xo,$="onPointerLeave",j="onPointerEnter",x="pointer"),Ze=z==null?B:ba(z),k=ae==null?B:ba(ae),B=new he($,x+"leave",z,r,F),B.target=Ze,B.relatedTarget=k,$=null,Di(F)===U&&(he=new he(j,x+"enter",ae,r,F),he.target=k,he.relatedTarget=Ze,$=he),Ze=$,z&&ae)t:{for(he=Sw,j=z,x=ae,k=0,$=j;$;$=he($))k++;$=0;for(var ce=x;ce;ce=he(ce))$++;for(;0<k-$;)j=he(j),k--;for(;0<$-k;)x=he(x),$--;for(;k--;){if(j===x||x!==null&&j===x.alternate){he=j;break t}j=he(j),x=he(x)}he=null}else he=null;z!==null&&Qv(K,B,z,he,!1),ae!==null&&Ze!==null&&Qv(K,Ze,ae,he,!0)}}e:{if(B=U?ba(U):window,z=B.nodeName&&B.nodeName.toLowerCase(),z==="select"||z==="input"&&B.type==="file")var ze=cg;else if(pn(B))if(ug)ze=jS;else{ze=OS;var le=DS}else z=B.nodeName,!z||z.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?U&&Ho(U.elementType)&&(ze=cg):ze=MS;if(ze&&(ze=ze(t,U))){Ma(K,ze,r,F);break e}le&&le(t,B,U),t==="focusout"&&U&&B.type==="number"&&U.memoizedProps.value!=null&&Er(B,"number",B.value)}switch(le=U?ba(U):window,t){case"focusin":(pn(le)||le.contentEditable==="true")&&(Ir=le,vh=U,Wo=null);break;case"focusout":Wo=vh=Ir=null;break;case"mousedown":_h=!0;break;case"contextmenu":case"mouseup":case"dragend":_h=!1,vg(K,r,F);break;case"selectionchange":if(PS)break;case"keydown":case"keyup":vg(K,r,F)}var we;if(p)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Ie?Qe(t,r)&&(Oe="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Oe="onCompositionStart");Oe&&(L&&r.locale!=="ko"&&(Ie||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Ie&&(we=Rs()):(wn=F,Sr="value"in wn?wn.value:wn.textContent,Ie=!0)),le=ju(U,Oe),0<le.length&&(Oe=new $o(Oe,t,null,r,F),K.push({event:Oe,listeners:le}),we?Oe.data=we:(we=Et(r),we!==null&&(Oe.data=we)))),(we=A?Vt(t,r):Pt(t,r))&&(Oe=ju(U,"onBeforeInput"),0<Oe.length&&(le=new $o("onBeforeInput","beforeinput",null,r,F),K.push({event:le,listeners:Oe}),le.data=we)),_w(K,t,U,r,F)}Fv(K,i)})}function wl(t,i,r){return{instance:t,listener:i,currentTarget:r}}function ju(t,i){for(var r=i+"Capture",l=[];t!==null;){var d=t,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=mn(t,r),d!=null&&l.unshift(wl(t,d,h)),d=mn(t,i),d!=null&&l.push(wl(t,d,h))),t.tag===3)return l;t=t.return}return[]}function Sw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Qv(t,i,r,l,d){for(var h=i._reactName,v=[];r!==null&&r!==l;){var T=r,R=T.alternate,U=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||U===null||(R=U,d?(U=mn(r,h),U!=null&&v.unshift(wl(r,U,R))):d||(U=mn(r,h),U!=null&&v.push(wl(r,U,R)))),r=r.return}v.length!==0&&t.push({event:i,listeners:v})}var ww=/\r\n?/g,bw=/\u0000|\uFFFD/g;function $v(t){return(typeof t=="string"?t:""+t).replace(ww,`
`).replace(bw,"")}function Kv(t,i){return i=$v(i),$v(t)===i}function Je(t,i,r,l,d,h){switch(r){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Ln(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Ln(t,""+l);break;case"className":Ss(t,"class",l);break;case"tabIndex":Ss(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ss(t,r,l);break;case"style":Nc(t,l,h);break;case"data":if(i!=="object"){Ss(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=hi(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(r==="formAction"?(i!=="input"&&Je(t,i,"name",d.name,d,null),Je(t,i,"formEncType",d.formEncType,d,null),Je(t,i,"formMethod",d.formMethod,d,null),Je(t,i,"formTarget",d.formTarget,d,null)):(Je(t,i,"encType",d.encType,d,null),Je(t,i,"method",d.method,d,null),Je(t,i,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=hi(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=jt);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(d.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=hi(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),As(t,"popover",l);break;case"xlinkActuate":Pn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":As(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=hh.get(r)||r,As(t,r,l))}}function Gf(t,i,r,l,d,h){switch(r){case"style":Nc(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(d.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?Ln(t,l):(typeof l=="number"||typeof l=="bigint")&&Ln(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=jt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ts.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),i=r.slice(2,d?r.length-7:void 0),h=t[Ht]||null,h=h!=null?h[r]:null,typeof h=="function"&&t.removeEventListener(i,h,d),typeof l=="function")){typeof h!="function"&&h!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(i,l,d);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):As(t,r,l)}}}function $t(t,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,d=!1,h;for(h in r)if(r.hasOwnProperty(h)){var v=r[h];if(v!=null)switch(h){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Je(t,i,h,v,r,null)}}d&&Je(t,i,"srcSet",r.srcSet,r,null),l&&Je(t,i,"src",r.src,r,null);return;case"input":Ne("invalid",t);var T=h=v=d=null,R=null,U=null;for(l in r)if(r.hasOwnProperty(l)){var F=r[l];if(F!=null)switch(l){case"name":d=F;break;case"type":v=F;break;case"checked":R=F;break;case"defaultChecked":U=F;break;case"value":h=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,i));break;default:Je(t,i,l,F,r,null)}}Ra(t,h,T,R,U,v,d,!1);return;case"select":Ne("invalid",t),l=v=h=null;for(d in r)if(r.hasOwnProperty(d)&&(T=r[d],T!=null))switch(d){case"value":h=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Je(t,i,d,T,r,null)}i=h,r=v,t.multiple=!!l,i!=null?Be(t,!!l,i,!1):r!=null&&Be(t,!!l,r,!0);return;case"textarea":Ne("invalid",t),h=d=l=null;for(v in r)if(r.hasOwnProperty(v)&&(T=r[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":d=T;break;case"children":h=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Je(t,i,v,T,r,null)}bs(t,l,d,h);return;case"option":for(R in r)r.hasOwnProperty(R)&&(l=r[R],l!=null)&&(R==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Je(t,i,R,l,r,null));return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<Sl.length;l++)Ne(Sl[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in r)if(r.hasOwnProperty(U)&&(l=r[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Je(t,i,U,l,r,null)}return;default:if(Ho(i)){for(F in r)r.hasOwnProperty(F)&&(l=r[F],l!==void 0&&Gf(t,i,F,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&Je(t,i,T,l,r,null))}function Rw(t,i,r,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,v=null,T=null,R=null,U=null,F=null;for(z in r){var K=r[z];if(r.hasOwnProperty(z)&&K!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":R=K;default:l.hasOwnProperty(z)||Je(t,i,z,null,l,K)}}for(var B in l){var z=l[B];if(K=r[B],l.hasOwnProperty(B)&&(z!=null||K!=null))switch(B){case"type":h=z;break;case"name":d=z;break;case"checked":U=z;break;case"defaultChecked":F=z;break;case"value":v=z;break;case"defaultValue":T=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,i));break;default:z!==K&&Je(t,i,B,z,l,K)}}ws(t,v,T,R,U,F,h,d);return;case"select":z=v=T=B=null;for(h in r)if(R=r[h],r.hasOwnProperty(h)&&R!=null)switch(h){case"value":break;case"multiple":z=R;default:l.hasOwnProperty(h)||Je(t,i,h,null,l,R)}for(d in l)if(h=l[d],R=r[d],l.hasOwnProperty(d)&&(h!=null||R!=null))switch(d){case"value":B=h;break;case"defaultValue":T=h;break;case"multiple":v=h;default:h!==R&&Je(t,i,d,h,l,R)}i=T,r=v,l=z,B!=null?Be(t,!!r,B,!1):!!l!=!!r&&(i!=null?Be(t,!!r,i,!0):Be(t,!!r,r?[]:"",!1));return;case"textarea":z=B=null;for(T in r)if(d=r[T],r.hasOwnProperty(T)&&d!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Je(t,i,T,null,l,d)}for(v in l)if(d=l[v],h=r[v],l.hasOwnProperty(v)&&(d!=null||h!=null))switch(v){case"value":B=d;break;case"defaultValue":z=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==h&&Je(t,i,v,d,l,h)}Ia(t,B,z);return;case"option":for(var ae in r)B=r[ae],r.hasOwnProperty(ae)&&B!=null&&!l.hasOwnProperty(ae)&&(ae==="selected"?t.selected=!1:Je(t,i,ae,null,l,B));for(R in l)B=l[R],z=r[R],l.hasOwnProperty(R)&&B!==z&&(B!=null||z!=null)&&(R==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":Je(t,i,R,B,l,z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in r)B=r[he],r.hasOwnProperty(he)&&B!=null&&!l.hasOwnProperty(he)&&Je(t,i,he,null,l,B);for(U in l)if(B=l[U],z=r[U],l.hasOwnProperty(U)&&B!==z&&(B!=null||z!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,i));break;default:Je(t,i,U,B,l,z)}return;default:if(Ho(i)){for(var Ze in r)B=r[Ze],r.hasOwnProperty(Ze)&&B!==void 0&&!l.hasOwnProperty(Ze)&&Gf(t,i,Ze,void 0,l,B);for(F in l)B=l[F],z=r[F],!l.hasOwnProperty(F)||B===z||B===void 0&&z===void 0||Gf(t,i,F,B,l,z);return}}for(var j in r)B=r[j],r.hasOwnProperty(j)&&B!=null&&!l.hasOwnProperty(j)&&Je(t,i,j,null,l,B);for(K in l)B=l[K],z=r[K],!l.hasOwnProperty(K)||B===z||B==null&&z==null||Je(t,i,K,B,l,z)}function Yv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Iw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var d=r[l],h=d.transferSize,v=d.initiatorType,T=d.duration;if(h&&T&&Yv(v)){for(v=0,T=d.responseEnd,l+=1;l<r.length;l++){var R=r[l],U=R.startTime;if(U>T)break;var F=R.transferSize,K=R.initiatorType;F&&Yv(K)&&(R=R.responseEnd,v+=F*(R<T?1:(T-U)/(R-U)))}if(--l,i+=8*(h+v)/(d.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Qf=null,$f=null;function Vu(t){return t.nodeType===9?t:t.ownerDocument}function Xv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Kf(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Yf=null;function Cw(){var t=window.event;return t&&t.type==="popstate"?t===Yf?!1:(Yf=t,!0):(Yf=null,!1)}var Zv=typeof setTimeout=="function"?setTimeout:void 0,Nw=typeof clearTimeout=="function"?clearTimeout:void 0,Wv=typeof Promise=="function"?Promise:void 0,xw=typeof queueMicrotask=="function"?queueMicrotask:typeof Wv<"u"?function(t){return Wv.resolve(null).then(t).catch(Dw)}:Zv;function Dw(t){setTimeout(function(){throw t})}function Xs(t){return t==="head"}function e_(t,i){var r=i,l=0;do{var d=r.nextSibling;if(t.removeChild(r),d&&d.nodeType===8)if(r=d.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(d),eo(i);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")bl(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,bl(r);for(var h=r.firstChild;h;){var v=h.nextSibling,T=h.nodeName;h[xi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&h.rel.toLowerCase()==="stylesheet"||r.removeChild(h),h=v}}else r==="body"&&bl(t.ownerDocument.body);r=d}while(r);eo(i)}function t_(t,i){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?i?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(i?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function Xf(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Xf(r),wa(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function Ow(t,i,r,l){for(;t.nodeType===1;){var d=r;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[xi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Fn(t.nextSibling),t===null)break}return null}function Mw(t,i,r){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Fn(t.nextSibling),t===null))return null;return t}function n_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Fn(t.nextSibling),t===null))return null;return t}function Jf(t){return t.data==="$?"||t.data==="$~"}function Zf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function jw(t,i){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||r.readyState!=="loading")i();else{var l=function(){i(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Fn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Wf=null;function i_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(i===0)return Fn(t.nextSibling);i--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||i++}t=t.nextSibling}return null}function s_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(i===0)return t;i--}else r!=="/$"&&r!=="/&"||i++}t=t.previousSibling}return null}function a_(t,i,r){switch(i=Vu(r),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function bl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);wa(t)}var Gn=new Map,r_=new Set;function Pu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zi=te.d;te.d={f:Vw,r:Pw,D:Lw,C:kw,L:Uw,m:Bw,X:qw,S:zw,M:Hw};function Vw(){var t=Zi.f(),i=Iu();return t||i}function Pw(t){var i=Oi(t);i!==null&&i.tag===5&&i.type==="form"?Sy(i):Zi.r(t)}var Jr=typeof document>"u"?null:document;function o_(t,i,r){var l=Jr;if(l&&typeof i=="string"&&i){var d=ht(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),r_.has(d)||(r_.add(d),t={rel:t,crossOrigin:r,href:i},l.querySelector(d)===null&&(i=l.createElement("link"),$t(i,"link",t),gt(i),l.head.appendChild(i)))}}function Lw(t){Zi.D(t),o_("dns-prefetch",t,null)}function kw(t,i){Zi.C(t,i),o_("preconnect",t,i)}function Uw(t,i,r){Zi.L(t,i,r);var l=Jr;if(l&&t&&i){var d='link[rel="preload"][as="'+ht(i)+'"]';i==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+ht(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+ht(r.imageSizes)+'"]')):d+='[href="'+ht(t)+'"]';var h=d;switch(i){case"style":h=Zr(t);break;case"script":h=Wr(t)}Gn.has(h)||(t=b({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:t,as:i},r),Gn.set(h,t),l.querySelector(d)!==null||i==="style"&&l.querySelector(Rl(h))||i==="script"&&l.querySelector(Il(h))||(i=l.createElement("link"),$t(i,"link",t),gt(i),l.head.appendChild(i)))}}function Bw(t,i){Zi.m(t,i);var r=Jr;if(r&&t){var l=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+ht(l)+'"][href="'+ht(t)+'"]',h=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Wr(t)}if(!Gn.has(h)&&(t=b({rel:"modulepreload",href:t},i),Gn.set(h,t),r.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Il(h)))return}l=r.createElement("link"),$t(l,"link",t),gt(l),r.head.appendChild(l)}}}function zw(t,i,r){Zi.S(t,i,r);var l=Jr;if(l&&t){var d=Xn(l).hoistableStyles,h=Zr(t);i=i||"default";var v=d.get(h);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Rl(h)))T.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},r),(r=Gn.get(h))&&em(t,r);var R=v=l.createElement("link");gt(R),$t(R,"link",t),R._p=new Promise(function(U,F){R.onload=U,R.onerror=F}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Lu(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},d.set(h,v)}}}function qw(t,i){Zi.X(t,i);var r=Jr;if(r&&t){var l=Xn(r).hoistableScripts,d=Wr(t),h=l.get(d);h||(h=r.querySelector(Il(d)),h||(t=b({src:t,async:!0},i),(i=Gn.get(d))&&tm(t,i),h=r.createElement("script"),gt(h),$t(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(d,h))}}function Hw(t,i){Zi.M(t,i);var r=Jr;if(r&&t){var l=Xn(r).hoistableScripts,d=Wr(t),h=l.get(d);h||(h=r.querySelector(Il(d)),h||(t=b({src:t,async:!0,type:"module"},i),(i=Gn.get(d))&&tm(t,i),h=r.createElement("script"),gt(h),$t(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(d,h))}}function l_(t,i,r,l){var d=(d=Re.current)?Pu(d):null;if(!d)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=Zr(r.href),r=Xn(d).hoistableStyles,l=r.get(i),l||(l={type:"style",instance:null,count:0,state:null},r.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Zr(r.href);var h=Xn(d).hoistableStyles,v=h.get(t);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,v),(h=d.querySelector(Rl(t)))&&!h._p&&(v.instance=h,v.state.loading=5),Gn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Gn.set(t,r),h||Fw(d,t,r,v.state))),i&&l===null)throw Error(a(528,""));return v}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Wr(r),r=Xn(d).hoistableScripts,l=r.get(i),l||(l={type:"script",instance:null,count:0,state:null},r.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Zr(t){return'href="'+ht(t)+'"'}function Rl(t){return'link[rel="stylesheet"]['+t+"]"}function c_(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function Fw(t,i,r,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),$t(i,"link",r),gt(i),t.head.appendChild(i))}function Wr(t){return'[src="'+ht(t)+'"]'}function Il(t){return"script[async]"+t}function u_(t,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+ht(r.href)+'"]');if(l)return i.instance=l,gt(l),l;var d=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),gt(l),$t(l,"style",d),Lu(l,r.precedence,t),i.instance=l;case"stylesheet":d=Zr(r.href);var h=t.querySelector(Rl(d));if(h)return i.state.loading|=4,i.instance=h,gt(h),h;l=c_(r),(d=Gn.get(d))&&em(l,d),h=(t.ownerDocument||t).createElement("link"),gt(h);var v=h;return v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),$t(h,"link",l),i.state.loading|=4,Lu(h,r.precedence,t),i.instance=h;case"script":return h=Wr(r.src),(d=t.querySelector(Il(h)))?(i.instance=d,gt(d),d):(l=r,(d=Gn.get(h))&&(l=b({},r),tm(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),gt(d),$t(d,"link",l),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Lu(l,r.precedence,t));return i.instance}function Lu(t,i,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,h=d,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)h=T;else if(h!==d)break}h?h.parentNode.insertBefore(t,h.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(t,i.firstChild))}function em(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function tm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var ku=null;function d_(t,i,r){if(ku===null){var l=new Map,d=ku=new Map;d.set(r,l)}else d=ku,l=d.get(r),l||(l=new Map,d.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),d=0;d<r.length;d++){var h=r[d];if(!(h[xi]||h[dt]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var v=h.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(h):l.set(v,[h])}}return l}function h_(t,i,r){t=t.ownerDocument||t,t.head.insertBefore(r,i==="title"?t.querySelector("head > title"):null)}function Gw(t,i,r){if(r===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function f_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Qw(t,i,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=Zr(l.href),h=i.querySelector(Rl(d));if(h){i=h._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Uu.bind(t),i.then(t,t)),r.state.loading|=4,r.instance=h,gt(h);return}h=i.ownerDocument||i,l=c_(l),(d=Gn.get(d))&&em(l,d),h=h.createElement("link"),gt(h);var v=h;v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),$t(h,"link",l),r.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Uu.bind(t),i.addEventListener("load",r),i.addEventListener("error",r))}}var nm=0;function $w(t,i){return t.stylesheets&&t.count===0&&zu(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&zu(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+i);0<t.imgBytes&&nm===0&&(nm=62500*Iw());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&zu(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>nm?50:800)+i);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function Uu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Bu=null;function zu(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Bu=new Map,i.forEach(Kw,t),Bu=null,Uu.call(t))}function Kw(t,i){if(!(i.state.loading&4)){var r=Bu.get(t);if(r)var l=r.get(null);else{r=new Map,Bu.set(t,r);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var v=d[h];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),l=v)}l&&r.set(null,l)}d=i.instance,v=d.getAttribute("data-precedence"),h=r.get(v)||l,h===l&&r.set(null,d),r.set(v,d),this.count++,l=Uu.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),h?h.parentNode.insertBefore(d,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var Cl={$$typeof:pe,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function Yw(t,i,r,l,d,h,v,T,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.hiddenUpdates=Ci(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function m_(t,i,r,l,d,h,v,T,R,U,F,K){return t=new Yw(t,i,r,v,R,U,F,K,T),i=1,h===!0&&(i|=24),h=Rn(3,null,null,i),t.current=h,h.stateNode=t,i=jh(),i.refCount++,t.pooledCache=i,i.refCount++,h.memoizedState={element:l,isDehydrated:r,cache:i},kh(h),t}function p_(t){return t?(t=xr,t):xr}function g_(t,i,r,l,d,h){d=p_(d),l.context===null?l.context=d:l.pendingContext=d,l=Us(i),l.payload={element:r},h=h===void 0?null:h,h!==null&&(l.callback=h),r=Bs(t,l,i),r!==null&&(En(r,t,i),rl(r,t,i))}function y_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<i?r:i}}function im(t,i){y_(t,i),(t=t.alternate)&&y_(t,i)}function v_(t){if(t.tag===13||t.tag===31){var i=Pa(t,67108864);i!==null&&En(i,t,67108864),im(t,67108864)}}function __(t){if(t.tag===13||t.tag===31){var i=Dn();i=Po(i);var r=Pa(t,i);r!==null&&En(r,t,i),im(t,i)}}var qu=!0;function Xw(t,i,r,l){var d=G.T;G.T=null;var h=te.p;try{te.p=2,sm(t,i,r,l)}finally{te.p=h,G.T=d}}function Jw(t,i,r,l){var d=G.T;G.T=null;var h=te.p;try{te.p=8,sm(t,i,r,l)}finally{te.p=h,G.T=d}}function sm(t,i,r,l){if(qu){var d=am(l);if(d===null)Ff(t,i,l,Hu,r),T_(t,l);else if(Ww(d,t,i,r,l))l.stopPropagation();else if(T_(t,l),i&4&&-1<Zw.indexOf(t)){for(;d!==null;){var h=Oi(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var v=Yn(h.pendingLanes);if(v!==0){var T=h;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var R=1<<31-on(v);T.entanglements[1]|=R,v&=~R}vi(h),(Fe&6)===0&&(bu=zt()+500,Al(0))}}break;case 31:case 13:T=Pa(h,2),T!==null&&En(T,h,2),Iu(),im(h,2)}if(h=am(l),h===null&&Ff(t,i,l,Hu,r),h===d)break;d=h}d!==null&&l.stopPropagation()}else Ff(t,i,l,null,r)}}function am(t){return t=Ar(t),rm(t)}var Hu=null;function rm(t){if(Hu=null,t=Di(t),t!==null){var i=c(t);if(i===null)t=null;else{var r=i.tag;if(r===13){if(t=f(i),t!==null)return t;t=null}else if(r===31){if(t=g(i),t!==null)return t;t=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Hu=t,null}function E_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ac()){case Nt:return 2;case Mt:return 8;case Ii:case Sc:return 32;case Oo:return 268435456;default:return 32}default:return 32}}var om=!1,Js=null,Zs=null,Ws=null,Nl=new Map,xl=new Map,ea=[],Zw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function T_(t,i){switch(t){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":Nl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(i.pointerId)}}function Dl(t,i,r,l,d,h){return t===null||t.nativeEvent!==h?(t={blockedOn:i,domEventName:r,eventSystemFlags:l,nativeEvent:h,targetContainers:[d]},i!==null&&(i=Oi(i),i!==null&&v_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function Ww(t,i,r,l,d){switch(i){case"focusin":return Js=Dl(Js,t,i,r,l,d),!0;case"dragenter":return Zs=Dl(Zs,t,i,r,l,d),!0;case"mouseover":return Ws=Dl(Ws,t,i,r,l,d),!0;case"pointerover":var h=d.pointerId;return Nl.set(h,Dl(Nl.get(h)||null,t,i,r,l,d)),!0;case"gotpointercapture":return h=d.pointerId,xl.set(h,Dl(xl.get(h)||null,t,i,r,l,d)),!0}return!1}function A_(t){var i=Di(t.target);if(i!==null){var r=c(i);if(r!==null){if(i=r.tag,i===13){if(i=f(r),i!==null){t.blockedOn=i,bc(t.priority,function(){__(r)});return}}else if(i===31){if(i=g(r),i!==null){t.blockedOn=i,bc(t.priority,function(){__(r)});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fu(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var r=am(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Tr=l,r.target.dispatchEvent(l),Tr=null}else return i=Oi(r),i!==null&&v_(i),t.blockedOn=r,!1;i.shift()}return!0}function S_(t,i,r){Fu(t)&&r.delete(i)}function eb(){om=!1,Js!==null&&Fu(Js)&&(Js=null),Zs!==null&&Fu(Zs)&&(Zs=null),Ws!==null&&Fu(Ws)&&(Ws=null),Nl.forEach(S_),xl.forEach(S_)}function Gu(t,i){t.blockedOn===i&&(t.blockedOn=null,om||(om=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,eb)))}var Qu=null;function w_(t){Qu!==t&&(Qu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Qu===t&&(Qu=null);for(var i=0;i<t.length;i+=3){var r=t[i],l=t[i+1],d=t[i+2];if(typeof l!="function"){if(rm(l||r)===null)continue;break}var h=Oi(r);h!==null&&(t.splice(i,3),i-=3,af(h,{pending:!0,data:d,method:r.method,action:l},l,d))}}))}function eo(t){function i(R){return Gu(R,t)}Js!==null&&Gu(Js,t),Zs!==null&&Gu(Zs,t),Ws!==null&&Gu(Ws,t),Nl.forEach(i),xl.forEach(i);for(var r=0;r<ea.length;r++){var l=ea[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ea.length&&(r=ea[0],r.blockedOn===null);)A_(r),r.blockedOn===null&&ea.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var d=r[l],h=r[l+1],v=d[Ht]||null;if(typeof h=="function")v||w_(r);else if(v){var T=null;if(h&&h.hasAttribute("formAction")){if(d=h,v=h[Ht]||null)T=v.formAction;else if(rm(d)!==null)continue}else T=v.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),w_(r)}}}function b_(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function i(){d!==null&&(d(),d=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),d!==null&&(d(),d=null)}}}function lm(t){this._internalRoot=t}$u.prototype.render=lm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var r=i.current,l=Dn();g_(r,l,t,i,null,null)},$u.prototype.unmount=lm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;g_(t.current,2,null,t,null,null),Iu(),i[ci]=null}};function $u(t){this._internalRoot=t}$u.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ni();t={blockedOn:null,target:t,priority:i};for(var r=0;r<ea.length&&i!==0&&i<ea[r].priority;r++);ea.splice(r,0,t),r===0&&A_(t)}};var R_=e.version;if(R_!=="19.2.4")throw Error(a(527,R_,"19.2.4"));te.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=E(i),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var tb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ku.isDisabled&&Ku.supportsFiber)try{ms=Ku.inject(tb),Wt=Ku}catch{}}return Ml.createRoot=function(t,i){if(!o(t))throw Error(a(299));var r=!1,l="",d=My,h=jy,v=Vy;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(h=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=m_(t,1,!1,null,null,r,l,null,d,h,v,b_),t[ci]=i.current,Hf(t),new lm(i)},Ml.hydrateRoot=function(t,i,r){if(!o(t))throw Error(a(299));var l=!1,d="",h=My,v=jy,T=Vy,R=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),i=m_(t,1,!0,i,r??null,l,d,R,h,v,T,b_),i.context=p_(null),r=i.current,l=Dn(),l=Po(l),d=Us(l),d.callback=null,Bs(r,d,l),r=l,i.current.lanes=r,ys(i,r),vi(i),t[ci]=i.current,Hf(t),new $u(i)},Ml.version="19.2.4",Ml}var P_;function db(){if(P_)return dm.exports;P_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),dm.exports=ub(),dm.exports}var hb=db();function fb({children:s}){return m.jsx("div",{className:"app",children:s})}const mb="modulepreload",pb=function(s){return"/make-life-better-react/"+s},L_={},to=function(e,n,a){let o=Promise.resolve();if(n&&n.length>0){let E=function(S){return Promise.all(S.map(b=>Promise.resolve(b).then(V=>({status:"fulfilled",value:V}),V=>({status:"rejected",reason:V}))))};var f=E;document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),y=g?.nonce||g?.getAttribute("nonce");o=E(n.map(S=>{if(S=pb(S),S in L_)return;L_[S]=!0;const b=S.endsWith(".css"),V=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${S}"]${V}`))return;const H=document.createElement("link");if(H.rel=b?"stylesheet":mb,b||(H.as="script"),H.crossOrigin="",H.href=S,y&&H.setAttribute("nonce",y),document.head.appendChild(H),b)return new Promise((J,ne)=>{H.addEventListener("load",J),H.addEventListener("error",()=>ne(new Error(`Unable to preload CSS for ${S}`)))})}))}function c(g){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=g,window.dispatchEvent(y),!y.defaultPrevented)throw g}return o.then(g=>{for(const y of g||[])y.status==="rejected"&&c(y.reason);return e().catch(c)})};var k_={};const lT=function(s){const e=[];let n=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},gb=function(s){const e=[];let n=0,a=0;for(;n<s.length;){const o=s[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[n++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[n++],f=s[n++],g=s[n++],y=((o&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const c=s[n++],f=s[n++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},cT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],f=o+1<s.length,g=f?s[o+1]:0,y=o+2<s.length,E=y?s[o+2]:0,S=c>>2,b=(c&3)<<4|g>>4;let V=(g&15)<<2|E>>6,H=E&63;y||(H=64,f||(V=64)),a.push(n[S],n[b],n[V],n[H])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(lT(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):gb(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=n[s.charAt(o++)],g=o<s.length?n[s.charAt(o)]:0;++o;const E=o<s.length?n[s.charAt(o)]:64;++o;const b=o<s.length?n[s.charAt(o)]:64;if(++o,c==null||g==null||E==null||b==null)throw new yb;const V=c<<2|g>>4;if(a.push(V),E!==64){const H=g<<4&240|E>>2;if(a.push(H),b!==64){const J=E<<6&192|b;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class yb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vb=function(s){const e=lT(s);return cT.encodeByteArray(e,!0)},ud=function(s){return vb(s).replace(/\./g,"")},uT=function(s){try{return cT.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _b(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Eb=()=>_b().__FIREBASE_DEFAULTS__,Tb=()=>{if(typeof process>"u"||typeof k_>"u")return;const s=k_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Ab=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&uT(s[1]);return e&&JSON.parse(e)},Id=()=>{try{return Eb()||Tb()||Ab()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},dT=s=>{var e,n;return(n=(e=Id())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[s]},Sb=s=>{const e=dT(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},hT=()=>{var s;return(s=Id())===null||s===void 0?void 0:s.config},fT=s=>{var e;return(e=Id())===null||e===void 0?void 0:e[`_${s}`]};class wb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}function bb(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[ud(JSON.stringify(n)),ud(JSON.stringify(f)),""].join(".")}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Rb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function Ib(){var s;const e=(s=Id())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Cb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Nb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function xb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Db(){const s=rn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Ob(){return!Ib()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Mb(){try{return typeof indexedDB=="object"}catch{return!1}}function jb(){return new Promise((s,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}const Vb="FirebaseError";class us extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=Vb,Object.setPrototypeOf(this,us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ac.prototype.create)}}class ac{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?Pb(c,a):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new us(o,g,a)}}function Pb(s,e){return s.replace(Lb,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const Lb=/\{\$([^}]+)}/g;function kb(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function dd(s,e){if(s===e)return!0;const n=Object.keys(s),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const c=s[o],f=e[o];if(U_(c)&&U_(f)){if(!dd(c,f))return!1}else if(c!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function U_(s){return s!==null&&typeof s=="object"}function rc(s){const e=[];for(const[n,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Vl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,c]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Pl(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function Ub(s,e){const n=new Bb(s,e);return n.subscribe.bind(n)}class Bb{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");zb(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=pm),o.error===void 0&&(o.error=pm),o.complete===void 0&&(o.complete=pm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zb(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function pm(){}function Ot(s){return s&&s._delegate?s._delegate:s}class Wa{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ya="[DEFAULT]";class qb{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new wb;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e?.identifier),o=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Fb(e))try{this.getOrInitializeService({instanceIdentifier:Ya})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=Ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ya){return this.instances.has(e)}getOptions(e=Ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&f.resolve(o)}return o}onInit(e,n){var a;const o=this.normalizeInstanceIdentifier(n),c=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;c.add(e),this.onInitCallbacks.set(o,c);const f=this.instances.get(o);return f&&e(f,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Hb(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Ya){return this.component?this.component.multipleInstances?e:Ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Hb(s){return s===Ya?void 0:s}function Fb(s){return s.instantiationMode==="EAGER"}class Gb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pe||(Pe={}));const Qb={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},$b=Pe.INFO,Kb={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},Yb=(s,e,...n)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=Kb[e];if(o)console[o](`[${a}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ap{constructor(e){this.name=e,this._logLevel=$b,this._logHandler=Yb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Qb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const Xb=(s,e)=>e.some(n=>s instanceof n);let B_,z_;function Jb(){return B_||(B_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Zb(){return z_||(z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mT=new WeakMap,Nm=new WeakMap,pT=new WeakMap,gm=new WeakMap,rp=new WeakMap;function Wb(s){const e=new Promise((n,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",f)},c=()=>{n(ca(s.result)),o()},f=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&mT.set(n,s)}).catch(()=>{}),rp.set(e,s),e}function eR(s){if(Nm.has(s))return;const e=new Promise((n,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",f),s.removeEventListener("abort",f)},c=()=>{n(),o()},f=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",f),s.addEventListener("abort",f)});Nm.set(s,e)}let xm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Nm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||pT.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ca(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function tR(s){xm=s(xm)}function nR(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=s.call(ym(this),e,...n);return pT.set(a,e.sort?e.sort():[e]),ca(a)}:Zb().includes(s)?function(...e){return s.apply(ym(this),e),ca(mT.get(this))}:function(...e){return ca(s.apply(ym(this),e))}}function iR(s){return typeof s=="function"?nR(s):(s instanceof IDBTransaction&&eR(s),Xb(s,Jb())?new Proxy(s,xm):s)}function ca(s){if(s instanceof IDBRequest)return Wb(s);if(gm.has(s))return gm.get(s);const e=iR(s);return e!==s&&(gm.set(s,e),rp.set(e,s)),e}const ym=s=>rp.get(s);function sR(s,e,{blocked:n,upgrade:a,blocking:o,terminated:c}={}){const f=indexedDB.open(s,e),g=ca(f);return a&&f.addEventListener("upgradeneeded",y=>{a(ca(f.result),y.oldVersion,y.newVersion,ca(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",E=>o(E.oldVersion,E.newVersion,E))}).catch(()=>{}),g}const aR=["get","getKey","getAll","getAllKeys","count"],rR=["put","add","delete","clear"],vm=new Map;function q_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(vm.get(e))return vm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=rR.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||aR.includes(n)))return;const c=async function(f,...g){const y=this.transaction(f,o?"readwrite":"readonly");let E=y.store;return a&&(E=E.index(g.shift())),(await Promise.all([E[n](...g),o&&y.done]))[0]};return vm.set(e,c),c}tR(s=>({...s,get:(e,n,a)=>q_(e,n)||s.get(e,n,a),has:(e,n)=>!!q_(e,n)||s.has(e,n)}));class oR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lR(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function lR(s){const e=s.getComponent();return e?.type==="VERSION"}const Dm="@firebase/app",H_="0.10.13";const ss=new ap("@firebase/app"),cR="@firebase/app-compat",uR="@firebase/analytics-compat",dR="@firebase/analytics",hR="@firebase/app-check-compat",fR="@firebase/app-check",mR="@firebase/auth",pR="@firebase/auth-compat",gR="@firebase/database",yR="@firebase/data-connect",vR="@firebase/database-compat",_R="@firebase/functions",ER="@firebase/functions-compat",TR="@firebase/installations",AR="@firebase/installations-compat",SR="@firebase/messaging",wR="@firebase/messaging-compat",bR="@firebase/performance",RR="@firebase/performance-compat",IR="@firebase/remote-config",CR="@firebase/remote-config-compat",NR="@firebase/storage",xR="@firebase/storage-compat",DR="@firebase/firestore",OR="@firebase/vertexai-preview",MR="@firebase/firestore-compat",jR="firebase",VR="10.14.1";const Om="[DEFAULT]",PR={[Dm]:"fire-core",[cR]:"fire-core-compat",[dR]:"fire-analytics",[uR]:"fire-analytics-compat",[fR]:"fire-app-check",[hR]:"fire-app-check-compat",[mR]:"fire-auth",[pR]:"fire-auth-compat",[gR]:"fire-rtdb",[yR]:"fire-data-connect",[vR]:"fire-rtdb-compat",[_R]:"fire-fn",[ER]:"fire-fn-compat",[TR]:"fire-iid",[AR]:"fire-iid-compat",[SR]:"fire-fcm",[wR]:"fire-fcm-compat",[bR]:"fire-perf",[RR]:"fire-perf-compat",[IR]:"fire-rc",[CR]:"fire-rc-compat",[NR]:"fire-gcs",[xR]:"fire-gcs-compat",[DR]:"fire-fst",[MR]:"fire-fst-compat",[OR]:"fire-vertex","fire-js":"fire-js",[jR]:"fire-js-all"};const hd=new Map,LR=new Map,Mm=new Map;function F_(s,e){try{s.container.addComponent(e)}catch(n){ss.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function mo(s){const e=s.name;if(Mm.has(e))return ss.debug(`There were multiple attempts to register component ${e}.`),!1;Mm.set(e,s);for(const n of hd.values())F_(n,s);for(const n of LR.values())F_(n,s);return!0}function op(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function _i(s){return s.settings!==void 0}const kR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ua=new ac("app","Firebase",kR);class UR{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ua.create("app-deleted",{appName:this._name})}}const So=VR;function gT(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Om,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw ua.create("bad-app-name",{appName:String(o)});if(n||(n=hT()),!n)throw ua.create("no-options");const c=hd.get(o);if(c){if(dd(n,c.options)&&dd(a,c.config))return c;throw ua.create("duplicate-app",{appName:o})}const f=new Gb(o);for(const y of Mm.values())f.addComponent(y);const g=new UR(n,a,f);return hd.set(o,g),g}function yT(s=Om){const e=hd.get(s);if(!e&&s===Om&&hT())return gT();if(!e)throw ua.create("no-app",{appName:s});return e}function da(s,e,n){var a;let o=(a=PR[s])!==null&&a!==void 0?a:s;n&&(o+=`-${n}`);const c=o.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const g=[`Unable to register library "${o}" with version "${e}":`];c&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&f&&g.push("and"),f&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ss.warn(g.join(" "));return}mo(new Wa(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}const BR="firebase-heartbeat-database",zR=1,Kl="firebase-heartbeat-store";let _m=null;function vT(){return _m||(_m=sR(BR,zR,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Kl)}catch(n){console.warn(n)}}}}).catch(s=>{throw ua.create("idb-open",{originalErrorMessage:s.message})})),_m}async function qR(s){try{const n=(await vT()).transaction(Kl),a=await n.objectStore(Kl).get(_T(s));return await n.done,a}catch(e){if(e instanceof us)ss.warn(e.message);else{const n=ua.create("idb-get",{originalErrorMessage:e?.message});ss.warn(n.message)}}}async function G_(s,e){try{const a=(await vT()).transaction(Kl,"readwrite");await a.objectStore(Kl).put(e,_T(s)),await a.done}catch(n){if(n instanceof us)ss.warn(n.message);else{const a=ua.create("idb-set",{originalErrorMessage:n?.message});ss.warn(a.message)}}}function _T(s){return`${s.name}!${s.options.appId}`}const HR=1024,FR=720*60*60*1e3;class GR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $R(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Q_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const g=new Date(f.date).valueOf();return Date.now()-g<=FR}),this._storage.overwrite(this._heartbeatsCache))}catch(a){ss.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Q_(),{heartbeatsToSend:a,unsentEntries:o}=QR(this._heartbeatsCache.heartbeats),c=ud(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return ss.warn(n),""}}}function Q_(){return new Date().toISOString().substring(0,10)}function QR(s,e=HR){const n=[];let a=s.slice();for(const o of s){const c=n.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),$_(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),$_(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class $R{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Mb()?jb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return G_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return G_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function $_(s){return ud(JSON.stringify({version:2,heartbeats:s})).length}function KR(s){mo(new Wa("platform-logger",e=>new oR(e),"PRIVATE")),mo(new Wa("heartbeat",e=>new GR(e),"PRIVATE")),da(Dm,H_,s),da(Dm,H_,"esm2017"),da("fire-js","")}KR("");var YR="firebase",XR="10.14.1";da(YR,XR,"app");var K_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Za,ET;(function(){var s;function e(N,w){function I(){}I.prototype=w.prototype,N.D=w.prototype,N.prototype=new I,N.prototype.constructor=N,N.C=function(O,M,P){for(var C=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)C[Ct-2]=arguments[Ct];return w.prototype[M].apply(O,C)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,w,I){I||(I=0);var O=Array(16);if(typeof w=="string")for(var M=0;16>M;++M)O[M]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(M=0;16>M;++M)O[M]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=N.g[0],I=N.g[1],M=N.g[2];var P=N.g[3],C=w+(P^I&(M^P))+O[0]+3614090360&4294967295;w=I+(C<<7&4294967295|C>>>25),C=P+(M^w&(I^M))+O[1]+3905402710&4294967295,P=w+(C<<12&4294967295|C>>>20),C=M+(I^P&(w^I))+O[2]+606105819&4294967295,M=P+(C<<17&4294967295|C>>>15),C=I+(w^M&(P^w))+O[3]+3250441966&4294967295,I=M+(C<<22&4294967295|C>>>10),C=w+(P^I&(M^P))+O[4]+4118548399&4294967295,w=I+(C<<7&4294967295|C>>>25),C=P+(M^w&(I^M))+O[5]+1200080426&4294967295,P=w+(C<<12&4294967295|C>>>20),C=M+(I^P&(w^I))+O[6]+2821735955&4294967295,M=P+(C<<17&4294967295|C>>>15),C=I+(w^M&(P^w))+O[7]+4249261313&4294967295,I=M+(C<<22&4294967295|C>>>10),C=w+(P^I&(M^P))+O[8]+1770035416&4294967295,w=I+(C<<7&4294967295|C>>>25),C=P+(M^w&(I^M))+O[9]+2336552879&4294967295,P=w+(C<<12&4294967295|C>>>20),C=M+(I^P&(w^I))+O[10]+4294925233&4294967295,M=P+(C<<17&4294967295|C>>>15),C=I+(w^M&(P^w))+O[11]+2304563134&4294967295,I=M+(C<<22&4294967295|C>>>10),C=w+(P^I&(M^P))+O[12]+1804603682&4294967295,w=I+(C<<7&4294967295|C>>>25),C=P+(M^w&(I^M))+O[13]+4254626195&4294967295,P=w+(C<<12&4294967295|C>>>20),C=M+(I^P&(w^I))+O[14]+2792965006&4294967295,M=P+(C<<17&4294967295|C>>>15),C=I+(w^M&(P^w))+O[15]+1236535329&4294967295,I=M+(C<<22&4294967295|C>>>10),C=w+(M^P&(I^M))+O[1]+4129170786&4294967295,w=I+(C<<5&4294967295|C>>>27),C=P+(I^M&(w^I))+O[6]+3225465664&4294967295,P=w+(C<<9&4294967295|C>>>23),C=M+(w^I&(P^w))+O[11]+643717713&4294967295,M=P+(C<<14&4294967295|C>>>18),C=I+(P^w&(M^P))+O[0]+3921069994&4294967295,I=M+(C<<20&4294967295|C>>>12),C=w+(M^P&(I^M))+O[5]+3593408605&4294967295,w=I+(C<<5&4294967295|C>>>27),C=P+(I^M&(w^I))+O[10]+38016083&4294967295,P=w+(C<<9&4294967295|C>>>23),C=M+(w^I&(P^w))+O[15]+3634488961&4294967295,M=P+(C<<14&4294967295|C>>>18),C=I+(P^w&(M^P))+O[4]+3889429448&4294967295,I=M+(C<<20&4294967295|C>>>12),C=w+(M^P&(I^M))+O[9]+568446438&4294967295,w=I+(C<<5&4294967295|C>>>27),C=P+(I^M&(w^I))+O[14]+3275163606&4294967295,P=w+(C<<9&4294967295|C>>>23),C=M+(w^I&(P^w))+O[3]+4107603335&4294967295,M=P+(C<<14&4294967295|C>>>18),C=I+(P^w&(M^P))+O[8]+1163531501&4294967295,I=M+(C<<20&4294967295|C>>>12),C=w+(M^P&(I^M))+O[13]+2850285829&4294967295,w=I+(C<<5&4294967295|C>>>27),C=P+(I^M&(w^I))+O[2]+4243563512&4294967295,P=w+(C<<9&4294967295|C>>>23),C=M+(w^I&(P^w))+O[7]+1735328473&4294967295,M=P+(C<<14&4294967295|C>>>18),C=I+(P^w&(M^P))+O[12]+2368359562&4294967295,I=M+(C<<20&4294967295|C>>>12),C=w+(I^M^P)+O[5]+4294588738&4294967295,w=I+(C<<4&4294967295|C>>>28),C=P+(w^I^M)+O[8]+2272392833&4294967295,P=w+(C<<11&4294967295|C>>>21),C=M+(P^w^I)+O[11]+1839030562&4294967295,M=P+(C<<16&4294967295|C>>>16),C=I+(M^P^w)+O[14]+4259657740&4294967295,I=M+(C<<23&4294967295|C>>>9),C=w+(I^M^P)+O[1]+2763975236&4294967295,w=I+(C<<4&4294967295|C>>>28),C=P+(w^I^M)+O[4]+1272893353&4294967295,P=w+(C<<11&4294967295|C>>>21),C=M+(P^w^I)+O[7]+4139469664&4294967295,M=P+(C<<16&4294967295|C>>>16),C=I+(M^P^w)+O[10]+3200236656&4294967295,I=M+(C<<23&4294967295|C>>>9),C=w+(I^M^P)+O[13]+681279174&4294967295,w=I+(C<<4&4294967295|C>>>28),C=P+(w^I^M)+O[0]+3936430074&4294967295,P=w+(C<<11&4294967295|C>>>21),C=M+(P^w^I)+O[3]+3572445317&4294967295,M=P+(C<<16&4294967295|C>>>16),C=I+(M^P^w)+O[6]+76029189&4294967295,I=M+(C<<23&4294967295|C>>>9),C=w+(I^M^P)+O[9]+3654602809&4294967295,w=I+(C<<4&4294967295|C>>>28),C=P+(w^I^M)+O[12]+3873151461&4294967295,P=w+(C<<11&4294967295|C>>>21),C=M+(P^w^I)+O[15]+530742520&4294967295,M=P+(C<<16&4294967295|C>>>16),C=I+(M^P^w)+O[2]+3299628645&4294967295,I=M+(C<<23&4294967295|C>>>9),C=w+(M^(I|~P))+O[0]+4096336452&4294967295,w=I+(C<<6&4294967295|C>>>26),C=P+(I^(w|~M))+O[7]+1126891415&4294967295,P=w+(C<<10&4294967295|C>>>22),C=M+(w^(P|~I))+O[14]+2878612391&4294967295,M=P+(C<<15&4294967295|C>>>17),C=I+(P^(M|~w))+O[5]+4237533241&4294967295,I=M+(C<<21&4294967295|C>>>11),C=w+(M^(I|~P))+O[12]+1700485571&4294967295,w=I+(C<<6&4294967295|C>>>26),C=P+(I^(w|~M))+O[3]+2399980690&4294967295,P=w+(C<<10&4294967295|C>>>22),C=M+(w^(P|~I))+O[10]+4293915773&4294967295,M=P+(C<<15&4294967295|C>>>17),C=I+(P^(M|~w))+O[1]+2240044497&4294967295,I=M+(C<<21&4294967295|C>>>11),C=w+(M^(I|~P))+O[8]+1873313359&4294967295,w=I+(C<<6&4294967295|C>>>26),C=P+(I^(w|~M))+O[15]+4264355552&4294967295,P=w+(C<<10&4294967295|C>>>22),C=M+(w^(P|~I))+O[6]+2734768916&4294967295,M=P+(C<<15&4294967295|C>>>17),C=I+(P^(M|~w))+O[13]+1309151649&4294967295,I=M+(C<<21&4294967295|C>>>11),C=w+(M^(I|~P))+O[4]+4149444226&4294967295,w=I+(C<<6&4294967295|C>>>26),C=P+(I^(w|~M))+O[11]+3174756917&4294967295,P=w+(C<<10&4294967295|C>>>22),C=M+(w^(P|~I))+O[2]+718787259&4294967295,M=P+(C<<15&4294967295|C>>>17),C=I+(P^(M|~w))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+P&4294967295}a.prototype.u=function(N,w){w===void 0&&(w=N.length);for(var I=w-this.blockSize,O=this.B,M=this.h,P=0;P<w;){if(M==0)for(;P<=I;)o(this,N,P),P+=this.blockSize;if(typeof N=="string"){for(;P<w;)if(O[M++]=N.charCodeAt(P++),M==this.blockSize){o(this,O),M=0;break}}else for(;P<w;)if(O[M++]=N[P++],M==this.blockSize){o(this,O),M=0;break}}this.h=M,this.o+=w},a.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;var I=8*this.o;for(w=N.length-8;w<N.length;++w)N[w]=I&255,I/=256;for(this.u(N),N=Array(16),w=I=0;4>w;++w)for(var O=0;32>O;O+=8)N[I++]=this.g[w]>>>O&255;return N};function c(N,w){var I=g;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=w(N)}function f(N,w){this.h=w;for(var I=[],O=!0,M=N.length-1;0<=M;M--){var P=N[M]|0;O&&P==w||(I[M]=P,O=!1)}this.g=I}var g={};function y(N){return-128<=N&&128>N?c(N,function(w){return new f([w|0],0>w?-1:0)}):new f([N|0],0>N?-1:0)}function E(N){if(isNaN(N)||!isFinite(N))return b;if(0>N)return ee(E(-N));for(var w=[],I=1,O=0;N>=I;O++)w[O]=N/I|0,I*=4294967296;return new f(w,0)}function S(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return ee(S(N.substring(1),w));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=E(Math.pow(w,8)),O=b,M=0;M<N.length;M+=8){var P=Math.min(8,N.length-M),C=parseInt(N.substring(M,M+P),w);8>P?(P=E(Math.pow(w,P)),O=O.j(P).add(E(C))):(O=O.j(I),O=O.add(E(C)))}return O}var b=y(0),V=y(1),H=y(16777216);s=f.prototype,s.m=function(){if(ne(this))return-ee(this).m();for(var N=0,w=1,I=0;I<this.g.length;I++){var O=this.i(I);N+=(0<=O?O:4294967296+O)*w,w*=4294967296}return N},s.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(J(this))return"0";if(ne(this))return"-"+ee(this).toString(N);for(var w=E(Math.pow(N,6)),I=this,O="";;){var M=Le(I,w).g;I=ye(I,M.j(w));var P=((0<I.g.length?I.g[0]:I.h)>>>0).toString(N);if(I=M,J(I))return P+O;for(;6>P.length;)P="0"+P;O=P+O}},s.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function J(N){if(N.h!=0)return!1;for(var w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function ne(N){return N.h==-1}s.l=function(N){return N=ye(this,N),ne(N)?-1:J(N)?0:1};function ee(N){for(var w=N.g.length,I=[],O=0;O<w;O++)I[O]=~N.g[O];return new f(I,~N.h).add(V)}s.abs=function(){return ne(this)?ee(this):this},s.add=function(N){for(var w=Math.max(this.g.length,N.g.length),I=[],O=0,M=0;M<=w;M++){var P=O+(this.i(M)&65535)+(N.i(M)&65535),C=(P>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);O=C>>>16,P&=65535,C&=65535,I[M]=C<<16|P}return new f(I,I[I.length-1]&-2147483648?-1:0)};function ye(N,w){return N.add(ee(w))}s.j=function(N){if(J(this)||J(N))return b;if(ne(this))return ne(N)?ee(this).j(ee(N)):ee(ee(this).j(N));if(ne(N))return ee(this.j(ee(N)));if(0>this.l(H)&&0>N.l(H))return E(this.m()*N.m());for(var w=this.g.length+N.g.length,I=[],O=0;O<2*w;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<N.g.length;M++){var P=this.i(O)>>>16,C=this.i(O)&65535,Ct=N.i(M)>>>16,Ut=N.i(M)&65535;I[2*O+2*M]+=C*Ut,be(I,2*O+2*M),I[2*O+2*M+1]+=P*Ut,be(I,2*O+2*M+1),I[2*O+2*M+1]+=C*Ct,be(I,2*O+2*M+1),I[2*O+2*M+2]+=P*Ct,be(I,2*O+2*M+2)}for(O=0;O<w;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=w;O<2*w;O++)I[O]=0;return new f(I,0)};function be(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function pe(N,w){this.g=N,this.h=w}function Le(N,w){if(J(w))throw Error("division by zero");if(J(N))return new pe(b,b);if(ne(N))return w=Le(ee(N),w),new pe(ee(w.g),ee(w.h));if(ne(w))return w=Le(N,ee(w)),new pe(ee(w.g),w.h);if(30<N.g.length){if(ne(N)||ne(w))throw Error("slowDivide_ only works with positive integers.");for(var I=V,O=w;0>=O.l(N);)I=ot(I),O=ot(O);var M=xe(I,1),P=xe(O,1);for(O=xe(O,2),I=xe(I,2);!J(O);){var C=P.add(O);0>=C.l(N)&&(M=M.add(I),P=C),O=xe(O,1),I=xe(I,1)}return w=ye(N,M.j(w)),new pe(M,w)}for(M=b;0<=N.l(w);){for(I=Math.max(1,Math.floor(N.m()/w.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),P=E(I),C=P.j(w);ne(C)||0<C.l(N);)I-=O,P=E(I),C=P.j(w);J(P)&&(P=V),M=M.add(P),N=ye(N,C)}return new pe(M,N)}s.A=function(N){return Le(this,N).h},s.and=function(N){for(var w=Math.max(this.g.length,N.g.length),I=[],O=0;O<w;O++)I[O]=this.i(O)&N.i(O);return new f(I,this.h&N.h)},s.or=function(N){for(var w=Math.max(this.g.length,N.g.length),I=[],O=0;O<w;O++)I[O]=this.i(O)|N.i(O);return new f(I,this.h|N.h)},s.xor=function(N){for(var w=Math.max(this.g.length,N.g.length),I=[],O=0;O<w;O++)I[O]=this.i(O)^N.i(O);return new f(I,this.h^N.h)};function ot(N){for(var w=N.g.length+1,I=[],O=0;O<w;O++)I[O]=N.i(O)<<1|N.i(O-1)>>>31;return new f(I,N.h)}function xe(N,w){var I=w>>5;w%=32;for(var O=N.g.length-I,M=[],P=0;P<O;P++)M[P]=0<w?N.i(P+I)>>>w|N.i(P+I+1)<<32-w:N.i(P+I);return new f(M,N.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,ET=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=E,f.fromString=S,Za=f}).apply(typeof K_<"u"?K_:typeof self<"u"?self:typeof window<"u"?window:{});var Yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var TT,Ll,AT,td,jm,ST,wT,bT;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,_){return u==Array.prototype||u==Object.prototype||(u[p]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yu=="object"&&Yu];for(var p=0;p<u.length;++p){var _=u[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=n(this);function o(u,p){if(p)e:{var _=a;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in _))break e;_=_[L]}u=u[u.length-1],A=_[u],p=p(A),p!=A&&p!=null&&e(_,u,{configurable:!0,writable:!0,value:p})}}function c(u,p){u instanceof String&&(u+="");var _=0,A=!1,L={next:function(){if(!A&&_<u.length){var q=_++;return{value:p(q,u[q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return c(this,function(p,_){return _})}});var f=f||{},g=this||self;function y(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function E(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function S(u,p,_){return u.call.apply(u.bind,arguments)}function b(u,p,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,A),u.apply(p,L)}}return function(){return u.apply(p,arguments)}}function V(u,p,_){return V=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:b,V.apply(null,arguments)}function H(u,p){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function J(u,p){function _(){}_.prototype=p.prototype,u.aa=p.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,L,q){for(var W=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)W[Qe-2]=arguments[Qe];return p.prototype[L].apply(A,W)}}function ne(u){const p=u.length;if(0<p){const _=Array(p);for(let A=0;A<p;A++)_[A]=u[A];return _}return[]}function ee(u,p){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(y(A)){const L=u.length||0,q=A.length||0;u.length=L+q;for(let W=0;W<q;W++)u[L+W]=A[W]}else u.push(A)}}class ye{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function be(u){return/^[\s\xa0]*$/.test(u)}function pe(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Le(u){return Le[" "](u),u}Le[" "]=function(){};var ot=pe().indexOf("Gecko")!=-1&&!(pe().toLowerCase().indexOf("webkit")!=-1&&pe().indexOf("Edge")==-1)&&!(pe().indexOf("Trident")!=-1||pe().indexOf("MSIE")!=-1)&&pe().indexOf("Edge")==-1;function xe(u,p,_){for(const A in u)p.call(_,u[A],A,u)}function N(u,p){for(const _ in u)p.call(void 0,u[_],_,u)}function w(u){const p={};for(const _ in u)p[_]=u[_];return p}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,p){let _,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(_ in A)u[_]=A[_];for(let q=0;q<I.length;q++)_=I[q],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function M(u){var p=1;u=u.split(":");const _=[];for(;0<p&&u.length;)_.push(u.shift()),p--;return u.length&&_.push(u.join(":")),_}function P(u){g.setTimeout(()=>{throw u},0)}function C(){var u=Ue;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Ct{constructor(){this.h=this.g=null}add(p,_){const A=Ut.get();A.set(p,_),this.h?this.h.next=A:this.g=A,this.h=A}}var Ut=new ye(()=>new G,u=>u.reset());class G{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let te,ue=!1,Ue=new Ct,Ge=()=>{const u=g.Promise.resolve(void 0);te=()=>{u.then(D)}};var D=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(_){P(_)}var p=Ut;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}ue=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var re=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,p),g.removeEventListener("test",_,p)}catch{}return u})();function fe(u,p){if(Z.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(ot){e:{try{Le(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else _=="mouseover"?p=u.fromElement:_=="mouseout"&&(p=u.toElement);this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Re[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&fe.aa.h.call(this)}}J(fe,Z);var Re={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),Bt=0;function lt(u,p,_,A,L){this.listener=u,this.proxy=null,this.src=p,this.type=_,this.capture=!!A,this.ha=L,this.key=++Bt,this.da=this.fa=!1}function ri(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ri(u){this.src=u,this.g={},this.h=0}Ri.prototype.add=function(u,p,_,A,L){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var W=hr(u,p,A,L);return-1<W?(p=u[W],_||(p.fa=!1)):(p=new lt(p,this.src,q,!!A,L),p.fa=_,u.push(p)),p};function _a(u,p){var _=p.type;if(_ in u.g){var A=u.g[_],L=Array.prototype.indexOf.call(A,p,void 0),q;(q=0<=L)&&Array.prototype.splice.call(A,L,1),q&&(ri(p),u.g[_].length==0&&(delete u.g[_],u.h--))}}function hr(u,p,_,A){for(var L=0;L<u.length;++L){var q=u[L];if(!q.da&&q.listener==p&&q.capture==!!_&&q.ha==A)return L}return-1}var Kn="closure_lm_"+(1e6*Math.random()|0),Ea={};function fr(u,p,_,A,L){if(Array.isArray(p)){for(var q=0;q<p.length;q++)fr(u,p[q],_,A,L);return null}return _=Ac(_),u&&u[je]?u.K(p,_,E(A)?!!A.capture:!1,L):ah(u,p,_,!1,A,L)}function ah(u,p,_,A,L,q){if(!p)throw Error("Invalid event type");var W=E(L)?!!L.capture:!!L,Qe=Do(u);if(Qe||(u[Kn]=Qe=new Ri(u)),_=Qe.add(p,_,A,W,q),_.proxy)return _;if(A=Tc(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)re||(L=W),L===void 0&&(L=!1),u.addEventListener(p.toString(),A,L);else if(u.attachEvent)u.attachEvent(pr(p.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Tc(){function u(_){return p.call(u.src,u.listener,_)}const p=rh;return u}function mr(u,p,_,A,L){if(Array.isArray(p))for(var q=0;q<p.length;q++)mr(u,p[q],_,A,L);else A=E(A)?!!A.capture:!!A,_=Ac(_),u&&u[je]?(u=u.i,p=String(p).toString(),p in u.g&&(q=u.g[p],_=hr(q,_,A,L),-1<_&&(ri(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete u.g[p],u.h--)))):u&&(u=Do(u))&&(p=u.g[p.toString()],u=-1,p&&(u=hr(p,_,A,L)),(_=-1<u?p[u]:null)&&Ta(_))}function Ta(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[je])_a(p.i,u);else{var _=u.type,A=u.proxy;p.removeEventListener?p.removeEventListener(_,A,u.capture):p.detachEvent?p.detachEvent(pr(_),A):p.addListener&&p.removeListener&&p.removeListener(A),(_=Do(p))?(_a(_,u),_.h==0&&(_.src=null,p[Kn]=null)):ri(u)}}}function pr(u){return u in Ea?Ea[u]:Ea[u]="on"+u}function rh(u,p){if(u.da)u=!0;else{p=new fe(p,this);var _=u.listener,A=u.ha||u.src;u.fa&&Ta(u),u=_.call(A,p)}return u}function Do(u){return u=u[Kn],u instanceof Ri?u:null}var zt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ac(u){return typeof u=="function"?u:(u[zt]||(u[zt]=function(p){return u.handleEvent(p)}),u[zt])}function Nt(){Q.call(this),this.i=new Ri(this),this.M=this,this.F=null}J(Nt,Q),Nt.prototype[je]=!0,Nt.prototype.removeEventListener=function(u,p,_,A){mr(this,u,p,_,A)};function Mt(u,p){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=p.type||p,typeof p=="string")p=new Z(p,u);else if(p instanceof Z)p.target=p.target||u;else{var L=p;p=new Z(A,u),O(p,L)}if(L=!0,_)for(var q=_.length-1;0<=q;q--){var W=p.g=_[q];L=Ii(W,A,!0,p)&&L}if(W=p.g=u,L=Ii(W,A,!0,p)&&L,L=Ii(W,A,!1,p)&&L,_)for(q=0;q<_.length;q++)W=p.g=_[q],L=Ii(W,A,!1,p)&&L}Nt.prototype.N=function(){if(Nt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var _=u.g[p],A=0;A<_.length;A++)ri(_[A]);delete u.g[p],u.h--}}this.F=null},Nt.prototype.K=function(u,p,_,A){return this.i.add(String(u),p,!1,_,A)},Nt.prototype.L=function(u,p,_,A){return this.i.add(String(u),p,!0,_,A)};function Ii(u,p,_,A){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,q=0;q<p.length;++q){var W=p[q];if(W&&!W.da&&W.capture==_){var Qe=W.listener,Et=W.ha||W.src;W.fa&&_a(u.i,W),L=Qe.call(Et,A)!==!1&&L}}return L&&!A.defaultPrevented}function Sc(u,p,_){if(typeof u=="function")_&&(u=V(u,_));else if(u&&typeof u.handleEvent=="function")u=V(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:g.setTimeout(u,p||0)}function Oo(u){u.g=Sc(()=>{u.g=null,u.i&&(u.i=!1,Oo(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class oh extends Q{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Oo(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Aa(u){Q.call(this),this.h=u,this.g={}}J(Aa,Q);var ms=[];function Wt(u){xe(u.g,function(p,_){this.g.hasOwnProperty(_)&&Ta(p)},u),u.g={}}Aa.prototype.N=function(){Aa.aa.N.call(this),Wt(this)},Aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jn=g.JSON.stringify,on=g.JSON.parse,lh=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Mo(){}Mo.prototype.h=null;function wc(u){return u.h||(u.h=u.i())}function Sa(){}var oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ps(){Z.call(this,"d")}J(ps,Z);function Yn(){Z.call(this,"c")}J(Yn,Z);var Vn={},gs=null;function gr(){return gs=gs||new Nt}Vn.La="serverreachability";function jo(u){Z.call(this,Vn.La,u)}J(jo,Z);function Ci(u){const p=gr();Mt(p,new jo(p))}Vn.STAT_EVENT="statevent";function ys(u,p){Z.call(this,Vn.STAT_EVENT,u),this.stat=p}J(ys,Z);function qt(u){const p=gr();Mt(p,new ys(p,u))}Vn.Ma="timingevent";function Vo(u,p){Z.call(this,Vn.Ma,u),this.size=p}J(Vo,Z);function vs(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},p)}function _s(){this.g=!0}_s.prototype.xa=function(){this.g=!1};function Po(u,p,_,A,L,q){u.info(function(){if(u.g)if(q)for(var W="",Qe=q.split("&"),Et=0;Et<Qe.length;Et++){var Ie=Qe[Et].split("=");if(1<Ie.length){var Vt=Ie[0];Ie=Ie[1];var Pt=Vt.split("_");W=2<=Pt.length&&Pt[1]=="type"?W+(Vt+"="+Ie+"&"):W+(Vt+"=redacted&")}}else W=null;else W=q;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+p+`
`+_+`
`+W})}function Lo(u,p,_,A,L,q,W){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+p+`
`+_+`
`+q+" "+W})}function Ni(u,p,_,A){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+li(u,_)+(A?" "+A:"")})}function bc(u,p){u.info(function(){return"TIMEOUT: "+p})}_s.prototype.info=function(){};function li(u,p){if(!u.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var L=A[1];if(Array.isArray(L)&&!(1>L.length)){var q=L[0];if(q!="noop"&&q!="stop"&&q!="close")for(var W=1;W<L.length;W++)L[W]=""}}}}return jn(_)}catch{return p}}var dt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ht={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ci;function Es(){}J(Es,Mo),Es.prototype.g=function(){return new XMLHttpRequest},Es.prototype.i=function(){return{}},ci=new Es;function ui(u,p,_,A){this.j=u,this.i=p,this.l=_,this.R=A||1,this.U=new Aa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Rc}function Rc(){this.i=null,this.g="",this.h=!1}var ko={},xi={};function wa(u,p,_){u.L=1,u.v=Ia(ht(p)),u.m=_,u.P=!0,Di(u,null)}function Di(u,p){u.F=Date.now(),Xn(u),u.A=ht(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),ji(_.i,"t",A),u.C=0,_=u.j.J,u.h=new Rc,u.g=qc(u.j,_?p:null,!u.m),0<u.O&&(u.M=new oh(V(u.Y,u,u.g),u.O)),p=u.U,_=u.g,A=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(ms[0]=L.toString()),L=ms);for(var q=0;q<L.length;q++){var W=fr(_,L[q],A||p.handleEvent,!1,p.h||p);if(!W)break;p.g[W.key]=W}p=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Ci(),Po(u.i,u.u,u.A,u.l,u.R,u.m)}ui.prototype.ca=function(u){u=u.target;const p=this.M;p&&un(u)==3?p.j():this.Y(u)},ui.prototype.Y=function(u){try{if(u==this.g)e:{const Pt=un(this.g);var p=this.g.Ba();const Ms=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||xa(this.g)))){this.J||Pt!=4||p==7||(p==8||0>=Ms?Ci(3):Ci(2)),yr(this);var _=this.g.Z();this.X=_;t:if(Oi(this)){var A=xa(this.g);u="";var L=A.length,q=un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ln(this),Ts(this);var W="";break t}this.h.i=new g.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,u+=this.h.i.decode(A[p],{stream:!(q&&p==L-1)});A.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=_==200,Lo(this.i,this.u,this.A,this.l,this.R,Pt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,Et=this.g;if((Qe=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!be(Qe)){var Ie=Qe;break t}}Ie=null}if(_=Ie)Ni(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,di(this,_);else{this.o=!1,this.s=3,qt(12),ln(this),Ts(this);break e}}if(this.P){_=!0;let pn;for(;!this.J&&this.C<W.length;)if(pn=ba(this,W),pn==xi){Pt==4&&(this.s=4,qt(14),_=!1),Ni(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==ko){this.s=4,qt(15),Ni(this.i,this.l,W,"[Invalid Chunk]"),_=!1;break}else Ni(this.i,this.l,pn,null),di(this,pn);if(Oi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||W.length!=0||this.h.h||(this.s=1,qt(16),_=!1),this.o=this.o&&_,!_)Ni(this.i,this.l,W,"[Invalid Chunked Response]"),ln(this),Ts(this);else if(0<W.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Yo(Vt),Vt.M=!0,qt(11))}}else Ni(this.i,this.l,W,null),di(this,W);Pt==4&&ln(this),this.o&&!this.J&&(Pt==4?Uc(this.j,this):(this.o=!1,Xn(this)))}else Mc(this.g),_==400&&0<W.indexOf("Unknown SID")?(this.s=3,qt(12)):(this.s=0,qt(13)),ln(this),Ts(this)}}}catch{}};function Oi(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ba(u,p){var _=u.C,A=p.indexOf(`
`,_);return A==-1?xi:(_=Number(p.substring(_,A)),isNaN(_)?ko:(A+=1,A+_>p.length?xi:(p=p.slice(A,A+_),u.C=A+_,p)))}ui.prototype.cancel=function(){this.J=!0,ln(this)};function Xn(u){u.S=Date.now()+u.I,gt(u,u.I)}function gt(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=vs(V(u.ba,u),p)}function yr(u){u.B&&(g.clearTimeout(u.B),u.B=null)}ui.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(bc(this.i,this.A),this.L!=2&&(Ci(),qt(17)),ln(this),this.s=2,Ts(this)):gt(this,this.S-u)};function Ts(u){u.j.G==0||u.J||Uc(u.j,u)}function ln(u){yr(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Wt(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function di(u,p){try{var _=u.j;if(_.G!=0&&(_.g==u||As(_.h,u))){if(!u.K&&As(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Ds(_),xs(_);else break e;Ko(_),qt(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=vs(V(_.Za,_),6e3));if(1>=Ic(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Pi(_,11)}else if((u.K||_.g==u)&&Ds(_),!be(p))for(L=_.Da.g.parse(p),p=0;p<L.length;p++){let Ie=L[p];if(_.T=Ie[0],Ie=Ie[1],_.G==2)if(Ie[0]=="c"){_.K=Ie[1],_.ia=Ie[2];const Vt=Ie[3];Vt!=null&&(_.la=Vt,_.j.info("VER="+_.la));const Pt=Ie[4];Pt!=null&&(_.Aa=Pt,_.j.info("SVER="+_.Aa));const Ms=Ie[5];Ms!=null&&typeof Ms=="number"&&0<Ms&&(A=1.5*Ms,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const pn=u.g;if(pn){const Ma=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ma){var q=A.h;q.g||Ma.indexOf("spdy")==-1&&Ma.indexOf("quic")==-1&&Ma.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ss(q,q.h),q.h=null))}if(A.D){const Li=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Li&&(A.ya=Li,Be(A.I,A.D,Li))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var W=u;if(A.qa=zc(A,A.J?A.ia:null,A.W),W.K){Pn(A.h,W);var Qe=W,Et=A.L;Et&&(Qe.I=Et),Qe.B&&(yr(Qe),Xn(Qe)),A.g=W}else Lc(A);0<_.i.length&&br(_)}else Ie[0]!="stop"&&Ie[0]!="close"||Pi(_,7);else _.G==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?Pi(_,7):Qo(_):Ie[0]!="noop"&&_.l&&_.l.ta(Ie),_.v=0)}}Ci(4)}catch{}}var ch=class{constructor(u,p){this.g=u,this.map=p}};function Uo(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ic(u){return u.h?1:u.g?u.g.size:0}function As(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Ss(u,p){u.g?u.g.add(p):u.h=p}function Pn(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Uo.prototype.cancel=function(){if(this.i=cn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function cn(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const _ of u.g.values())p=p.concat(_.D);return p}return ne(u.i)}function Cc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var p=[],_=u.length,A=0;A<_;A++)p.push(u[A]);return p}p=[],_=0;for(A in u)p[_++]=u[A];return p}function uh(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var p=[];u=u.length;for(var _=0;_<u;_++)p.push(_);return p}p=[],_=0;for(const A in u)p[_++]=A;return p}}}function vr(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var _=uh(u),A=Cc(u),L=A.length,q=0;q<L;q++)p.call(void 0,A[q],_&&_[q],u)}var zo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _r(u,p){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),L=null;if(0<=A){var q=u[_].substring(0,A);L=u[_].substring(A+1)}else q=u[_];p(q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Mi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Mi){this.h=u.h,ws(this,u.j),this.o=u.o,this.g=u.g,Ra(this,u.s),this.l=u.l;var p=u.i,_=new hi;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),Er(this,_),this.m=u.m}else u&&(p=String(u).match(zo))?(this.h=!1,ws(this,p[1]||"",!0),this.o=bs(p[2]||""),this.g=bs(p[3]||"",!0),Ra(this,p[4]),this.l=bs(p[5]||"",!0),Er(this,p[6]||"",!0),this.m=bs(p[7]||"")):(this.h=!1,this.i=new hi(null,this.h))}Mi.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Ln(p,qo,!0),":");var _=this.g;return(_||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Ln(p,qo,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Ln(_,_.charAt(0)=="/"?Ho:Nc,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Ln(_,fh)),u.join("")};function ht(u){return new Mi(u)}function ws(u,p,_){u.j=_?bs(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Ra(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Er(u,p,_){p instanceof hi?(u.i=p,xc(u.i,u.h)):(_||(p=Ln(p,hh)),u.i=new hi(p,u.h))}function Be(u,p,_){u.i.set(p,_)}function Ia(u){return Be(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function bs(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ln(u,p,_){return typeof u=="string"?(u=encodeURI(u).replace(p,dh),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function dh(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var qo=/[#\/\?@]/g,Nc=/[#\?:]/g,Ho=/[#\?]/g,hh=/[#\?@]/g,fh=/#/g;function hi(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function jt(u){u.g||(u.g=new Map,u.h=0,u.i&&_r(u.i,function(p,_){u.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}s=hi.prototype,s.add=function(u,p){jt(this),this.i=null,u=Sn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(p),this.h+=1,this};function Tr(u,p){jt(u),p=Sn(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Ar(u,p){return jt(u),p=Sn(u,p),u.g.has(p)}s.forEach=function(u,p){jt(this),this.g.forEach(function(_,A){_.forEach(function(L){u.call(p,L,A,this)},this)},this)},s.na=function(){jt(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let A=0;A<p.length;A++){const L=u[A];for(let q=0;q<L.length;q++)_.push(p[A])}return _},s.V=function(u){jt(this);let p=[];if(typeof u=="string")Ar(this,u)&&(p=p.concat(this.g.get(Sn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)p=p.concat(u[_])}return p},s.set=function(u,p){return jt(this),this.i=null,u=Sn(this,u),Ar(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},s.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function ji(u,p,_){Tr(u,p),0<_.length&&(u.i=null,u.g.set(Sn(u,p),ne(_)),u.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var A=p[_];const q=encodeURIComponent(String(A)),W=this.V(A);for(A=0;A<W.length;A++){var L=q;W[A]!==""&&(L+="="+encodeURIComponent(String(W[A]))),u.push(L)}}return this.i=u.join("&")};function Sn(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function xc(u,p){p&&!u.j&&(jt(u),u.i=null,u.g.forEach(function(_,A){var L=A.toLowerCase();A!=L&&(Tr(this,A),ji(this,L,_))},u)),u.j=p}function Fo(u,p){const _=new _s;if(g.Image){const A=new Image;A.onload=H(mn,_,"TestLoadImage: loaded",!0,p,A),A.onerror=H(mn,_,"TestLoadImage: error",!1,p,A),A.onabort=H(mn,_,"TestLoadImage: abort",!1,p,A),A.ontimeout=H(mn,_,"TestLoadImage: timeout",!1,p,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else p(!1)}function Dc(u,p){const _=new _s,A=new AbortController,L=setTimeout(()=>{A.abort(),mn(_,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(L),q.ok?mn(_,"TestPingServer: ok",!0,p):mn(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),mn(_,"TestPingServer: error",!1,p)})}function mn(u,p,_,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(_)}catch{}}function Jn(){this.g=new lh}function Go(u,p,_){const A=_||"";try{vr(u,function(L,q){let W=L;E(L)&&(W=jn(L)),p.push(A+q+"="+encodeURIComponent(W))})}catch(L){throw p.push(A+"type="+encodeURIComponent("_badmap")),L}}function fi(u){this.l=u.Ub||null,this.j=u.eb||!1}J(fi,Mo),fi.prototype.g=function(){return new wn(this.l,this.j)},fi.prototype.i=(function(u){return function(){return u}})({});function wn(u,p){Nt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}J(wn,Nt),s=wn.prototype,s.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Rs(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||g).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Rs(this)),this.g&&(this.readyState=3,Rs(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sr(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Sr(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?mi(this):Rs(this),this.readyState==3&&Sr(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,mi(this))},s.Qa=function(u){this.g&&(this.response=u,mi(this))},s.ga=function(){this.g&&mi(this)};function mi(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Rs(u)}s.setRequestHeader=function(u,p){this.u.append(u,p)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=p.next();return u.join(`\r
`)};function Rs(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(wn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ca(u){let p="";return xe(u,function(_,A){p+=A,p+=":",p+=_,p+=`\r
`}),p}function Is(u,p,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Ca(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Be(u,p,_))}function et(u){Nt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}J(et,Nt);var en=/^https?$/i,Vi=["POST","PUT"];s=et.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,p,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ci.g(),this.v=this.o?wc(this.o):wc(ci),this.g.onreadystatechange=V(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(q){Na(this,q);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)_.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())_.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),L=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Vi,p,void 0))||A||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of _)this.g.setRequestHeader(q,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wr(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){Na(this,q)}};function Na(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Cs(u),Ns(u)}function Cs(u){u.A||(u.A=!0,Mt(u,"complete"),Mt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Mt(this,"complete"),Mt(this,"abort"),Ns(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ns(this,!0)),et.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Oc(this):this.bb())},s.bb=function(){Oc(this)};function Oc(u){if(u.h&&typeof f<"u"&&(!u.v[1]||un(u)!=4||u.Z()!=2)){if(u.u&&un(u)==4)Sc(u.Ea,0,u);else if(Mt(u,"readystatechange"),un(u)==4){u.h=!1;try{const W=u.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var A;if(A=W===0){var L=String(u.D).match(zo)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),A=!en.test(L?L.toLowerCase():"")}_=A}if(_)Mt(u,"complete"),Mt(u,"success");else{u.m=6;try{var q=2<un(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Cs(u)}}finally{Ns(u)}}}}function Ns(u,p){if(u.g){wr(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Mt(u,"ready");try{_.onreadystatechange=A}catch{}}}function wr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function un(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<un(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),on(p)}};function xa(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Mc(u){const p={};u=(u.g&&2<=un(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(be(u[A]))continue;var _=M(u[A]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=p[L]||[];p[L]=q,q.push(_)}N(p,function(A){return A.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Da(u,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||p}function jc(u){this.Aa=0,this.i=[],this.j=new _s,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Da("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Da("baseRetryDelayMs",5e3,u),this.cb=Da("retryDelaySeedMs",1e4,u),this.Wa=Da("forwardChannelMaxRetries",2,u),this.wa=Da("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Uo(u&&u.concurrentRequestLimit),this.Da=new Jn,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=jc.prototype,s.la=8,s.G=1,s.connect=function(u,p,_,A){qt(0),this.W=u,this.H=p||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=zc(this,null,this.W),br(this)};function Qo(u){if(Vc(u),u.G==3){var p=u.U++,_=ht(u.I);if(Be(_,"SID",u.K),Be(_,"RID",p),Be(_,"TYPE","terminate"),Oa(u,_),p=new ui(u,u.j,p),p.L=2,p.v=Ia(ht(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=p.v,_=!0),_||(p.g=qc(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Xn(p)}Xo(u)}function xs(u){u.g&&(Yo(u),u.g.cancel(),u.g=null)}function Vc(u){xs(u),u.u&&(g.clearTimeout(u.u),u.u=null),Ds(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function br(u){if(!Bo(u.h)&&!u.s){u.s=!0;var p=u.Ga;te||Ge(),ue||(te(),ue=!0),Ue.add(p,u),u.B=0}}function mh(u,p){return Ic(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=vs(V(u.Ga,u,p),Bc(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new ui(this,this.j,u);let q=this.o;if(this.S&&(q?(q=w(q),O(q,this.S)):q=this.S),this.m!==null||this.O||(L.H=q,q=null),this.P)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,4096<p){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=$o(this,L,p),_=ht(this.I),Be(_,"RID",u),Be(_,"CVER",22),this.D&&Be(_,"X-HTTP-Session-Id",this.D),Oa(this,_),q&&(this.O?p="headers="+encodeURIComponent(String(Ca(q)))+"&"+p:this.m&&Is(_,this.m,q)),Ss(this.h,L),this.Ua&&Be(_,"TYPE","init"),this.P?(Be(_,"$req",p),Be(_,"SID","null"),L.T=!0,wa(L,_,null)):wa(L,_,p),this.G=2}}else this.G==3&&(u?Pc(this,u):this.i.length==0||Bo(this.h)||Pc(this))};function Pc(u,p){var _;p?_=p.l:_=u.U++;const A=ht(u.I);Be(A,"SID",u.K),Be(A,"RID",_),Be(A,"AID",u.T),Oa(u,A),u.m&&u.o&&Is(A,u.m,u.o),_=new ui(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),p&&(u.i=p.D.concat(u.i)),p=$o(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ss(u.h,_),wa(_,A,p)}function Oa(u,p){u.H&&xe(u.H,function(_,A){Be(p,A,_)}),u.l&&vr({},function(_,A){Be(p,A,_)})}function $o(u,p,_){_=Math.min(u.i.length,_);var A=u.l?V(u.l.Na,u.l,u):null;e:{var L=u.i;let q=-1;for(;;){const W=["count="+_];q==-1?0<_?(q=L[0].g,W.push("ofs="+q)):q=0:W.push("ofs="+q);let Qe=!0;for(let Et=0;Et<_;Et++){let Ie=L[Et].g;const Vt=L[Et].map;if(Ie-=q,0>Ie)q=Math.max(0,L[Et].g-100),Qe=!1;else try{Go(Vt,W,"req"+Ie+"_")}catch{A&&A(Vt)}}if(Qe){A=W.join("&");break e}}}return u=u.i.splice(0,_),p.D=u,A}function Lc(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;te||Ge(),ue||(te(),ue=!0),Ue.add(p,u),u.v=0}}function Ko(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=vs(V(u.Fa,u),Bc(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,kc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=vs(V(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qt(10),xs(this),kc(this))};function Yo(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function kc(u){u.g=new ui(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=ht(u.qa);Be(p,"RID","rpc"),Be(p,"SID",u.K),Be(p,"AID",u.T),Be(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Be(p,"TO",u.ja),Be(p,"TYPE","xmlhttp"),Oa(u,p),u.m&&u.o&&Is(p,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Ia(ht(p)),_.m=null,_.P=!0,Di(_,u)}s.Za=function(){this.C!=null&&(this.C=null,xs(this),Ko(this),qt(19))};function Ds(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Uc(u,p){var _=null;if(u.g==p){Ds(u),Yo(u),u.g=null;var A=2}else if(As(u.h,p))_=p.D,Pn(u.h,p),A=1;else return;if(u.G!=0){if(p.o)if(A==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var L=u.B;A=gr(),Mt(A,new Vo(A,_)),br(u)}else Lc(u);else if(L=p.s,L==3||L==0&&0<p.X||!(A==1&&mh(u,p)||A==2&&Ko(u)))switch(_&&0<_.length&&(p=u.h,p.i=p.i.concat(_)),L){case 1:Pi(u,5);break;case 4:Pi(u,10);break;case 3:Pi(u,6);break;default:Pi(u,2)}}}function Bc(u,p){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*p}function Pi(u,p){if(u.j.info("Error code "+p),p==2){var _=V(u.fb,u),A=u.Xa;const L=!A;A=new Mi(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ws(A,"https"),Ia(A),L?Fo(A.toString(),_):Dc(A.toString(),_)}else qt(2);u.G=0,u.l&&u.l.sa(p),Xo(u),Vc(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function Xo(u){if(u.G=0,u.ka=[],u.l){const p=cn(u.h);(p.length!=0||u.i.length!=0)&&(ee(u.ka,p),ee(u.ka,u.i),u.h.i.length=0,ne(u.i),u.i.length=0),u.l.ra()}}function zc(u,p,_){var A=_ instanceof Mi?ht(_):new Mi(_);if(A.g!="")p&&(A.g=p+"."+A.g),Ra(A,A.s);else{var L=g.location;A=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var q=new Mi(null);A&&ws(q,A),p&&(q.g=p),L&&Ra(q,L),_&&(q.l=_),A=q}return _=u.D,p=u.ya,_&&p&&Be(A,_,p),Be(A,"VER",u.la),Oa(u,A),A}function qc(u,p,_){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new et(new fi({eb:_})):new et(u.pa),p.Ha(u.J),p}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hc(){}s=Hc.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Rr(){}Rr.prototype.g=function(u,p){return new dn(u,p)};function dn(u,p){Nt.call(this),this.g=new jc(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!be(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!be(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Os(this)}J(dn,Nt),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Qo(this.g)},dn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=jn(u),u=_);p.i.push(new ch(p.Ya++,u)),p.G==3&&br(p)},dn.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,dn.aa.N.call(this)};function Fc(u){ps.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const _ in p){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}J(Fc,ps);function Gc(){Yn.call(this),this.status=1}J(Gc,Yn);function Os(u){this.g=u}J(Os,Hc),Os.prototype.ua=function(){Mt(this.g,"a")},Os.prototype.ta=function(u){Mt(this.g,new Fc(u))},Os.prototype.sa=function(u){Mt(this.g,new Gc)},Os.prototype.ra=function(){Mt(this.g,"b")},Rr.prototype.createWebChannel=Rr.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,bT=function(){return new Rr},wT=function(){return gr()},ST=Vn,jm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dt.NO_ERROR=0,dt.TIMEOUT=8,dt.HTTP_ERROR=6,td=dt,Ht.COMPLETE="complete",AT=Ht,Sa.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",Nt.prototype.listen=Nt.prototype.K,Ll=Sa,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,TT=et}).apply(typeof Yu<"u"?Yu:typeof self<"u"?self:typeof window<"u"?window:{});const Y_="@firebase/firestore";class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let wo="10.14.0";const er=new ap("@firebase/firestore");function jl(){return er.logLevel}function oe(s,...e){if(er.logLevel<=Pe.DEBUG){const n=e.map(lp);er.debug(`Firestore (${wo}): ${s}`,...n)}}function as(s,...e){if(er.logLevel<=Pe.ERROR){const n=e.map(lp);er.error(`Firestore (${wo}): ${s}`,...n)}}function po(s,...e){if(er.logLevel<=Pe.WARN){const n=e.map(lp);er.warn(`Firestore (${wo}): ${s}`,...n)}}function lp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function ge(s="Unexpected state"){const e=`FIRESTORE (${wo}) INTERNAL ASSERTION FAILED: `+s;throw as(e),new Error(e)}function Ye(s,e){s||ge()}function Ee(s,e){return s}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends us{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ns{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class RT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(sn.UNAUTHENTICATED)))}shutdown(){}}class ZR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class WR{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0);let a=this.i;const o=y=>this.i!==a?(a=this.i,n(y)):Promise.resolve();let c=new ns;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ns,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},g=y=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ns)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ye(typeof a.accessToken=="string"),new RT(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new sn(e)}}class eI{constructor(e,n,a){this.l=e,this.h=n,this.P=a,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class tI{constructor(e,n,a){this.l=e,this.h=n,this.P=a}getToken(){return Promise.resolve(new eI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class nI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iI{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ye(this.o===void 0);const a=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string"),this.R=n.token,new nI(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function sI(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<s;a++)n[a]=Math.floor(256*Math.random());return n}class IT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let a="";for(;a.length<20;){const o=sI(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<n&&(a+=e.charAt(o[c]%e.length))}return a}}function He(s,e){return s<e?-1:s>e?1:0}function go(s,e,n){return s.length===e.length&&s.every(((a,o)=>n(a,e[o])))}class Dt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ie(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*n));return new Dt(n,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _e{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _e(e)}static min(){return new _e(new Dt(0,0))}static max(){return new _e(new Dt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Yl{constructor(e,n,a){n===void 0?n=0:n>e.length&&ge(),a===void 0?a=e.length-n:a>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Yl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yl?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const c=e.get(o),f=n.get(o);if(c<f)return-1;if(c>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class it extends Yl{construct(e,n,a){return new it(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new ie(Y.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((o=>o.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const aI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Yl{construct(e,n,a){return new Yt(e,n,a)}static isValidIdentifier(e){return aI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Yt(["__name__"])}static fromServerFormat(e){const n=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ie(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ie(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ie(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,o+=2}else g==="`"?(f=!f,o++):g!=="."||f?(a+=g,o++):(c(),o++)}if(c(),f)throw new ie(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}class de{constructor(e){this.path=e}static fromPath(e){return new de(it.fromString(e))}static fromName(e){return new de(it.fromString(e).popFirst(5))}static empty(){return new de(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new it(e.slice()))}}function rI(s,e){const n=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=_e.fromTimestamp(a===1e9?new Dt(n+1,0):new Dt(n,a));return new fa(o,de.empty(),e)}function oI(s){return new fa(s.readTime,s.key,-1)}class fa{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new fa(_e.min(),de.empty(),-1)}static max(){return new fa(_e.max(),de.empty(),-1)}}function lI(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(s.documentKey,e.documentKey),n!==0?n:He(s.largestBatchId,e.largestBatchId))}const cI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function oc(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==cI)throw s;oe("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(a,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):X.reject(n)}static resolve(e){return new X(((n,a)=>{n(e)}))}static reject(e){return new X(((n,a)=>{a(e)}))}static waitFor(e){return new X(((n,a)=>{let o=0,c=0,f=!1;e.forEach((g=>{++o,g.next((()=>{++c,f&&c===o&&n()}),(y=>a(y)))})),f=!0,c===o&&n()}))}static or(e){let n=X.resolve(!1);for(const a of e)n=n.next((o=>o?X.resolve(o):a()));return n}static forEach(e,n){const a=[];return e.forEach(((o,c)=>{a.push(n.call(this,o,c))})),this.waitFor(a)}static mapArray(e,n){return new X(((a,o)=>{const c=e.length,f=new Array(c);let g=0;for(let y=0;y<c;y++){const E=y;n(e[E]).next((S=>{f[E]=S,++g,g===c&&a(f)}),(S=>o(S)))}}))}static doWhile(e,n){return new X(((a,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):a()};c()}))}}function dI(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function lc(s){return s.name==="IndexedDbTransactionError"}class cp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ie(a),this.se=a=>n.writeSequenceNumber(a))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}cp.oe=-1;function Cd(s){return s==null}function fd(s){return s===0&&1/s==-1/0}function hI(s){return typeof s=="number"&&Number.isInteger(s)&&!fd(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}function X_(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function rr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function CT(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ct{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xu(this.root,e,this.comparator,!0)}}class Xu{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?a(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,a,o,c){this.key=e,this.value=n,this.color=a??Kt.RED,this.left=o??Kt.EMPTY,this.right=c??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,c){return new Kt(e??this.key,n??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,a),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,n,a,o,c){return this}insert(e,n,a){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new J_(this.data.getIterator())}getIteratorFrom(e){return new J_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Jt(this.comparator);return n.data=e,n}}class J_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class On{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new On([])}unionWith(e){let n=new Jt(Yt.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new On(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}class NT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new NT("Invalid base64 string: "+c):c}})(e);return new Zt(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const fI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ma(s){if(Ye(!!s),typeof s=="string"){let e=0;const n=fI.exec(s);if(Ye(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:_t(s.seconds),nanos:_t(s.nanos)}}function _t(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function tr(s){return typeof s=="string"?Zt.fromBase64String(s):Zt.fromUint8Array(s)}function up(s){var e,n;return((n=(((e=s?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function dp(s){const e=s.mapValue.fields.__previous_value__;return up(e)?dp(e):e}function Xl(s){const e=ma(s.mapValue.fields.__local_write_time__.timestampValue);return new Dt(e.seconds,e.nanos)}class mI{constructor(e,n,a,o,c,f,g,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=E}}class Jl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}const Ju={mapValue:{}};function nr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?up(s)?4:gI(s)?9007199254740991:pI(s)?10:11:ge()}function wi(s,e){if(s===e)return!0;const n=nr(s);if(n!==nr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Xl(s).isEqual(Xl(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=ma(o.timestampValue),g=ma(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return tr(o.bytesValue).isEqual(tr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return _t(o.geoPointValue.latitude)===_t(c.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return _t(o.integerValue)===_t(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=_t(o.doubleValue),g=_t(c.doubleValue);return f===g?fd(f)===fd(g):isNaN(f)&&isNaN(g)}return!1})(s,e);case 9:return go(s.arrayValue.values||[],e.arrayValue.values||[],wi);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},g=c.mapValue.fields||{};if(X_(f)!==X_(g))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(g[y]===void 0||!wi(f[y],g[y])))return!1;return!0})(s,e);default:return ge()}}function Zl(s,e){return(s.values||[]).find((n=>wi(n,e)))!==void 0}function yo(s,e){if(s===e)return 0;const n=nr(s),a=nr(e);if(n!==a)return He(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(s.booleanValue,e.booleanValue);case 2:return(function(c,f){const g=_t(c.integerValue||c.doubleValue),y=_t(f.integerValue||f.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(s,e);case 3:return Z_(s.timestampValue,e.timestampValue);case 4:return Z_(Xl(s),Xl(e));case 5:return He(s.stringValue,e.stringValue);case 6:return(function(c,f){const g=tr(c),y=tr(f);return g.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(c,f){const g=c.split("/"),y=f.split("/");for(let E=0;E<g.length&&E<y.length;E++){const S=He(g[E],y[E]);if(S!==0)return S}return He(g.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,f){const g=He(_t(c.latitude),_t(f.latitude));return g!==0?g:He(_t(c.longitude),_t(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return W_(s.arrayValue,e.arrayValue);case 10:return(function(c,f){var g,y,E,S;const b=c.fields||{},V=f.fields||{},H=(g=b.value)===null||g===void 0?void 0:g.arrayValue,J=(y=V.value)===null||y===void 0?void 0:y.arrayValue,ne=He(((E=H?.values)===null||E===void 0?void 0:E.length)||0,((S=J?.values)===null||S===void 0?void 0:S.length)||0);return ne!==0?ne:W_(H,J)})(s.mapValue,e.mapValue);case 11:return(function(c,f){if(c===Ju.mapValue&&f===Ju.mapValue)return 0;if(c===Ju.mapValue)return 1;if(f===Ju.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),E=f.fields||{},S=Object.keys(E);y.sort(),S.sort();for(let b=0;b<y.length&&b<S.length;++b){const V=He(y[b],S[b]);if(V!==0)return V;const H=yo(g[y[b]],E[S[b]]);if(H!==0)return H}return He(y.length,S.length)})(s.mapValue,e.mapValue);default:throw ge()}}function Z_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return He(s,e);const n=ma(s),a=ma(e),o=He(n.seconds,a.seconds);return o!==0?o:He(n.nanos,a.nanos)}function W_(s,e){const n=s.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const c=yo(n[o],a[o]);if(c)return c}return He(n.length,a.length)}function vo(s){return Vm(s)}function Vm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const a=ma(n);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return tr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return de.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let a="[",o=!0;for(const c of n.values||[])o?o=!1:a+=",",a+=Vm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(n){const a=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const f of a)c?c=!1:o+=",",o+=`${f}:${Vm(n.fields[f])}`;return o+"}"})(s.mapValue):ge()}function eE(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Pm(s){return!!s&&"integerValue"in s}function hp(s){return!!s&&"arrayValue"in s}function tE(s){return!!s&&"nullValue"in s}function nE(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function nd(s){return!!s&&"mapValue"in s}function pI(s){var e,n;return((n=(((e=s?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ql(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return rr(s.mapValue.fields,((n,a)=>e.mapValue.fields[n]=ql(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ql(s.arrayValue.values[n]);return e}return Object.assign({},s)}function gI(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!nd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ql(n)}setAll(e){let n=Yt.emptyPath(),a={},o=[];e.forEach(((f,g)=>{if(!n.isImmediateParentOf(g)){const y=this.getFieldsMap(n);this.applyChanges(y,a,o),a={},o=[],n=g.popLast()}f?a[g.lastSegment()]=ql(f):o.push(g.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,a,o)}delete(e){const n=this.field(e.popLast());nd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];nd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){rr(n,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new Tn(ql(this.value))}}function xT(s){const e=[];return rr(s.fields,((n,a)=>{const o=new Yt([n]);if(nd(a)){const c=xT(a.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)})),new On(e)}class an{constructor(e,n,a,o,c,f,g){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(e){return new an(e,0,_e.min(),_e.min(),_e.min(),Tn.empty(),0)}static newFoundDocument(e,n,a,o){return new an(e,1,n,_e.min(),a,o,0)}static newNoDocument(e,n){return new an(e,2,n,_e.min(),_e.min(),Tn.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,_e.min(),_e.min(),Tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class md{constructor(e,n){this.position=e,this.inclusive=n}}function iE(s,e,n){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],f=s.position[o];if(c.field.isKeyField()?a=de.comparator(de.fromName(f.referenceValue),n.key):a=yo(f,n.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function sE(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!wi(s.position[n],e.position[n]))return!1;return!0}class Wl{constructor(e,n="asc"){this.field=e,this.dir=n}}function yI(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class DT{}class Rt extends DT{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new _I(e,n,a):n==="array-contains"?new AI(e,a):n==="in"?new SI(e,a):n==="not-in"?new wI(e,a):n==="array-contains-any"?new bI(e,a):new Rt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new EI(e,a):new TI(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(yo(n,this.value)):n!==null&&nr(this.value)===nr(n)&&this.matchesComparison(yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends DT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ni(e,n)}matches(e){return OT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function OT(s){return s.op==="and"}function MT(s){return vI(s)&&OT(s)}function vI(s){for(const e of s.filters)if(e instanceof ni)return!1;return!0}function Lm(s){if(s instanceof Rt)return s.field.canonicalString()+s.op.toString()+vo(s.value);if(MT(s))return s.filters.map((e=>Lm(e))).join(",");{const e=s.filters.map((n=>Lm(n))).join(",");return`${s.op}(${e})`}}function jT(s,e){return s instanceof Rt?(function(a,o){return o instanceof Rt&&a.op===o.op&&a.field.isEqual(o.field)&&wi(a.value,o.value)})(s,e):s instanceof ni?(function(a,o){return o instanceof ni&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,f,g)=>c&&jT(f,o.filters[g])),!0):!1})(s,e):void ge()}function VT(s){return s instanceof Rt?(function(n){return`${n.field.canonicalString()} ${n.op} ${vo(n.value)}`})(s):s instanceof ni?(function(n){return n.op.toString()+" {"+n.getFilters().map(VT).join(" ,")+"}"})(s):"Filter"}class _I extends Rt{constructor(e,n,a){super(e,n,a),this.key=de.fromName(a.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class EI extends Rt{constructor(e,n){super(e,"in",n),this.keys=PT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class TI extends Rt{constructor(e,n){super(e,"not-in",n),this.keys=PT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function PT(s,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((a=>de.fromName(a.referenceValue)))}class AI extends Rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hp(n)&&Zl(n.arrayValue,this.value)}}class SI extends Rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zl(this.value.arrayValue,n)}}class wI extends Rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Zl(this.value.arrayValue,n)}}class bI extends Rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>Zl(this.value.arrayValue,a)))}}class RI{constructor(e,n=null,a=[],o=[],c=null,f=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=f,this.endAt=g,this.ue=null}}function aE(s,e=null,n=[],a=[],o=null,c=null,f=null){return new RI(s,e,n,a,o,c,f)}function fp(s){const e=Ee(s);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>Lm(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Cd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>vo(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>vo(a))).join(",")),e.ue=n}return e.ue}function mp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!yI(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!jT(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!sE(s.startAt,e.startAt)&&sE(s.endAt,e.endAt)}function km(s){return de.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class bo{constructor(e,n=null,a=[],o=[],c=null,f="F",g=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=y,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function II(s,e,n,a,o,c,f,g){return new bo(s,e,n,a,o,c,f,g)}function pp(s){return new bo(s)}function rE(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function LT(s){return s.collectionGroup!==null}function Hl(s){const e=Ee(s);if(e.ce===null){e.ce=[];const n=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),n.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Jt(Yt.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((E=>{E.isInequality()&&(g=g.add(E.field))}))})),g})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.ce.push(new Wl(c,a))})),n.has(Yt.keyField().canonicalString())||e.ce.push(new Wl(Yt.keyField(),a))}return e.ce}function Ei(s){const e=Ee(s);return e.le||(e.le=CI(e,Hl(s))),e.le}function CI(s,e){if(s.limitType==="F")return aE(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Wl(o.field,c)}));const n=s.endAt?new md(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new md(s.startAt.position,s.startAt.inclusive):null;return aE(s.path,s.collectionGroup,e,s.filters,s.limit,n,a)}}function Um(s,e){const n=s.filters.concat([e]);return new bo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Bm(s,e,n){return new bo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Nd(s,e){return mp(Ei(s),Ei(e))&&s.limitType===e.limitType}function kT(s){return`${fp(Ei(s))}|lt:${s.limitType}`}function no(s){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((o=>VT(o))).join(", ")}]`),Cd(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((o=>vo(o))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((o=>vo(o))).join(",")),`Target(${a})`})(Ei(s))}; limitType=${s.limitType})`}function xd(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):de.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of Hl(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(f,g,y){const E=iE(f,g,y);return f.inclusive?E<=0:E<0})(a.startAt,Hl(a),o)||a.endAt&&!(function(f,g,y){const E=iE(f,g,y);return f.inclusive?E>=0:E>0})(a.endAt,Hl(a),o))})(s,e)}function NI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function UT(s){return(e,n)=>{let a=!1;for(const o of Hl(s)){const c=xI(o,e,n);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function xI(s,e,n){const a=s.field.isKeyField()?de.comparator(e.key,n.key):(function(c,f,g){const y=f.data.field(c),E=g.data.field(c);return y!==null&&E!==null?yo(y,E):ge()})(s.field,e,n);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ge()}}class Ro{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){rr(this.inner,((n,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return CT(this.inner)}size(){return this.innerSize}}const DI=new ct(de.comparator);function rs(){return DI}const BT=new ct(de.comparator);function kl(...s){let e=BT;for(const n of s)e=e.insert(n.key,n);return e}function zT(s){let e=BT;return s.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function Xa(){return Fl()}function qT(){return Fl()}function Fl(){return new Ro((s=>s.toString()),((s,e)=>s.isEqual(e)))}const OI=new ct(de.comparator),MI=new Jt(de.comparator);function Me(...s){let e=MI;for(const n of s)e=e.add(n);return e}const jI=new Jt(He);function VI(){return jI}function gp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fd(e)?"-0":e}}function HT(s){return{integerValue:""+s}}function FT(s,e){return hI(e)?HT(e):gp(s,e)}class Dd{constructor(){this._=void 0}}function PI(s,e,n){return s instanceof pd?(function(o,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&up(c)&&(c=dp(c)),c&&(f.fields.__previous_value__=c),{mapValue:f}})(n,e):s instanceof ec?QT(s,e):s instanceof tc?$T(s,e):(function(o,c){const f=GT(o,c),g=oE(f)+oE(o.Pe);return Pm(f)&&Pm(o.Pe)?HT(g):gp(o.serializer,g)})(s,e)}function LI(s,e,n){return s instanceof ec?QT(s,e):s instanceof tc?$T(s,e):n}function GT(s,e){return s instanceof nc?(function(a){return Pm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class pd extends Dd{}class ec extends Dd{constructor(e){super(),this.elements=e}}function QT(s,e){const n=KT(e);for(const a of s.elements)n.some((o=>wi(o,a)))||n.push(a);return{arrayValue:{values:n}}}class tc extends Dd{constructor(e){super(),this.elements=e}}function $T(s,e){let n=KT(e);for(const a of s.elements)n=n.filter((o=>!wi(o,a)));return{arrayValue:{values:n}}}class nc extends Dd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function oE(s){return _t(s.integerValue||s.doubleValue)}function KT(s){return hp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class kI{constructor(e,n){this.field=e,this.transform=n}}function UI(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof ec&&o instanceof ec||a instanceof tc&&o instanceof tc?go(a.elements,o.elements,wi):a instanceof nc&&o instanceof nc?wi(a.Pe,o.Pe):a instanceof pd&&o instanceof pd})(s.transform,e.transform)}class BI{constructor(e,n){this.version=e,this.transformResults=n}}class $n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function id(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Od{}function YT(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new yp(s.key,$n.none()):new cc(s.key,s.data,$n.none());{const n=s.data,a=Tn.empty();let o=new Jt(Yt.comparator);for(let c of e.fields)if(!o.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?a.delete(c):a.set(c,f),o=o.add(c)}return new ga(s.key,a,new On(o.toArray()),$n.none())}}function zI(s,e,n){s instanceof cc?(function(o,c,f){const g=o.value.clone(),y=cE(o.fieldTransforms,c,f.transformResults);g.setAll(y),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(s,e,n):s instanceof ga?(function(o,c,f){if(!id(o.precondition,c))return void c.convertToUnknownDocument(f.version);const g=cE(o.fieldTransforms,c,f.transformResults),y=c.data;y.setAll(XT(o)),y.setAll(g),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(s,e,n):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Gl(s,e,n,a){return s instanceof cc?(function(c,f,g,y){if(!id(c.precondition,f))return g;const E=c.value.clone(),S=uE(c.fieldTransforms,y,f);return E.setAll(S),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),null})(s,e,n,a):s instanceof ga?(function(c,f,g,y){if(!id(c.precondition,f))return g;const E=uE(c.fieldTransforms,y,f),S=f.data;return S.setAll(XT(c)),S.setAll(E),f.convertToFoundDocument(f.version,S).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,e,n,a):(function(c,f,g){return id(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(s,e,n)}function qI(s,e){let n=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=GT(a.transform,o||null);c!=null&&(n===null&&(n=Tn.empty()),n.set(a.field,c))}return n||null}function lE(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&go(a,o,((c,f)=>UI(c,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class cc extends Od{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ga extends Od{constructor(e,n,a,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function XT(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=s.data.field(n);e.set(n,a)}})),e}function cE(s,e,n){const a=new Map;Ye(s.length===n.length);for(let o=0;o<n.length;o++){const c=s[o],f=c.transform,g=e.data.field(c.field);a.set(c.field,LI(f,g,n[o]))}return a}function uE(s,e,n){const a=new Map;for(const o of s){const c=o.transform,f=n.data.field(o.field);a.set(o.field,PI(c,f,e))}return a}class yp extends Od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HI extends Od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class FI{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&zI(c,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Gl(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Gl(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=qT();return this.mutations.forEach((o=>{const c=e.get(o.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=n.has(o.key)?null:g;const y=YT(f,g);y!==null&&a.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(_e.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Me())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,((n,a)=>lE(n,a)))&&go(this.baseMutations,e.baseMutations,((n,a)=>lE(n,a)))}}class vp{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){Ye(e.mutations.length===a.length);let o=(function(){return OI})();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,a[f].version);return new vp(e,n,a,o)}}class GI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class QI{constructor(e,n){this.count=e,this.unchangedNames=n}}var bt,ke;function $I(s){switch(s){default:return ge();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function JT(s){if(s===void 0)return as("GRPC error has no .code"),Y.UNKNOWN;switch(s){case bt.OK:return Y.OK;case bt.CANCELLED:return Y.CANCELLED;case bt.UNKNOWN:return Y.UNKNOWN;case bt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case bt.INTERNAL:return Y.INTERNAL;case bt.UNAVAILABLE:return Y.UNAVAILABLE;case bt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case bt.NOT_FOUND:return Y.NOT_FOUND;case bt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case bt.ABORTED:return Y.ABORTED;case bt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case bt.DATA_LOSS:return Y.DATA_LOSS;default:return ge()}}(ke=bt||(bt={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";function KI(){return new TextEncoder}const YI=new Za([4294967295,4294967295],0);function dE(s){const e=KI().encode(s),n=new ET;return n.update(e),new Uint8Array(n.digest())}function hE(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Za([n,a],0),new Za([o,c],0)]}class _p{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Ul(`Invalid padding: ${n}`);if(a<0)throw new Ul(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Za.fromNumber(this.Ie)}Ee(e,n,a){let o=e.add(n.multiply(Za.fromNumber(a)));return o.compare(YI)===1&&(o=new Za([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=dE(e),[a,o]=hE(n);for(let c=0;c<this.hashCount;c++){const f=this.Ee(a,o,c);if(!this.de(f))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new _p(c,o,n);return a.forEach((g=>f.insert(g))),f}insert(e){if(this.Ie===0)return;const n=dE(e),[a,o]=hE(n);for(let c=0;c<this.hashCount;c++){const f=this.Ee(a,o,c);this.Ae(f)}}Ae(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Md{constructor(e,n,a,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,uc.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Md(_e.min(),o,new ct(He),rs(),Me())}}class uc{constructor(e,n,a,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new uc(a,n,Me(),Me(),Me())}}class sd{constructor(e,n,a,o){this.Re=e,this.removedTargetIds=n,this.key=a,this.Ve=o}}class ZT{constructor(e,n){this.targetId=e,this.me=n}}class WT{constructor(e,n,a=Zt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class fE{constructor(){this.fe=0,this.ge=pE(),this.pe=Zt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Me(),n=Me(),a=Me();return this.ge.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:ge()}})),new uc(this.pe,this.ye,e,n,a)}Ce(){this.we=!1,this.ge=pE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ye(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class XI{constructor(e){this.Le=e,this.Be=new Map,this.ke=rs(),this.qe=mE(),this.Qe=new ct(He)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const a=this.Ge(n);switch(e.state){case 0:this.ze(n)&&a.De(e.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(e.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(a.Ne(),a.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),a.De(e.resumeToken));break;default:ge()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((a,o)=>{this.ze(o)&&n(o)}))}He(e){const n=e.targetId,a=e.me.count,o=this.Je(n);if(o){const c=o.target;if(km(c))if(a===0){const f=new de(c.path);this.Ue(n,f,an.newNoDocument(f,_e.min()))}else Ye(a===1);else{const f=this.Ye(n);if(f!==a){const g=this.Ze(e),y=g?this.Xe(g,e,f):1;if(y!==0){this.je(n);const E=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,E)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=n;let f,g;try{f=tr(a).toUint8Array()}catch(y){if(y instanceof NT)return po("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new _p(f,o,c)}catch(y){return po(y instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.Ie===0?null:g}Xe(e,n,a){return n.me.count===a-this.nt(e,n.targetId)?0:2}nt(e,n){const a=this.Le.getRemoteKeysForTarget(n);let o=0;return a.forEach((c=>{const f=this.Le.tt(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.Ue(n,c,null),o++)})),o}rt(e){const n=new Map;this.Be.forEach(((c,f)=>{const g=this.Je(f);if(g){if(c.current&&km(g.target)){const y=new de(g.target.path);this.ke.get(y)!==null||this.it(f,y)||this.Ue(f,y,an.newNoDocument(y,e))}c.be&&(n.set(f,c.ve()),c.Ce())}}));let a=Me();this.qe.forEach(((c,f)=>{let g=!0;f.forEachWhile((y=>{const E=this.Je(y);return!E||E.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.ke.forEach(((c,f)=>f.setReadTime(e)));const o=new Md(e,n,this.Qe,this.ke,a);return this.ke=rs(),this.qe=mE(),this.Qe=new ct(He),o}$e(e,n){if(!this.ze(e))return;const a=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,a),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,a){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),a&&(this.ke=this.ke.insert(n,a))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new fE,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Jt(He),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new fE),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function mE(){return new ct(de.comparator)}function pE(){return new ct(de.comparator)}const JI={asc:"ASCENDING",desc:"DESCENDING"},ZI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WI={and:"AND",or:"OR"};class eC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zm(s,e){return s.useProto3Json||Cd(e)?e:{value:e}}function gd(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function e0(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function tC(s,e){return gd(s,e.toTimestamp())}function Ti(s){return Ye(!!s),_e.fromTimestamp((function(n){const a=ma(n);return new Dt(a.seconds,a.nanos)})(s))}function Ep(s,e){return qm(s,e).canonicalString()}function qm(s,e){const n=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function t0(s){const e=it.fromString(s);return Ye(r0(e)),e}function Hm(s,e){return Ep(s.databaseId,e.path)}function Em(s,e){const n=t0(e);if(n.get(1)!==s.databaseId.projectId)throw new ie(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new ie(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new de(i0(n))}function n0(s,e){return Ep(s.databaseId,e)}function nC(s){const e=t0(s);return e.length===4?it.emptyPath():i0(e)}function Fm(s){return new it(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function i0(s){return Ye(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function gE(s,e,n){return{name:Hm(s,e),fields:n.value.mapValue.fields}}function iC(s,e){let n;if("targetChange"in e){e.targetChange;const a=(function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:ge()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(E,S){return E.useProto3Json?(Ye(S===void 0||typeof S=="string"),Zt.fromBase64String(S||"")):(Ye(S===void 0||S instanceof Buffer||S instanceof Uint8Array),Zt.fromUint8Array(S||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&(function(E){const S=E.code===void 0?Y.UNKNOWN:JT(E.code);return new ie(S,E.message||"")})(f);n=new WT(a,o,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Em(s,a.document.name),c=Ti(a.document.updateTime),f=a.document.createTime?Ti(a.document.createTime):_e.min(),g=new Tn({mapValue:{fields:a.document.fields}}),y=an.newFoundDocument(o,c,f,g),E=a.targetIds||[],S=a.removedTargetIds||[];n=new sd(E,S,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Em(s,a.document),c=a.readTime?Ti(a.readTime):_e.min(),f=an.newNoDocument(o,c),g=a.removedTargetIds||[];n=new sd([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Em(s,a.document),c=a.removedTargetIds||[];n=new sd([],c,o,null)}else{if(!("filter"in e))return ge();{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,f=new QI(o,c),g=a.targetId;n=new ZT(g,f)}}return n}function sC(s,e){let n;if(e instanceof cc)n={update:gE(s,e.key,e.value)};else if(e instanceof yp)n={delete:Hm(s,e.key)};else if(e instanceof ga)n={update:gE(s,e.key,e.data),updateMask:fC(e.fieldMask)};else{if(!(e instanceof HI))return ge();n={verify:Hm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(c,f){const g=f.transform;if(g instanceof pd)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ec)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof tc)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof nc)return{fieldPath:f.field.canonicalString(),increment:g.Pe};throw ge()})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:tC(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ge()})(s,e.precondition)),n}function aC(s,e){return s&&s.length>0?(Ye(e!==void 0),s.map((n=>(function(o,c){let f=o.updateTime?Ti(o.updateTime):Ti(c);return f.isEqual(_e.min())&&(f=Ti(c)),new BI(f,o.transformResults||[])})(n,e)))):[]}function rC(s,e){return{documents:[n0(s,e.path)]}}function oC(s,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=n0(s,o);const c=(function(E){if(E.length!==0)return a0(ni.create(E,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const f=(function(E){if(E.length!==0)return E.map((S=>(function(V){return{field:io(V.field),direction:uC(V.dir)}})(S)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const g=zm(s,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(E){return{before:E.inclusive,values:E.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(E){return{before:!E.inclusive,values:E.position}})(e.endAt)),{_t:n,parent:o}}function lC(s){let e=nC(s.parent);const n=s.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){Ye(a===1);const S=n.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let c=[];n.where&&(c=(function(b){const V=s0(b);return V instanceof ni&&MT(V)?V.getFilters():[V]})(n.where));let f=[];n.orderBy&&(f=(function(b){return b.map((V=>(function(J){return new Wl(so(J.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(V)))})(n.orderBy));let g=null;n.limit&&(g=(function(b){let V;return V=typeof b=="object"?b.value:b,Cd(V)?null:V})(n.limit));let y=null;n.startAt&&(y=(function(b){const V=!!b.before,H=b.values||[];return new md(H,V)})(n.startAt));let E=null;return n.endAt&&(E=(function(b){const V=!b.before,H=b.values||[];return new md(H,V)})(n.endAt)),II(e,o,f,c,g,"F",y,E)}function cC(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function s0(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=so(n.unaryFilter.field);return Rt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=so(n.unaryFilter.field);return Rt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=so(n.unaryFilter.field);return Rt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=so(n.unaryFilter.field);return Rt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return ge()}})(s):s.fieldFilter!==void 0?(function(n){return Rt.create(so(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return ni.create(n.compositeFilter.filters.map((a=>s0(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ge()}})(n.compositeFilter.op))})(s):ge()}function uC(s){return JI[s]}function dC(s){return ZI[s]}function hC(s){return WI[s]}function io(s){return{fieldPath:s.canonicalString()}}function so(s){return Yt.fromServerFormat(s.fieldPath)}function a0(s){return s instanceof Rt?(function(n){if(n.op==="=="){if(nE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(tE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(tE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:dC(n.op),value:n.value}}})(s):s instanceof ni?(function(n){const a=n.getFilters().map((o=>a0(o)));return a.length===1?a[0]:{compositeFilter:{op:hC(n.op),filters:a}}})(s):ge()}function fC(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function r0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class oa{constructor(e,n,a,o,c=_e.min(),f=_e.min(),g=Zt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new oa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new oa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class mC{constructor(e){this.ct=e}}function pC(s){const e=lC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Bm(e,e.limit,"L"):e}class gC{constructor(){this.un=new yC}addToCollectionParentIndex(e,n){return this.un.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(fa.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(fa.min())}updateCollectionGroup(e,n,a){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class yC{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Jt(it.comparator),c=!o.has(a);return this.index[n]=o.add(a),c}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Jt(it.comparator)).toArray()}}class _o{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new _o(0)}static kn(){return new _o(-1)}}class vC{constructor(){this.changes=new Ro((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?X.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class _C{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class EC{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(a!==null&&Gl(a.mutation,o,On.empty(),Dt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,Me()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=Me()){const o=Xa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,a).next((c=>{let f=kl();return c.forEach(((g,y)=>{f=f.insert(g,y.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const a=Xa();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,Me())))}populateOverlays(e,n,a){const o=[];return a.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((f,g)=>{n.set(f,g)}))}))}computeViews(e,n,a,o){let c=rs();const f=Fl(),g=(function(){return Fl()})();return n.forEach(((y,E)=>{const S=a.get(E.key);o.has(E.key)&&(S===void 0||S.mutation instanceof ga)?c=c.insert(E.key,E):S!==void 0?(f.set(E.key,S.mutation.getFieldMask()),Gl(S.mutation,E,S.mutation.getFieldMask(),Dt.now())):f.set(E.key,On.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((E,S)=>f.set(E,S))),n.forEach(((E,S)=>{var b;return g.set(E,new _C(S,(b=f.get(E))!==null&&b!==void 0?b:null))})),g)))}recalculateAndSaveOverlays(e,n){const a=Fl();let o=new ct(((f,g)=>f-g)),c=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const g of f)g.keys().forEach((y=>{const E=n.get(y);if(E===null)return;let S=a.get(y)||On.empty();S=g.applyToLocalView(E,S),a.set(y,S);const b=(o.get(g.batchId)||Me()).add(y);o=o.insert(g.batchId,b)}))})).next((()=>{const f=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),E=y.key,S=y.value,b=qT();S.forEach((V=>{if(!c.has(V)){const H=YT(n.get(V),a.get(V));H!==null&&b.set(V,H),c=c.add(V)}})),f.push(this.documentOverlayCache.saveOverlays(e,E,b))}return X.waitFor(f)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,o){return(function(f){return de.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):LT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-c.size):X.resolve(Xa());let g=-1,y=c;return f.next((E=>X.forEach(E,((S,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),c.get(S)?X.resolve():this.remoteDocumentCache.getEntry(e,S).next((V=>{y=y.insert(S,V)}))))).next((()=>this.populateOverlays(e,E,c))).next((()=>this.computeViews(e,y,E,Me()))).next((S=>({batchId:g,changes:zT(S)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next((a=>{let o=kl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const c=n.collectionGroup;let f=kl();return this.indexManager.getCollectionParents(e,c).next((g=>X.forEach(g,(y=>{const E=(function(b,V){return new bo(V,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,E,a,o).next((S=>{S.forEach(((b,V)=>{f=f.insert(b,V)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,c,o)))).next((f=>{c.forEach(((y,E)=>{const S=E.getKey();f.get(S)===null&&(f=f.insert(S,an.newInvalidDocument(S)))}));let g=kl();return f.forEach(((y,E)=>{const S=c.get(y);S!==void 0&&Gl(S.mutation,E,On.empty(),Dt.now()),xd(n,E)&&(g=g.insert(y,E))})),g}))}}class TC{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return X.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ti(o.createTime)}})(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(o){return{name:o.name,query:pC(o.bundledQuery),readTime:Ti(o.readTime)}})(n)),X.resolve()}}class AC{constructor(){this.overlays=new ct(de.comparator),this.Ir=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Xa();return X.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((o,c)=>{this.ht(e,n,c)})),X.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Ir.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Ir.delete(a)),X.resolve()}getOverlaysForCollection(e,n,a){const o=Xa(),c=n.length+1,f=new de(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const y=g.getNext().value,E=y.getKey();if(!n.isPrefixOf(E.path))break;E.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return X.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let c=new ct(((E,S)=>E-S));const f=this.overlays.getIterator();for(;f.hasNext();){const E=f.getNext().value;if(E.getKey().getCollectionGroup()===n&&E.largestBatchId>a){let S=c.get(E.largestBatchId);S===null&&(S=Xa(),c=c.insert(E.largestBatchId,S)),S.set(E.getKey(),E)}}const g=Xa(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((E,S)=>g.set(E,S))),!(g.size()>=o)););return X.resolve(g)}ht(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.Ir.get(o.largestBatchId).delete(a.key);this.Ir.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new GI(n,a));let c=this.Ir.get(n);c===void 0&&(c=Me(),this.Ir.set(n,c)),this.Ir.set(n,c.add(a.key))}}class SC{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,X.resolve()}}class Tp{constructor(){this.Tr=new Jt(kt.Er),this.dr=new Jt(kt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const a=new kt(e,n);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Vr(new kt(e,n))}mr(e,n){e.forEach((a=>this.removeReference(a,n)))}gr(e){const n=new de(new it([])),a=new kt(n,e),o=new kt(n,e+1),c=[];return this.dr.forEachInRange([a,o],(f=>{this.Vr(f),c.push(f.key)})),c}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new de(new it([])),a=new kt(n,e),o=new kt(n,e+1);let c=Me();return this.dr.forEachInRange([a,o],(f=>{c=c.add(f.key)})),c}containsKey(e){const n=new kt(e,0),a=this.Tr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class kt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return de.comparator(e.key,n.key)||He(e.wr,n.wr)}static Ar(e,n){return He(e.wr,n.wr)||de.comparator(e.key,n.key)}}class wC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Jt(kt.Er)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const c=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new FI(c,n,a,o);this.mutationQueue.push(f);for(const g of o)this.br=this.br.add(new kt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(f)}lookupMutationBatch(e,n){return X.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.vr(a),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new kt(n,0),o=new kt(n,Number.POSITIVE_INFINITY),c=[];return this.br.forEachInRange([a,o],(f=>{const g=this.Dr(f.wr);c.push(g)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Jt(He);return n.forEach((o=>{const c=new kt(o,0),f=new kt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([c,f],(g=>{a=a.add(g.wr)}))})),X.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let c=a;de.isDocumentKey(c)||(c=c.child(""));const f=new kt(new de(c),0);let g=new Jt(He);return this.br.forEachWhile((y=>{const E=y.key.path;return!!a.isPrefixOf(E)&&(E.length===o&&(g=g.add(y.wr)),!0)}),f),X.resolve(this.Cr(g))}Cr(e){const n=[];return e.forEach((a=>{const o=this.Dr(a);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ye(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let a=this.br;return X.forEach(n.mutations,(o=>{const c=new kt(o.key,n.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=a}))}On(e){}containsKey(e,n){const a=new kt(n,0),o=this.br.firstAfterOrEqual(a);return X.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class bC{constructor(e){this.Mr=e,this.docs=(function(){return new ct(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),c=o?o.size:0,f=this.Mr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return X.resolve(a?a.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let a=rs();return n.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():an.newInvalidDocument(o))})),X.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let c=rs();const f=n.path,g=new de(f.child("")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:E,value:{document:S}}=y.getNext();if(!f.isPrefixOf(E.path))break;E.path.length>f.length+1||lI(oI(S),a)<=0||(o.has(S.key)||xd(n,S))&&(c=c.insert(S.key,S.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,n,a,o){ge()}Or(e,n){return X.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new RC(this)}getSize(e){return X.resolve(this.size)}}class RC extends vC{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?n.push(this.cr.addEntry(e,o)):this.cr.removeEntry(a)})),X.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}class IC{constructor(e){this.persistence=e,this.Nr=new Ro((n=>fp(n)),mp),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Tp,this.targetCount=0,this.kr=_o.Bn()}forEachTarget(e,n){return this.Nr.forEach(((a,o)=>n(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.Lr&&(this.Lr=n),X.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new _o(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.Kn(n),X.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,a){let o=0;const c=[];return this.Nr.forEach(((f,g)=>{g.sequenceNumber<=n&&a.get(g.targetId)===null&&(this.Nr.delete(f),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const a=this.Nr.get(n)||null;return X.resolve(a)}addMatchingKeys(e,n,a){return this.Br.Rr(n,a),X.resolve()}removeMatchingKeys(e,n,a){this.Br.mr(n,a);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((f=>{c.push(o.markPotentiallyOrphaned(e,f))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),X.resolve()}getMatchingKeysForTargetId(e,n){const a=this.Br.yr(n);return X.resolve(a)}containsKey(e,n){return X.resolve(this.Br.containsKey(n))}}class CC{constructor(e,n){this.qr={},this.overlays={},this.Qr=new cp(0),this.Kr=!1,this.Kr=!0,this.$r=new SC,this.referenceDelegate=e(this),this.Ur=new IC(this),this.indexManager=new gC,this.remoteDocumentCache=(function(o){return new bC(o)})((a=>this.referenceDelegate.Wr(a))),this.serializer=new mC(n),this.Gr=new TC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new AC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.qr[e.toKey()];return a||(a=new wC(n,this.referenceDelegate),this.qr[e.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,a){oe("MemoryPersistence","Starting transaction:",e);const o=new NC(this.Qr.next());return this.referenceDelegate.zr(),a(o).next((c=>this.referenceDelegate.jr(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Hr(e,n){return X.or(Object.values(this.qr).map((a=>()=>a.containsKey(e,n))))}}class NC extends uI{constructor(e){super(),this.currentSequenceNumber=e}}class Ap{constructor(e){this.persistence=e,this.Jr=new Tp,this.Yr=null}static Zr(e){return new Ap(e)}get Xr(){if(this.Yr)return this.Yr;throw ge()}addReference(e,n,a){return this.Jr.addReference(a,n),this.Xr.delete(a.toString()),X.resolve()}removeReference(e,n,a){return this.Jr.removeReference(a,n),this.Xr.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),X.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((o=>this.Xr.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.Xr.add(c.toString())))})).next((()=>a.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Xr,(a=>{const o=de.fromPath(a);return this.ei(e,o).next((c=>{c||n.removeEntry(o,_e.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((a=>{a?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return X.or([()=>X.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class Sp{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.$i=a,this.Ui=o}static Wi(e,n){let a=Me(),o=Me();for(const c of n.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Sp(e,n.fromCache,a,o)}}class xC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class DC{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return Ob()?8:dI(rn())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,a,o){const c={result:null};return this.Yi(e,n).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.Zi(e,n,o,a).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new xC;return this.Xi(e,n,f).next((g=>{if(c.result=g,this.zi)return this.es(e,n,f,g.size)}))})).next((()=>c.result))}es(e,n,a,o){return a.documentReadCount<this.ji?(jl()<=Pe.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",no(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),X.resolve()):(jl()<=Pe.DEBUG&&oe("QueryEngine","Query:",no(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.Hi*o?(jl()<=Pe.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",no(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ei(n))):X.resolve())}Yi(e,n){if(rE(n))return X.resolve(null);let a=Ei(n);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Bm(n,null,"F"),a=Ei(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const f=Me(...c);return this.Ji.getDocuments(e,f).next((g=>this.indexManager.getMinOffset(e,a).next((y=>{const E=this.ts(n,g);return this.ns(n,E,f,y.readTime)?this.Yi(e,Bm(n,null,"F")):this.rs(e,E,n,y)}))))})))))}Zi(e,n,a,o){return rE(n)||o.isEqual(_e.min())?X.resolve(null):this.Ji.getDocuments(e,a).next((c=>{const f=this.ts(n,c);return this.ns(n,f,a,o)?X.resolve(null):(jl()<=Pe.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),no(n)),this.rs(e,f,n,rI(o,-1)).next((g=>g)))}))}ts(e,n){let a=new Jt(UT(e));return n.forEach(((o,c)=>{xd(e,c)&&(a=a.add(c))})),a}ns(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Xi(e,n,a){return jl()<=Pe.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",no(n)),this.Ji.getDocumentsMatchingQuery(e,n,fa.min(),a)}rs(e,n,a,o){return this.Ji.getDocumentsMatchingQuery(e,a,o).next((c=>(n.forEach((f=>{c=c.insert(f.key,f)})),c)))}}class OC{constructor(e,n,a,o){this.persistence=e,this.ss=n,this.serializer=o,this.os=new ct(He),this._s=new Ro((c=>fp(c)),mp),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(a)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EC(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function MC(s,e,n,a){return new OC(s,e,n,a)}async function o0(s,e){const n=Ee(s);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,n.ls(e),n.mutationQueue.getAllMutationBatches(a)))).next((c=>{const f=[],g=[];let y=Me();for(const E of o){f.push(E.batchId);for(const S of E.mutations)y=y.add(S.key)}for(const E of c){g.push(E.batchId);for(const S of E.mutations)y=y.add(S.key)}return n.localDocuments.getDocuments(a,y).next((E=>({hs:E,removedBatchIds:f,addedBatchIds:g})))}))}))}function jC(s,e){const n=Ee(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=n.cs.newChangeBuffer({trackRemovals:!0});return(function(g,y,E,S){const b=E.batch,V=b.keys();let H=X.resolve();return V.forEach((J=>{H=H.next((()=>S.getEntry(y,J))).next((ne=>{const ee=E.docVersions.get(J);Ye(ee!==null),ne.version.compareTo(ee)<0&&(b.applyToRemoteDocument(ne,E),ne.isValidDocument()&&(ne.setReadTime(E.commitVersion),S.addEntry(ne)))}))})),H.next((()=>g.mutationQueue.removeMutationBatch(y,b)))})(n,a,e,c).next((()=>c.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let y=Me();for(let E=0;E<g.mutationResults.length;++E)g.mutationResults[E].transformResults.length>0&&(y=y.add(g.batch.mutations[E].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(a,o)))}))}function l0(s){const e=Ee(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function VC(s,e){const n=Ee(s),a=e.snapshotVersion;let o=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=n.cs.newChangeBuffer({trackRemovals:!0});o=n.os;const g=[];e.targetChanges.forEach(((S,b)=>{const V=o.get(b);if(!V)return;g.push(n.Ur.removeMatchingKeys(c,S.removedDocuments,b).next((()=>n.Ur.addMatchingKeys(c,S.addedDocuments,b))));let H=V.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?H=H.withResumeToken(Zt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):S.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(S.resumeToken,a)),o=o.insert(b,H),(function(ne,ee,ye){return ne.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=3e8?!0:ye.addedDocuments.size+ye.modifiedDocuments.size+ye.removedDocuments.size>0})(V,H,S)&&g.push(n.Ur.updateTargetData(c,H))}));let y=rs(),E=Me();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,S))})),g.push(PC(c,f,e.documentUpdates).next((S=>{y=S.Ps,E=S.Is}))),!a.isEqual(_e.min())){const S=n.Ur.getLastRemoteSnapshotVersion(c).next((b=>n.Ur.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(S)}return X.waitFor(g).next((()=>f.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,y,E))).next((()=>y))})).then((c=>(n.os=o,c)))}function PC(s,e,n){let a=Me(),o=Me();return n.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let f=rs();return n.forEach(((g,y)=>{const E=c.get(g);y.isFoundDocument()!==E.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(_e.min())?(e.removeEntry(g,y.readTime),f=f.insert(g,y)):!E.isValidDocument()||y.version.compareTo(E.version)>0||y.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(y),f=f.insert(g,y)):oe("LocalStore","Ignoring outdated watch update for ",g,". Current version:",E.version," Watch version:",y.version)})),{Ps:f,Is:o}}))}function LC(s,e){const n=Ee(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function kC(s,e){const n=Ee(s);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return n.Ur.getTargetData(a,e).next((c=>c?(o=c,X.resolve(o)):n.Ur.allocateTargetId(a).next((f=>(o=new oa(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.Ur.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=n.os.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.os=n.os.insert(a.targetId,a),n._s.set(e,a.targetId)),a}))}async function Gm(s,e,n){const a=Ee(s),o=a.os.get(e),c=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",c,(f=>a.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!lc(f))throw f;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}a.os=a.os.remove(e),a._s.delete(o.target)}function yE(s,e,n){const a=Ee(s);let o=_e.min(),c=Me();return a.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,E,S){const b=Ee(y),V=b._s.get(S);return V!==void 0?X.resolve(b.os.get(V)):b.Ur.getTargetData(E,S)})(a,f,Ei(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(f,g.targetId).next((y=>{c=y}))})).next((()=>a.ss.getDocumentsMatchingQuery(f,e,n?o:_e.min(),n?c:Me()))).next((g=>(UC(a,NI(e),g),{documents:g,Ts:c})))))}function UC(s,e,n){let a=s.us.get(e)||_e.min();n.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.us.set(e,a)}class vE{constructor(){this.activeTargetIds=VI()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BC{constructor(){this.so=new vE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,a){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new vE,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class zC{_o(e){}shutdown(){}}class _E{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Zu=null;function Tm(){return Zu===null?Zu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zu++,"0x"+Zu.toString(16)}const qC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HC{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const nn="WebChannelConnection";class FC extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const a=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+n.host,this.vo=`projects/${o}/databases/${c}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${c}`}get Fo(){return!1}Mo(n,a,o,c,f){const g=Tm(),y=this.xo(n,a.toUriEncodedString());oe("RestConnection",`Sending RPC '${n}' ${g}:`,y,o);const E={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(E,c,f),this.No(n,y,E,o).then((S=>(oe("RestConnection",`Received RPC '${n}' ${g}: `,S),S)),(S=>{throw po("RestConnection",`RPC '${n}' ${g} failed with error: `,S,"url: ",y,"request:",o),S}))}Lo(n,a,o,c,f,g){return this.Mo(n,a,o,c,f)}Oo(n,a,o){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wo})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach(((c,f)=>n[f]=c)),o&&o.headers.forEach(((c,f)=>n[f]=c))}xo(n,a){const o=qC[n];return`${this.Do}/v1/${a}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,a,o){const c=Tm();return new Promise(((f,g)=>{const y=new TT;y.setWithCredentials(!0),y.listenOnce(AT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case td.NO_ERROR:const S=y.getResponseJson();oe(nn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(S)),f(S);break;case td.TIMEOUT:oe(nn,`RPC '${e}' ${c} timed out`),g(new ie(Y.DEADLINE_EXCEEDED,"Request time out"));break;case td.HTTP_ERROR:const b=y.getStatus();if(oe(nn,`RPC '${e}' ${c} failed with status:`,b,"response text:",y.getResponseText()),b>0){let V=y.getResponseJson();Array.isArray(V)&&(V=V[0]);const H=V?.error;if(H&&H.status&&H.message){const J=(function(ee){const ye=ee.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(ye)>=0?ye:Y.UNKNOWN})(H.status);g(new ie(J,H.message))}else g(new ie(Y.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ie(Y.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{oe(nn,`RPC '${e}' ${c} completed.`)}}));const E=JSON.stringify(o);oe(nn,`RPC '${e}' ${c} sending request:`,o),y.send(n,"POST",E,a,15)}))}Bo(e,n,a){const o=Tm(),c=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=bT(),g=wT(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(y.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Oo(y.initMessageHeaders,n,a),y.encodeInitMessageHeaders=!0;const S=c.join("");oe(nn,`Creating RPC '${e}' stream ${o}: ${S}`,y);const b=f.createWebChannel(S,y);let V=!1,H=!1;const J=new HC({Io:ee=>{H?oe(nn,`Not sending because RPC '${e}' stream ${o} is closed:`,ee):(V||(oe(nn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),V=!0),oe(nn,`RPC '${e}' stream ${o} sending:`,ee),b.send(ee))},To:()=>b.close()}),ne=(ee,ye,be)=>{ee.listen(ye,(pe=>{try{be(pe)}catch(Le){setTimeout((()=>{throw Le}),0)}}))};return ne(b,Ll.EventType.OPEN,(()=>{H||(oe(nn,`RPC '${e}' stream ${o} transport opened.`),J.yo())})),ne(b,Ll.EventType.CLOSE,(()=>{H||(H=!0,oe(nn,`RPC '${e}' stream ${o} transport closed`),J.So())})),ne(b,Ll.EventType.ERROR,(ee=>{H||(H=!0,po(nn,`RPC '${e}' stream ${o} transport errored:`,ee),J.So(new ie(Y.UNAVAILABLE,"The operation could not be completed")))})),ne(b,Ll.EventType.MESSAGE,(ee=>{var ye;if(!H){const be=ee.data[0];Ye(!!be);const pe=be,Le=pe.error||((ye=pe[0])===null||ye===void 0?void 0:ye.error);if(Le){oe(nn,`RPC '${e}' stream ${o} received error:`,Le);const ot=Le.status;let xe=(function(I){const O=bt[I];if(O!==void 0)return JT(O)})(ot),N=Le.message;xe===void 0&&(xe=Y.INTERNAL,N="Unknown error status: "+ot+" with message "+Le.message),H=!0,J.So(new ie(xe,N)),b.close()}else oe(nn,`RPC '${e}' stream ${o} received:`,be),J.bo(be)}})),ne(g,ST.STAT_EVENT,(ee=>{ee.stat===jm.PROXY?oe(nn,`RPC '${e}' stream ${o} detected buffering proxy`):ee.stat===jm.NOPROXY&&oe(nn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{J.wo()}),0),J}}function Am(){return typeof document<"u"?document:null}function jd(s){return new eC(s,!0)}class c0{constructor(e,n,a=1e3,o=1.5,c=6e4){this.ui=e,this.timerId=n,this.ko=a,this.qo=o,this.Qo=c,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),o=Math.max(0,n-a);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class u0{constructor(e,n,a,o,c,f,g,y){this.ui=e,this.Ho=a,this.Jo=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new c0(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(as(n.toString()),as("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.Yo===n&&this.P_(a,o)}),(a=>{e((()=>{const o=new ie(Y.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(o)}))}))}P_(e,n){const a=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{a((()=>this.listener.Eo()))})),this.stream.Ro((()=>{a((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{a((()=>this.I_(o)))})),this.stream.onMessage((o=>{a((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class GC extends u0{constructor(e,n,a,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=c}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=iC(this.serializer,e),a=(function(c){if(!("targetChange"in c))return _e.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?_e.min():f.readTime?Ti(f.readTime):_e.min()})(e);return this.listener.d_(n,a)}A_(e){const n={};n.database=Fm(this.serializer),n.addTarget=(function(c,f){let g;const y=f.target;if(g=km(y)?{documents:rC(c,y)}:{query:oC(c,y)._t},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=e0(c,f.resumeToken);const E=zm(c,f.expectedCount);E!==null&&(g.expectedCount=E)}else if(f.snapshotVersion.compareTo(_e.min())>0){g.readTime=gd(c,f.snapshotVersion.toTimestamp());const E=zm(c,f.expectedCount);E!==null&&(g.expectedCount=E)}return g})(this.serializer,e);const a=cC(this.serializer,e);a&&(n.labels=a),this.a_(n)}R_(e){const n={};n.database=Fm(this.serializer),n.removeTarget=e,this.a_(n)}}class QC extends u0{constructor(e,n,a,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,f),this.serializer=c}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=aC(e.writeResults,e.commitTime),a=Ti(e.commitTime);return this.listener.g_(a,n)}p_(){const e={};e.database=Fm(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>sC(this.serializer,a)))};this.a_(n)}}class $C extends class{}{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new ie(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,a,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Mo(e,qm(n,a),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ie(Y.UNKNOWN,c.toString())}))}Lo(e,n,a,o,c){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Lo(e,qm(n,a),o,f,g,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ie(Y.UNKNOWN,f.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class KC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(as(n),this.D_=!1):oe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class YC{constructor(e,n,a,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=c,this.k_._o((f=>{a.enqueueAndForget((async()=>{or(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),await(async function(y){const E=Ee(y);E.L_.add(4),await dc(E),E.q_.set("Unknown"),E.L_.delete(4),await Vd(E)})(this))}))})),this.q_=new KC(a,o)}}async function Vd(s){if(or(s))for(const e of s.B_)await e(!0)}async function dc(s){for(const e of s.B_)await e(!1)}function d0(s,e){const n=Ee(s);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Ip(n)?Rp(n):Io(n).r_()&&bp(n,e))}function wp(s,e){const n=Ee(s),a=Io(n);n.N_.delete(e),a.r_()&&h0(n,e),n.N_.size===0&&(a.r_()?a.o_():or(n)&&n.q_.set("Unknown"))}function bp(s,e){if(s.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Io(s).A_(e)}function h0(s,e){s.Q_.xe(e),Io(s).R_(e)}function Rp(s){s.Q_=new XI({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>s.N_.get(e)||null,tt:()=>s.datastore.serializer.databaseId}),Io(s).start(),s.q_.v_()}function Ip(s){return or(s)&&!Io(s).n_()&&s.N_.size>0}function or(s){return Ee(s).L_.size===0}function f0(s){s.Q_=void 0}async function XC(s){s.q_.set("Online")}async function JC(s){s.N_.forEach(((e,n)=>{bp(s,e)}))}async function ZC(s,e){f0(s),Ip(s)?(s.q_.M_(e),Rp(s)):s.q_.set("Unknown")}async function WC(s,e,n){if(s.q_.set("Online"),e instanceof WT&&e.state===2&&e.cause)try{await(async function(o,c){const f=c.cause;for(const g of c.targetIds)o.N_.has(g)&&(await o.remoteSyncer.rejectListen(g,f),o.N_.delete(g),o.Q_.removeTarget(g))})(s,e)}catch(a){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),await yd(s,a)}else if(e instanceof sd?s.Q_.Ke(e):e instanceof ZT?s.Q_.He(e):s.Q_.We(e),!n.isEqual(_e.min()))try{const a=await l0(s.localStore);n.compareTo(a)>=0&&await(function(c,f){const g=c.Q_.rt(f);return g.targetChanges.forEach(((y,E)=>{if(y.resumeToken.approximateByteSize()>0){const S=c.N_.get(E);S&&c.N_.set(E,S.withResumeToken(y.resumeToken,f))}})),g.targetMismatches.forEach(((y,E)=>{const S=c.N_.get(y);if(!S)return;c.N_.set(y,S.withResumeToken(Zt.EMPTY_BYTE_STRING,S.snapshotVersion)),h0(c,y);const b=new oa(S.target,y,E,S.sequenceNumber);bp(c,b)})),c.remoteSyncer.applyRemoteEvent(g)})(s,n)}catch(a){oe("RemoteStore","Failed to raise snapshot:",a),await yd(s,a)}}async function yd(s,e,n){if(!lc(e))throw e;s.L_.add(1),await dc(s),s.q_.set("Offline"),n||(n=()=>l0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{oe("RemoteStore","Retrying IndexedDB access"),await n(),s.L_.delete(1),await Vd(s)}))}function m0(s,e){return e().catch((n=>yd(s,n,e)))}async function Pd(s){const e=Ee(s),n=pa(e);let a=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;eN(e);)try{const o=await LC(e.localStore,a);if(o===null){e.O_.length===0&&n.o_();break}a=o.batchId,tN(e,o)}catch(o){await yd(e,o)}p0(e)&&g0(e)}function eN(s){return or(s)&&s.O_.length<10}function tN(s,e){s.O_.push(e);const n=pa(s);n.r_()&&n.V_&&n.m_(e.mutations)}function p0(s){return or(s)&&!pa(s).n_()&&s.O_.length>0}function g0(s){pa(s).start()}async function nN(s){pa(s).p_()}async function iN(s){const e=pa(s);for(const n of s.O_)e.m_(n.mutations)}async function sN(s,e,n){const a=s.O_.shift(),o=vp.from(a,e,n);await m0(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Pd(s)}async function aN(s,e){e&&pa(s).V_&&await(async function(a,o){if((function(f){return $I(f)&&f!==Y.ABORTED})(o.code)){const c=a.O_.shift();pa(a).s_(),await m0(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Pd(a)}})(s,e),p0(s)&&g0(s)}async function EE(s,e){const n=Ee(s);n.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const a=or(n);n.L_.add(3),await dc(n),a&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Vd(n)}async function rN(s,e){const n=Ee(s);e?(n.L_.delete(2),await Vd(n)):e||(n.L_.add(2),await dc(n),n.q_.set("Unknown"))}function Io(s){return s.K_||(s.K_=(function(n,a,o){const c=Ee(n);return c.w_(),new GC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Eo:XC.bind(null,s),Ro:JC.bind(null,s),mo:ZC.bind(null,s),d_:WC.bind(null,s)}),s.B_.push((async e=>{e?(s.K_.s_(),Ip(s)?Rp(s):s.q_.set("Unknown")):(await s.K_.stop(),f0(s))}))),s.K_}function pa(s){return s.U_||(s.U_=(function(n,a,o){const c=Ee(n);return c.w_(),new QC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Eo:()=>Promise.resolve(),Ro:nN.bind(null,s),mo:aN.bind(null,s),f_:iN.bind(null,s),g_:sN.bind(null,s)}),s.B_.push((async e=>{e?(s.U_.s_(),await Pd(s)):(await s.U_.stop(),s.O_.length>0&&(oe("RemoteStore",`Stopping write stream with ${s.O_.length} pending writes`),s.O_=[]))}))),s.U_}class Cp{constructor(e,n,a,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,c){const f=Date.now()+a,g=new Cp(e,n,f,o,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Np(s,e){if(as("AsyncQueue",`${e}: ${s}`),lc(s))return new ie(Y.UNAVAILABLE,`${e}: ${s}`);throw s}class lo{constructor(e){this.comparator=e?(n,a)=>e(n,a)||de.comparator(n.key,a.key):(n,a)=>de.comparator(n.key,a.key),this.keyedMap=kl(),this.sortedSet=new ct(this.comparator)}static emptySet(e){return new lo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof lo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new lo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}class TE{constructor(){this.W_=new ct(de.comparator)}track(e){const n=e.doc.key,a=this.W_.get(n);a?e.type!==0&&a.type===3?this.W_=this.W_.insert(n,e):e.type===3&&a.type!==1?this.W_=this.W_.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.W_=this.W_.remove(n):e.type===1&&a.type===2?this.W_=this.W_.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ge():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,a)=>{e.push(a)})),e}}class Eo{constructor(e,n,a,o,c,f,g,y,E){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=E}static fromInitialDocuments(e,n,a,o,c){const f=[];return n.forEach((g=>{f.push({type:0,doc:g})})),new Eo(e,n,lo.emptySet(n),f,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}class oN{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class lN{constructor(){this.queries=AE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,a){const o=Ee(n),c=o.queries;o.queries=AE(),c.forEach(((f,g)=>{for(const y of g.j_)y.onError(a)}))})(this,new ie(Y.ABORTED,"Firestore shutting down"))}}function AE(){return new Ro((s=>kT(s)),Nd)}async function y0(s,e){const n=Ee(s);let a=3;const o=e.query;let c=n.queries.get(o);c?!c.H_()&&e.J_()&&(a=2):(c=new oN,a=e.J_()?0:1);try{switch(a){case 0:c.z_=await n.onListen(o,!0);break;case 1:c.z_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const g=Np(f,`Initialization of query '${no(e.query)}' failed`);return void e.onError(g)}n.queries.set(o,c),c.j_.push(e),e.Z_(n.onlineState),c.z_&&e.X_(c.z_)&&xp(n)}async function v0(s,e){const n=Ee(s),a=e.query;let o=3;const c=n.queries.get(a);if(c){const f=c.j_.indexOf(e);f>=0&&(c.j_.splice(f,1),c.j_.length===0?o=e.J_()?0:1:!c.H_()&&e.J_()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function cN(s,e){const n=Ee(s);let a=!1;for(const o of e){const c=o.query,f=n.queries.get(c);if(f){for(const g of f.j_)g.X_(o)&&(a=!0);f.z_=o}}a&&xp(n)}function uN(s,e,n){const a=Ee(s),o=a.queries.get(e);if(o)for(const c of o.j_)c.onError(n);a.queries.delete(e)}function xp(s){s.Y_.forEach((e=>{e.next()}))}var Qm,SE;(SE=Qm||(Qm={})).ea="default",SE.Cache="cache";class _0{constructor(e,n,a){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Eo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const a=n!=="Offline";return(!this.options._a||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Qm.Cache}}class E0{constructor(e){this.key=e}}class T0{constructor(e){this.key=e}}class dN{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Me(),this.mutatedKeys=Me(),this.Aa=UT(e),this.Ra=new lo(this.Aa)}get Va(){return this.Ta}ma(e,n){const a=n?n.fa:new TE,o=n?n.Ra:this.Ra;let c=n?n.mutatedKeys:this.mutatedKeys,f=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,E=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((S,b)=>{const V=o.get(S),H=xd(this.query,b)?b:null,J=!!V&&this.mutatedKeys.has(V.key),ne=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let ee=!1;V&&H?V.data.isEqual(H.data)?J!==ne&&(a.track({type:3,doc:H}),ee=!0):this.ga(V,H)||(a.track({type:2,doc:H}),ee=!0,(y&&this.Aa(H,y)>0||E&&this.Aa(H,E)<0)&&(g=!0)):!V&&H?(a.track({type:0,doc:H}),ee=!0):V&&!H&&(a.track({type:1,doc:V}),ee=!0,(y||E)&&(g=!0)),ee&&(H?(f=f.add(H),c=ne?c.add(S):c.delete(S)):(f=f.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const S=this.query.limitType==="F"?f.last():f.first();f=f.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{Ra:f,fa:a,ns:g,mutatedKeys:c}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const c=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const f=e.fa.G_();f.sort(((S,b)=>(function(H,J){const ne=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return ne(H)-ne(J)})(S.type,b.type)||this.Aa(S.doc,b.doc))),this.pa(a),o=o!=null&&o;const g=n&&!o?this.ya():[],y=this.da.size===0&&this.current&&!o?1:0,E=y!==this.Ea;return this.Ea=y,f.length!==0||E?{snapshot:new Eo(this.query,e.Ra,c,f,e.mutatedKeys,y===0,E,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:g}:{wa:g}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new TE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Me(),this.Ra.forEach((a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))}));const n=[];return e.forEach((a=>{this.da.has(a)||n.push(new T0(a))})),this.da.forEach((a=>{e.has(a)||n.push(new E0(a))})),n}ba(e){this.Ta=e.Ts,this.da=Me();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Eo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class hN{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class fN{constructor(e){this.key=e,this.va=!1}}class mN{constructor(e,n,a,o,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Ca={},this.Fa=new Ro((g=>kT(g)),Nd),this.Ma=new Map,this.xa=new Set,this.Oa=new ct(de.comparator),this.Na=new Map,this.La=new Tp,this.Ba={},this.ka=new Map,this.qa=_o.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function pN(s,e,n=!0){const a=I0(s);let o;const c=a.Fa.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Da()):o=await A0(a,e,n,!0),o}async function gN(s,e){const n=I0(s);await A0(n,e,!0,!1)}async function A0(s,e,n,a){const o=await kC(s.localStore,Ei(e)),c=o.targetId,f=s.sharedClientState.addLocalQueryTarget(c,n);let g;return a&&(g=await yN(s,e,c,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&d0(s.remoteStore,o),g}async function yN(s,e,n,a,o){s.Ka=(b,V,H)=>(async function(ne,ee,ye,be){let pe=ee.view.ma(ye);pe.ns&&(pe=await yE(ne.localStore,ee.query,!1).then((({documents:N})=>ee.view.ma(N,pe))));const Le=be&&be.targetChanges.get(ee.targetId),ot=be&&be.targetMismatches.get(ee.targetId)!=null,xe=ee.view.applyChanges(pe,ne.isPrimaryClient,Le,ot);return bE(ne,ee.targetId,xe.wa),xe.snapshot})(s,b,V,H);const c=await yE(s.localStore,e,!0),f=new dN(e,c.Ts),g=f.ma(c.documents),y=uc.createSynthesizedTargetChangeForCurrentChange(n,a&&s.onlineState!=="Offline",o),E=f.applyChanges(g,s.isPrimaryClient,y);bE(s,n,E.wa);const S=new hN(e,n,f);return s.Fa.set(e,S),s.Ma.has(n)?s.Ma.get(n).push(e):s.Ma.set(n,[e]),E.snapshot}async function vN(s,e,n){const a=Ee(s),o=a.Fa.get(e),c=a.Ma.get(o.targetId);if(c.length>1)return a.Ma.set(o.targetId,c.filter((f=>!Nd(f,e)))),void a.Fa.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Gm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),n&&wp(a.remoteStore,o.targetId),$m(a,o.targetId)})).catch(oc)):($m(a,o.targetId),await Gm(a.localStore,o.targetId,!0))}async function _N(s,e){const n=Ee(s),a=n.Fa.get(e),o=n.Ma.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),wp(n.remoteStore,a.targetId))}async function EN(s,e,n){const a=IN(s);try{const o=await(function(f,g){const y=Ee(f),E=Dt.now(),S=g.reduce(((H,J)=>H.add(J.key)),Me());let b,V;return y.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let J=rs(),ne=Me();return y.cs.getEntries(H,S).next((ee=>{J=ee,J.forEach(((ye,be)=>{be.isValidDocument()||(ne=ne.add(ye))}))})).next((()=>y.localDocuments.getOverlayedDocuments(H,J))).next((ee=>{b=ee;const ye=[];for(const be of g){const pe=qI(be,b.get(be.key).overlayedDocument);pe!=null&&ye.push(new ga(be.key,pe,xT(pe.value.mapValue),$n.exists(!0)))}return y.mutationQueue.addMutationBatch(H,E,ye,g)})).next((ee=>{V=ee;const ye=ee.applyToLocalDocumentSet(b,ne);return y.documentOverlayCache.saveOverlays(H,ee.batchId,ye)}))})).then((()=>({batchId:V.batchId,changes:zT(b)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(f,g,y){let E=f.Ba[f.currentUser.toKey()];E||(E=new ct(He)),E=E.insert(g,y),f.Ba[f.currentUser.toKey()]=E})(a,o.batchId,n),await hc(a,o.changes),await Pd(a.remoteStore)}catch(o){const c=Np(o,"Failed to persist write");n.reject(c)}}async function S0(s,e){const n=Ee(s);try{const a=await VC(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const f=n.Na.get(c);f&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.va=!0:o.modifiedDocuments.size>0?Ye(f.va):o.removedDocuments.size>0&&(Ye(f.va),f.va=!1))})),await hc(n,a,e)}catch(a){await oc(a)}}function wE(s,e,n){const a=Ee(s);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Fa.forEach(((c,f)=>{const g=f.view.Z_(e);g.snapshot&&o.push(g.snapshot)})),(function(f,g){const y=Ee(f);y.onlineState=g;let E=!1;y.queries.forEach(((S,b)=>{for(const V of b.j_)V.Z_(g)&&(E=!0)})),E&&xp(y)})(a.eventManager,e),o.length&&a.Ca.d_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function TN(s,e,n){const a=Ee(s);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Na.get(e),c=o&&o.key;if(c){let f=new ct(de.comparator);f=f.insert(c,an.newNoDocument(c,_e.min()));const g=Me().add(c),y=new Md(_e.min(),new Map,new ct(He),f,g);await S0(a,y),a.Oa=a.Oa.remove(c),a.Na.delete(e),Dp(a)}else await Gm(a.localStore,e,!1).then((()=>$m(a,e,n))).catch(oc)}async function AN(s,e){const n=Ee(s),a=e.batch.batchId;try{const o=await jC(n.localStore,e);b0(n,a,null),w0(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await hc(n,o)}catch(o){await oc(o)}}async function SN(s,e,n){const a=Ee(s);try{const o=await(function(f,g){const y=Ee(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(E=>{let S;return y.mutationQueue.lookupMutationBatch(E,g).next((b=>(Ye(b!==null),S=b.keys(),y.mutationQueue.removeMutationBatch(E,b)))).next((()=>y.mutationQueue.performConsistencyCheck(E))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(E,S,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,S))).next((()=>y.localDocuments.getDocuments(E,S)))}))})(a.localStore,e);b0(a,e,n),w0(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await hc(a,o)}catch(o){await oc(o)}}function w0(s,e){(s.ka.get(e)||[]).forEach((n=>{n.resolve()})),s.ka.delete(e)}function b0(s,e,n){const a=Ee(s);let o=a.Ba[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),a.Ba[a.currentUser.toKey()]=o}}function $m(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Ma.get(e))s.Fa.delete(a),n&&s.Ca.$a(a,n);s.Ma.delete(e),s.isPrimaryClient&&s.La.gr(e).forEach((a=>{s.La.containsKey(a)||R0(s,a)}))}function R0(s,e){s.xa.delete(e.path.canonicalString());const n=s.Oa.get(e);n!==null&&(wp(s.remoteStore,n),s.Oa=s.Oa.remove(e),s.Na.delete(n),Dp(s))}function bE(s,e,n){for(const a of n)a instanceof E0?(s.La.addReference(a.key,e),wN(s,a)):a instanceof T0?(oe("SyncEngine","Document no longer in limbo: "+a.key),s.La.removeReference(a.key,e),s.La.containsKey(a.key)||R0(s,a.key)):ge()}function wN(s,e){const n=e.key,a=n.path.canonicalString();s.Oa.get(n)||s.xa.has(a)||(oe("SyncEngine","New document in limbo: "+n),s.xa.add(a),Dp(s))}function Dp(s){for(;s.xa.size>0&&s.Oa.size<s.maxConcurrentLimboResolutions;){const e=s.xa.values().next().value;s.xa.delete(e);const n=new de(it.fromString(e)),a=s.qa.next();s.Na.set(a,new fN(n)),s.Oa=s.Oa.insert(n,a),d0(s.remoteStore,new oa(Ei(pp(n.path)),a,"TargetPurposeLimboResolution",cp.oe))}}async function hc(s,e,n){const a=Ee(s),o=[],c=[],f=[];a.Fa.isEmpty()||(a.Fa.forEach(((g,y)=>{f.push(a.Ka(y,e,n).then((E=>{var S;if((E||n)&&a.isPrimaryClient){const b=E?!E.fromCache:(S=n?.targetChanges.get(y.targetId))===null||S===void 0?void 0:S.current;a.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(E){o.push(E);const b=Sp.Wi(y.targetId,E);c.push(b)}})))})),await Promise.all(f),a.Ca.d_(o),await(async function(y,E){const S=Ee(y);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>X.forEach(E,(V=>X.forEach(V.$i,(H=>S.persistence.referenceDelegate.addReference(b,V.targetId,H))).next((()=>X.forEach(V.Ui,(H=>S.persistence.referenceDelegate.removeReference(b,V.targetId,H)))))))))}catch(b){if(!lc(b))throw b;oe("LocalStore","Failed to update sequence numbers: "+b)}for(const b of E){const V=b.targetId;if(!b.fromCache){const H=S.os.get(V),J=H.snapshotVersion,ne=H.withLastLimboFreeSnapshotVersion(J);S.os=S.os.insert(V,ne)}}})(a.localStore,c))}async function bN(s,e){const n=Ee(s);if(!n.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const a=await o0(n.localStore,e);n.currentUser=e,(function(c,f){c.ka.forEach((g=>{g.forEach((y=>{y.reject(new ie(Y.CANCELLED,f))}))})),c.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await hc(n,a.hs)}}function RN(s,e){const n=Ee(s),a=n.Na.get(e);if(a&&a.va)return Me().add(a.key);{let o=Me();const c=n.Ma.get(e);if(!c)return o;for(const f of c){const g=n.Fa.get(f);o=o.unionWith(g.view.Va)}return o}}function I0(s){const e=Ee(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=S0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TN.bind(null,e),e.Ca.d_=cN.bind(null,e.eventManager),e.Ca.$a=uN.bind(null,e.eventManager),e}function IN(s){const e=Ee(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SN.bind(null,e),e}class vd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return MC(this.persistence,new DC,e.initialUser,this.serializer)}Ga(e){return new CC(Ap.Zr,this.serializer)}Wa(e){return new BC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vd.provider={build:()=>new vd};class Km{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>wE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=bN.bind(null,this.syncEngine),await rN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new lN})()}createDatastore(e){const n=jd(e.databaseInfo.databaseId),a=(function(c){return new FC(c)})(e.databaseInfo);return(function(c,f,g,y){return new $C(c,f,g,y)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,o,c,f,g){return new YC(a,o,c,f,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>wE(this.syncEngine,n,0)),(function(){return _E.D()?new _E:new zC})())}createSyncEngine(e,n){return(function(o,c,f,g,y,E,S){const b=new mN(o,c,f,g,y,E);return S&&(b.Qa=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const c=Ee(o);oe("RemoteStore","RemoteStore shutting down."),c.L_.add(5),await dc(c),c.k_.shutdown(),c.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Km.provider={build:()=>new Km};class C0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):as("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}class CN{constructor(e,n,a,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=IT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async f=>{oe("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(a,(f=>(oe("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Np(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Sm(s,e){s.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let a=n.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await o0(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function RE(s,e){s.asyncQueue.verifyOperationInProgress();const n=await NN(s);oe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((a=>EE(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>EE(e.remoteStore,o))),s._onlineComponents=e}async function NN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Sm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;po("Error using user provided cache. Falling back to memory cache: "+n),await Sm(s,new vd)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),await Sm(s,new vd);return s._offlineComponents}async function N0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),await RE(s,s._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),await RE(s,new Km))),s._onlineComponents}function xN(s){return N0(s).then((e=>e.syncEngine))}async function x0(s){const e=await N0(s),n=e.eventManager;return n.onListen=pN.bind(null,e.syncEngine),n.onUnlisten=vN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_N.bind(null,e.syncEngine),n}function DN(s,e,n={}){const a=new ns;return s.asyncQueue.enqueueAndForget((async()=>(function(c,f,g,y,E){const S=new C0({next:V=>{S.Za(),f.enqueueAndForget((()=>v0(c,b)));const H=V.docs.has(g);!H&&V.fromCache?E.reject(new ie(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&V.fromCache&&y&&y.source==="server"?E.reject(new ie(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(V)},error:V=>E.reject(V)}),b=new _0(pp(g.path),S,{includeMetadataChanges:!0,_a:!0});return y0(c,b)})(await x0(s),s.asyncQueue,e,n,a))),a.promise}function ON(s,e,n={}){const a=new ns;return s.asyncQueue.enqueueAndForget((async()=>(function(c,f,g,y,E){const S=new C0({next:V=>{S.Za(),f.enqueueAndForget((()=>v0(c,b))),V.fromCache&&y.source==="server"?E.reject(new ie(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(V)},error:V=>E.reject(V)}),b=new _0(g,S,{includeMetadataChanges:!0,_a:!0});return y0(c,b)})(await x0(s),s.asyncQueue,e,n,a))),a.promise}function D0(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const IE=new Map;function O0(s,e,n){if(!n)throw new ie(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function MN(s,e,n,a){if(e===!0&&a===!0)throw new ie(Y.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function CE(s){if(!de.isDocumentKey(s))throw new ie(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function NE(s){if(de.isDocumentKey(s))throw new ie(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Ld(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ge()}function ii(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ie(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ld(s);throw new ie(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}class xE{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ie(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=D0((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),(function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ie(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ie(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ie(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kd{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xE(e),e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new JR;switch(a.type){case"firstParty":return new tI(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ie(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=IE.get(n);a&&(oe("ComponentProvider","Removing Datastore"),IE.delete(n),a.terminate())})(this),Promise.resolve()}}function jN(s,e,n,a={}){var o;const c=(s=ii(s,kd))._getSettings(),f=`${e}:${n}`;if(c.host!=="firestore.googleapis.com"&&c.host!==f&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),a.mockUserToken){let g,y;if(typeof a.mockUserToken=="string")g=a.mockUserToken,y=sn.MOCK_USER;else{g=bb(a.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const E=a.mockUserToken.sub||a.mockUserToken.user_id;if(!E)throw new ie(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new sn(E)}s._authCredentials=new ZR(new RT(g,y))}}class lr{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new lr(this.firestore,e,this._query)}}class fn{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ha(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class ha extends lr{constructor(e,n,a){super(e,n,pp(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new de(e))}withConverter(e){return new ha(this.firestore,e,this._path)}}function ut(s,e,...n){if(s=Ot(s),O0("collection","path",e),s instanceof kd){const a=it.fromString(e,...n);return NE(a),new ha(s,null,a)}{if(!(s instanceof fn||s instanceof ha))throw new ie(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(it.fromString(e,...n));return NE(a),new ha(s.firestore,null,a)}}function pt(s,e,...n){if(s=Ot(s),arguments.length===1&&(e=IT.newId()),O0("doc","path",e),s instanceof kd){const a=it.fromString(e,...n);return CE(a),new fn(s,null,new de(a))}{if(!(s instanceof fn||s instanceof ha))throw new ie(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(it.fromString(e,...n));return CE(a),new fn(s.firestore,s instanceof ha?s.converter:null,new de(a))}}class DE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new c0(this,"async_queue_retry"),this.Vu=()=>{const a=Am();a&&oe("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=e;const n=Am();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Am();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new ns;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!lc(e))throw e;oe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((a=>{this.Eu=a,this.du=!1;const o=(function(f){let g=f.message||"";return f.stack&&(g=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),g})(a);throw as("INTERNAL UNHANDLED ERROR: ",o),a})).then((a=>(this.du=!1,a))))));return this.mu=n,n}enqueueAfterDelay(e,n,a){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const o=Cp.createAndSchedule(this,e,n,a,(c=>this.yu(c)));return this.Tu.push(o),o}fu(){this.Eu&&ge()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class cr extends kd{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new DE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new DE(e),this._firestoreClient=void 0,await e}}}function VN(s,e){const n=typeof s=="object"?s:yT(),a=typeof s=="string"?s:"(default)",o=op(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=Sb("firestore");c&&jN(o,...c)}return o}function Op(s){if(s._terminated)throw new ie(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||PN(s),s._firestoreClient}function PN(s){var e,n,a;const o=s._freezeSettings(),c=(function(g,y,E,S){return new mI(g,y,E,S.host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,D0(S.experimentalLongPollingOptions),S.useFetchStreams)})(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,o);s._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),s._firestoreClient=new CN(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&(function(g){const y=g?._online.build();return{_offline:g?._offline.build(y),_online:y}})(s._componentsProvider))}class To{constructor(e){this._byteString=e}static fromBase64String(e){try{return new To(Zt.fromBase64String(e))}catch(n){throw new ie(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new To(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ud{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Bd{constructor(e){this._methodName=e}}class Mp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}class jp{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}}const LN=/^__.*__$/;class kN{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new ga(e,this.data,this.fieldMask,n,this.fieldTransforms):new cc(e,this.data,n,this.fieldTransforms)}}class M0{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new ga(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function j0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class Vp{constructor(e,n,a,o,c,f){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.vu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Vp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:a,xu:!1});return o.Ou(e),o}Nu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:a,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return _d(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(j0(this.Cu)&&LN.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class UN{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||jd(e)}Qu(e,n,a,o=!1){return new Vp({Cu:e,methodName:n,qu:a,path:Yt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zd(s){const e=s._freezeSettings(),n=jd(s._databaseId);return new UN(s._databaseId,!!e.ignoreUndefinedProperties,n)}function V0(s,e,n,a,o,c={}){const f=s.Qu(c.merge||c.mergeFields?2:0,e,n,o);Lp("Data must be an object, but it was:",f,a);const g=P0(a,f);let y,E;if(c.merge)y=new On(f.fieldMask),E=f.fieldTransforms;else if(c.mergeFields){const S=[];for(const b of c.mergeFields){const V=Ym(e,b,n);if(!f.contains(V))throw new ie(Y.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);k0(S,V)||S.push(V)}y=new On(S),E=f.fieldTransforms.filter((b=>y.covers(b.field)))}else y=null,E=f.fieldTransforms;return new kN(new Tn(g),y,E)}class qd extends Bd{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qd}}class Pp extends Bd{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new nc(e.serializer,FT(e.serializer,this.$u));return new kI(e.path,n)}isEqual(e){return e instanceof Pp&&this.$u===e.$u}}function BN(s,e,n,a){const o=s.Qu(1,e,n);Lp("Data must be an object, but it was:",o,a);const c=[],f=Tn.empty();rr(a,((y,E)=>{const S=kp(e,y,n);E=Ot(E);const b=o.Nu(S);if(E instanceof qd)c.push(S);else{const V=fc(E,b);V!=null&&(c.push(S),f.set(S,V))}}));const g=new On(c);return new M0(f,g,o.fieldTransforms)}function zN(s,e,n,a,o,c){const f=s.Qu(1,e,n),g=[Ym(e,a,n)],y=[o];if(c.length%2!=0)throw new ie(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)g.push(Ym(e,c[V])),y.push(c[V+1]);const E=[],S=Tn.empty();for(let V=g.length-1;V>=0;--V)if(!k0(E,g[V])){const H=g[V];let J=y[V];J=Ot(J);const ne=f.Nu(H);if(J instanceof qd)E.push(H);else{const ee=fc(J,ne);ee!=null&&(E.push(H),S.set(H,ee))}}const b=new On(E);return new M0(S,b,f.fieldTransforms)}function qN(s,e,n,a=!1){return fc(n,s.Qu(a?4:3,e))}function fc(s,e){if(L0(s=Ot(s)))return Lp("Unsupported field value:",e,s),P0(s,e);if(s instanceof Bd)return(function(a,o){if(!j0(o.Cu))throw o.Bu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(a,o){const c=[];let f=0;for(const g of a){let y=fc(g,o.Lu(f));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),f++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=Ot(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return FT(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Dt.fromDate(a);return{timestampValue:gd(o.serializer,c)}}if(a instanceof Dt){const c=new Dt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:gd(o.serializer,c)}}if(a instanceof Mp)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof To)return{bytesValue:e0(o.serializer,a._byteString)};if(a instanceof fn){const c=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(c))throw o.Bu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ep(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof jp)return(function(f,g){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw g.Bu("VectorValues must only contain numeric values.");return gp(g.serializer,y)}))}}}}}})(a,o);throw o.Bu(`Unsupported field value: ${Ld(a)}`)})(s,e)}function P0(s,e){const n={};return CT(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rr(s,((a,o)=>{const c=fc(o,e.Mu(a));c!=null&&(n[a]=c)})),{mapValue:{fields:n}}}function L0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Dt||s instanceof Mp||s instanceof To||s instanceof fn||s instanceof Bd||s instanceof jp)}function Lp(s,e,n){if(!L0(n)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(n)){const a=Ld(n);throw a==="an object"?e.Bu(s+" a custom object"):e.Bu(s+" "+a)}}function Ym(s,e,n){if((e=Ot(e))instanceof Ud)return e._internalPath;if(typeof e=="string")return kp(s,e);throw _d("Field path arguments must be of type string or ",s,!1,void 0,n)}const HN=new RegExp("[~\\*/\\[\\]]");function kp(s,e,n){if(e.search(HN)>=0)throw _d(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Ud(...e.split("."))._internalPath}catch{throw _d(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function _d(s,e,n,a,o){const c=a&&!a.isEmpty(),f=o!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||f)&&(y+=" (found",c&&(y+=` in field ${a}`),f&&(y+=` in document ${o}`),y+=")"),new ie(Y.INVALID_ARGUMENT,g+s+y)}function k0(s,e){return s.some((n=>n.isEqual(e)))}class U0{constructor(e,n,a,o,c){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Hd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class FN extends U0{data(){return super.data()}}function Hd(s,e){return typeof e=="string"?kp(s,e):e instanceof Ud?e._internalPath:e._delegate._internalPath}function GN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ie(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Up{}class B0 extends Up{}function Co(s,e,...n){let a=[];e instanceof Up&&a.push(e),a=a.concat(n),(function(c){const f=c.filter((y=>y instanceof zp)).length,g=c.filter((y=>y instanceof Fd)).length;if(f>1||f>0&&g>0)throw new ie(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)s=o._apply(s);return s}class Fd extends B0{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new Fd(e,n,a)}_apply(e){const n=this._parse(e);return z0(e._query,n),new lr(e.firestore,e.converter,Um(e._query,n))}_parse(e){const n=zd(e.firestore);return(function(c,f,g,y,E,S,b){let V;if(E.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new ie(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){ME(b,S);const H=[];for(const J of b)H.push(OE(y,c,J));V={arrayValue:{values:H}}}else V=OE(y,c,b)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||ME(b,S),V=qN(g,f,b,S==="in"||S==="not-in");return Rt.create(E,S,V)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Bp(s,e,n){const a=e,o=Hd("where",s);return Fd._create(o,a,n)}class zp extends Up{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zp(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:ni.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let f=o;const g=c.getFlattenedFilters();for(const y of g)z0(f,y),f=Um(f,y)})(e._query,n),new lr(e.firestore,e.converter,Um(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qp extends B0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new qp(e,n)}_apply(e){const n=(function(o,c,f){if(o.startAt!==null)throw new ie(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ie(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wl(c,f)})(e._query,this._field,this._direction);return new lr(e.firestore,e.converter,(function(o,c){const f=o.explicitOrderBy.concat([c]);return new bo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function Hp(s,e="asc"){const n=e,a=Hd("orderBy",s);return qp._create(a,n)}function OE(s,e,n){if(typeof(n=Ot(n))=="string"){if(n==="")throw new ie(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LT(e)&&n.indexOf("/")!==-1)throw new ie(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(it.fromString(n));if(!de.isDocumentKey(a))throw new ie(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return eE(s,new de(a))}if(n instanceof fn)return eE(s,n._key);throw new ie(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ld(n)}.`)}function ME(s,e){if(!Array.isArray(s)||s.length===0)throw new ie(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function z0(s,e){const n=(function(o,c){for(const f of o)for(const g of f.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ie(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class QN{convertValue(e,n="none"){switch(nr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return rr(e,((o,c)=>{a[o]=this.convertValue(c,n)})),a}convertVectorValue(e){var n,a,o;const c=(o=(a=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map((f=>_t(f.doubleValue)));return new jp(c)}convertGeoPoint(e){return new Mp(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=dp(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const n=ma(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=it.fromString(e);Ye(r0(a));const o=new Jl(a.get(1),a.get(3)),c=new de(a.popFirst(5));return o.isEqual(n)||as(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function q0(s,e,n){let a;return a=s?s.toFirestore(e):e,a}class Bl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class H0 extends U0{constructor(e,n,a,o,c,f){super(e,n,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ad(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(Hd("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class ad extends H0{data(e={}){return super.data(e)}}class $N{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Bl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new ad(this._firestore,this._userDataWriter,a.key,a,new Bl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((g=>{const y=new ad(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Bl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new ad(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Bl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let E=-1,S=-1;return g.type!==0&&(E=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),S=f.indexOf(g.doc.key)),{type:KN(g.type),doc:y,oldIndex:E,newIndex:S}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function KN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}function F0(s){s=ii(s,fn);const e=ii(s.firestore,cr);return DN(Op(e),s._key).then((n=>YN(e,s,n)))}class G0 extends QN{constructor(e){super(),this.firestore=e}convertBytes(e){return new To(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,n)}}function An(s){s=ii(s,lr);const e=ii(s.firestore,cr),n=Op(e),a=new G0(e);return GN(s._query),ON(n,s._query).then((o=>new $N(e,a,s,o)))}function Q0(s,e,n){s=ii(s,fn);const a=ii(s.firestore,cr),o=q0(s.converter,e);return Gd(a,[V0(zd(a),"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,$n.none())])}function ds(s,e,n,...a){s=ii(s,fn);const o=ii(s.firestore,cr),c=zd(o);let f;return f=typeof(e=Ot(e))=="string"||e instanceof Ud?zN(c,"updateDoc",s._key,e,n,a):BN(c,"updateDoc",s._key,e),Gd(o,[f.toMutation(s._key,$n.exists(!0))])}function ya(s){return Gd(ii(s.firestore,cr),[new yp(s._key,$n.none())])}function hs(s,e){const n=ii(s.firestore,cr),a=pt(s),o=q0(s.converter,e);return Gd(n,[V0(zd(s.firestore),"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,$n.exists(!1))]).then((()=>a))}function Gd(s,e){return(function(a,o){const c=new ns;return a.asyncQueue.enqueueAndForget((async()=>EN(await xN(a),o,c))),c.promise})(Op(s),e)}function YN(s,e,n){const a=n.docs.get(e._key),o=new G0(s);return new H0(s,o,e._key,a,new Bl(n.hasPendingWrites,n.fromCache),e.converter)}function $0(s){return new Pp("increment",s)}(function(e,n=!0){(function(o){wo=o})(So),mo(new Wa("firestore",((a,{instanceIdentifier:o,options:c})=>{const f=a.getProvider("app").getImmediate(),g=new cr(new WR(a.getProvider("auth-internal")),new iI(a.getProvider("app-check-internal")),(function(E,S){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new ie(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(E.options.projectId,S)})(f,o),f);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),da(Y_,"4.7.3",e),da(Y_,"4.7.3","esm2017")})();function Fp(s,e){var n={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&e.indexOf(a)<0&&(n[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(s);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(s,a[o])&&(n[a[o]]=s[a[o]]);return n}function K0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XN=K0,Y0=new ac("auth","Firebase",K0());const Ed=new ap("@firebase/auth");function JN(s,...e){Ed.logLevel<=Pe.WARN&&Ed.warn(`Auth (${So}): ${s}`,...e)}function rd(s,...e){Ed.logLevel<=Pe.ERROR&&Ed.error(`Auth (${So}): ${s}`,...e)}function si(s,...e){throw Gp(s,...e)}function Ai(s,...e){return Gp(s,...e)}function X0(s,e,n){const a=Object.assign(Object.assign({},XN()),{[e]:n});return new ac("auth","Firebase",a).create(e,{appName:s.name})}function is(s){return X0(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gp(s,...e){if(typeof s!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(n,...a)}return Y0.create(s,...e)}function me(s,e,...n){if(!s)throw Gp(e,...n)}function Wi(s){const e="INTERNAL ASSERTION FAILED: "+s;throw rd(e),new Error(e)}function os(s,e){s||Wi(e)}function Xm(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function ZN(){return jE()==="http:"||jE()==="https:"}function jE(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}function WN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZN()||Nb()||"connection"in navigator)?navigator.onLine:!0}function e1(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class mc{constructor(e,n){this.shortDelay=e,this.longDelay=n,os(n>e,"Short delay should be less than long delay!"),this.isMobile=Rb()||xb()}get(){return WN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qp(s,e){os(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class J0{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const t1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const n1=new mc(3e4,6e4);function va(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function fs(s,e,n,a,o={}){return Z0(s,o,async()=>{let c={},f={};a&&(e==="GET"?f=a:c={body:JSON.stringify(a)});const g=rc(Object.assign({key:s.config.apiKey},f)).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const E=Object.assign({method:e,headers:y},c);return Cb()||(E.referrerPolicy="no-referrer"),J0.fetch()(W0(s,s.config.apiHost,n,g),E)})}async function Z0(s,e,n){s._canInitEmulator=!1;const a=Object.assign(Object.assign({},t1),e);try{const o=new s1(s),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw Wu(s,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const g=c.ok?f.errorMessage:f.error.message,[y,E]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wu(s,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw Wu(s,"email-already-in-use",f);if(y==="USER_DISABLED")throw Wu(s,"user-disabled",f);const S=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw X0(s,S,E);si(s,S)}}catch(o){if(o instanceof us)throw o;si(s,"network-request-failed",{message:String(o)})}}async function pc(s,e,n,a,o={}){const c=await fs(s,e,n,a,o);return"mfaPendingCredential"in c&&si(s,"multi-factor-auth-required",{_serverResponse:c}),c}function W0(s,e,n,a){const o=`${e}${n}?${a}`;return s.config.emulator?Qp(s.config,o):`${s.config.apiScheme}://${o}`}function i1(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class s1{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Ai(this.auth,"network-request-failed")),n1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wu(s,e,n){const a={appName:s.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=Ai(s,e,a);return o.customData._tokenResponse=n,o}function VE(s){return s!==void 0&&s.enterprise!==void 0}class a1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return i1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function r1(s,e){return fs(s,"GET","/v2/recaptchaConfig",va(s,e))}async function o1(s,e){return fs(s,"POST","/v1/accounts:delete",e)}async function eA(s,e){return fs(s,"POST","/v1/accounts:lookup",e)}function Ql(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function l1(s,e=!1){const n=Ot(s),a=await n.getIdToken(e),o=$p(a);me(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c?.sign_in_provider;return{claims:o,token:a,authTime:Ql(wm(o.auth_time)),issuedAtTime:Ql(wm(o.iat)),expirationTime:Ql(wm(o.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function wm(s){return Number(s)*1e3}function $p(s){const[e,n,a]=s.split(".");if(e===void 0||n===void 0||a===void 0)return rd("JWT malformed, contained fewer than 3 sections"),null;try{const o=uT(n);return o?JSON.parse(o):(rd("Failed to decode base64 JWT payload"),null)}catch(o){return rd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function PE(s){const e=$p(s);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ao(s,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof us&&c1(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function c1({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class u1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Jm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Td(s){var e;const n=s.auth,a=await s.getIdToken(),o=await Ao(s,eA(n,{idToken:a}));me(o?.users.length,n,"internal-error");const c=o.users[0];s._notifyReloadListener(c);const f=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?tA(c.providerUserInfo):[],g=h1(s.providerData,f),y=s.isAnonymous,E=!(s.email&&c.passwordHash)&&!g?.length,S=y?E:!1,b={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new Jm(c.createdAt,c.lastLoginAt),isAnonymous:S};Object.assign(s,b)}async function d1(s){const e=Ot(s);await Td(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function h1(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function tA(s){return s.map(e=>{var{providerId:n}=e,a=Fp(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}async function f1(s,e){const n=await Z0(s,{},async()=>{const a=rc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,f=W0(s,o,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",J0.fetch()(f,{method:"POST",headers:g,body:a})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function m1(s,e){return fs(s,"POST","/v2/accounts:revokeToken",va(s,e))}class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){me(e.length!==0,"internal-error");const n=PE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:c}=await f1(e,n);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:c}=n,f=new co;return a&&(me(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(me(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(me(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return Wi("not implemented")}}function na(s,e){me(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class es{constructor(e){var{uid:n,auth:a,stsTokenManager:o}=e,c=Fp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new u1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Jm(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const n=await Ao(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return l1(this,e)}reload(){return d1(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new es(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Td(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_i(this.auth.app))return Promise.reject(is(this.auth));const e=await this.getIdToken();return await Ao(this,o1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,o,c,f,g,y,E,S;const b=(a=n.displayName)!==null&&a!==void 0?a:void 0,V=(o=n.email)!==null&&o!==void 0?o:void 0,H=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,J=(f=n.photoURL)!==null&&f!==void 0?f:void 0,ne=(g=n.tenantId)!==null&&g!==void 0?g:void 0,ee=(y=n._redirectEventId)!==null&&y!==void 0?y:void 0,ye=(E=n.createdAt)!==null&&E!==void 0?E:void 0,be=(S=n.lastLoginAt)!==null&&S!==void 0?S:void 0,{uid:pe,emailVerified:Le,isAnonymous:ot,providerData:xe,stsTokenManager:N}=n;me(pe&&N,e,"internal-error");const w=co.fromJSON(this.name,N);me(typeof pe=="string",e,"internal-error"),na(b,e.name),na(V,e.name),me(typeof Le=="boolean",e,"internal-error"),me(typeof ot=="boolean",e,"internal-error"),na(H,e.name),na(J,e.name),na(ne,e.name),na(ee,e.name),na(ye,e.name),na(be,e.name);const I=new es({uid:pe,auth:e,email:V,emailVerified:Le,displayName:b,isAnonymous:ot,photoURL:J,phoneNumber:H,tenantId:ne,stsTokenManager:w,createdAt:ye,lastLoginAt:be});return xe&&Array.isArray(xe)&&(I.providerData=xe.map(O=>Object.assign({},O))),ee&&(I._redirectEventId=ee),I}static async _fromIdTokenResponse(e,n,a=!1){const o=new co;o.updateFromServerResponse(n);const c=new es({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Td(c),c}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];me(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?tA(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!c?.length,g=new co;g.updateFromIdToken(a);const y=new es({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:f}),E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Jm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,E),y}}const LE=new Map;function ts(s){os(s instanceof Function,"Expected a class definition");let e=LE.get(s);return e?(os(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,LE.set(s,e),e)}class nA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}nA.type="NONE";const kE=nA;function od(s,e,n){return`firebase:${s}:${e}:${n}`}class uo{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=od(this.userKey,o.apiKey,c),this.fullPersistenceKey=od("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?es._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new uo(ts(kE),e,a);const o=(await Promise.all(n.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let c=o[0]||ts(kE);const f=od(a,e.config.apiKey,e.name);let g=null;for(const E of n)try{const S=await E._get(f);if(S){const b=es._fromJSON(e,S);E!==c&&(g=b),c=E;break}}catch{}const y=o.filter(E=>E._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new uo(c,e,a):(c=y[0],g&&await c._set(f,g.toJSON()),await Promise.all(n.map(async E=>{if(E!==c)try{await E._remove(f)}catch{}})),new uo(c,e,a))}}function UE(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lA(e))return"Blackberry";if(cA(e))return"Webos";if(sA(e))return"Safari";if((e.includes("chrome/")||aA(e))&&!e.includes("edge/"))return"Chrome";if(oA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(n);if(a?.length===2)return a[1]}return"Other"}function iA(s=rn()){return/firefox\//i.test(s)}function sA(s=rn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aA(s=rn()){return/crios\//i.test(s)}function rA(s=rn()){return/iemobile/i.test(s)}function oA(s=rn()){return/android/i.test(s)}function lA(s=rn()){return/blackberry/i.test(s)}function cA(s=rn()){return/webos/i.test(s)}function Kp(s=rn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function p1(s=rn()){var e;return Kp(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function g1(){return Db()&&document.documentMode===10}function uA(s=rn()){return Kp(s)||oA(s)||cA(s)||lA(s)||/windows phone/i.test(s)||rA(s)}function dA(s,e=[]){let n;switch(s){case"Browser":n=UE(rn());break;case"Worker":n=`${UE(rn())}-${s}`;break;default:n=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${So}/${a}`}class y1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=c=>new Promise((f,g)=>{try{const y=e(c);f(y)}catch(y){g(y)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function v1(s,e={}){return fs(s,"GET","/v2/passwordPolicy",va(s,e))}const _1=6;class E1{constructor(e){var n,a,o,c;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:_1,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,o,c,f,g;const y={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,y),this.validatePasswordCharacterOptions(e,y),y.isValid&&(y.isValid=(n=y.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),y.isValid&&(y.isValid=(a=y.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),y.isValid&&(y.isValid=(o=y.containsLowercaseLetter)!==null&&o!==void 0?o:!0),y.isValid&&(y.isValid=(c=y.containsUppercaseLetter)!==null&&c!==void 0?c:!0),y.isValid&&(y.isValid=(f=y.containsNumericCharacter)!==null&&f!==void 0?f:!0),y.isValid&&(y.isValid=(g=y.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),y}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class T1{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BE(this),this.idTokenSubscription=new BE(this),this.beforeStateQueue=new y1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Y0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ts(n)),this._initializationPromise=this.queue(async()=>{var a,o;if(!this._deleted&&(this.persistenceManager=await uo.create(this,e),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await eA(this,{idToken:e}),a=await es._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_i(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=o?._redirectEventId,y=await this.tryRedirectSignIn(e);(!f||f===g)&&y?.user&&(o=y.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Td(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=e1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_i(this.app))return Promise.reject(is(this));const n=e?Ot(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _i(this.app)?Promise.reject(is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _i(this.app)?Promise.reject(is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await v1(this),n=new E1(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ac("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await m1(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ts(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[ts(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(g,this,"internal-error"),g.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,a,o);return()=>{f=!0,y()}}else{const y=e.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&JN(`Error while retrieving App Check token: ${n.error}`),n?.token}}function ur(s){return Ot(s)}class BE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ub(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Qd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function A1(s){Qd=s}function hA(s){return Qd.loadJS(s)}function S1(){return Qd.recaptchaEnterpriseScript}function w1(){return Qd.gapiScript}function b1(s){return`__${s}${Math.floor(Math.random()*1e6)}`}const R1="recaptcha-enterprise",I1="NO_RECAPTCHA";class C1{constructor(e){this.type=R1,this.auth=ur(e)}async verify(e="verify",n=!1){async function a(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,g)=>{r1(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const E=new a1(y);return c.tenantId==null?c._agentRecaptchaConfig=E:c._tenantRecaptchaConfigs[c.tenantId]=E,f(E.siteKey)}}).catch(y=>{g(y)})})}function o(c,f,g){const y=window.grecaptcha;VE(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:e}).then(E=>{f(E)}).catch(()=>{f(I1)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((c,f)=>{a(this.auth).then(g=>{if(!n&&VE(window.grecaptcha))o(g,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let y=S1();y.length!==0&&(y+=g),hA(y).then(()=>{o(g,c,f)}).catch(E=>{f(E)})}}).catch(g=>{f(g)})})}}async function zE(s,e,n,a=!1){const o=new C1(s);let c;try{c=await o.verify(n)}catch{c=await o.verify(n,!0)}const f=Object.assign({},e);return a?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Zm(s,e,n,a){var o;if(!((o=s._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await zE(s,e,n,n==="getOobCode");return a(s,c)}else return a(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await zE(s,e,n,n==="getOobCode");return a(s,f)}else return Promise.reject(c)})}function N1(s,e){const n=op(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(dd(c,e??{}))return o;si(o,"already-initialized")}return n.initialize({options:e})}function x1(s,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(ts);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function D1(s,e,n){const a=ur(s);me(a._canInitEmulator,a,"emulator-config-failed"),me(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=fA(e),{host:f,port:g}=O1(e),y=g===null?"":`:${g}`;a.config.emulator={url:`${c}//${f}${y}/`},a.settings.appVerificationDisabledForTesting=!0,a.emulatorConfig=Object.freeze({host:f,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})}),M1()}function fA(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function O1(s){const e=fA(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:qE(a.substr(c.length+1))}}else{const[c,f]=a.split(":");return{host:c,port:qE(f)}}}function qE(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function M1(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Yp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wi("not implemented")}_getIdTokenResponse(e){return Wi("not implemented")}_linkToIdToken(e,n){return Wi("not implemented")}_getReauthenticationResolver(e){return Wi("not implemented")}}async function j1(s,e){return fs(s,"POST","/v1/accounts:update",e)}async function V1(s,e){return fs(s,"POST","/v1/accounts:signUp",e)}async function P1(s,e){return pc(s,"POST","/v1/accounts:signInWithPassword",va(s,e))}async function L1(s,e){return pc(s,"POST","/v1/accounts:signInWithEmailLink",va(s,e))}async function k1(s,e){return pc(s,"POST","/v1/accounts:signInWithEmailLink",va(s,e))}class ic extends Yp{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new ic(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new ic(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zm(e,n,"signInWithPassword",P1);case"emailLink":return L1(e,{email:this._email,oobCode:this._password});default:si(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zm(e,a,"signUpPassword",V1);case"emailLink":return k1(e,{idToken:n,email:this._email,oobCode:this._password});default:si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ho(s,e){return pc(s,"POST","/v1/accounts:signInWithIdp",va(s,e))}const U1="http://localhost";class ir extends Yp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ir(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):si("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=n,c=Fp(n,["providerId","signInMethod"]);if(!a||!o)return null;const f=new ir(a,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ho(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,ho(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ho(e,n)}buildRequest(){const e={requestUri:U1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=rc(n)}return e}}function B1(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function z1(s){const e=Vl(Pl(s)).link,n=e?Vl(Pl(e)).deep_link_id:null,a=Vl(Pl(s)).deep_link_id;return(a?Vl(Pl(a)).link:null)||a||n||e||s}class Xp{constructor(e){var n,a,o,c,f,g;const y=Vl(Pl(e)),E=(n=y.apiKey)!==null&&n!==void 0?n:null,S=(a=y.oobCode)!==null&&a!==void 0?a:null,b=B1((o=y.mode)!==null&&o!==void 0?o:null);me(E&&S&&b,"argument-error"),this.apiKey=E,this.operation=b,this.code=S,this.continueUrl=(c=y.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(f=y.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(g=y.tenantId)!==null&&g!==void 0?g:null}static parseLink(e){const n=z1(e);try{return new Xp(n)}catch{return null}}}class No{constructor(){this.providerId=No.PROVIDER_ID}static credential(e,n){return ic._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=Xp.parseLink(n);return me(a,"argument-error"),ic._fromEmailAndCode(e,a.code,a.tenantId)}}No.PROVIDER_ID="password";No.EMAIL_PASSWORD_SIGN_IN_METHOD="password";No.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class mA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class gc extends mA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ia extends gc{constructor(){super("facebook.com")}static credential(e){return ir._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ia.credential(e.oauthAccessToken)}catch{return null}}}ia.FACEBOOK_SIGN_IN_METHOD="facebook.com";ia.PROVIDER_ID="facebook.com";class sa extends gc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ir._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return sa.credential(n,a)}catch{return null}}}sa.GOOGLE_SIGN_IN_METHOD="google.com";sa.PROVIDER_ID="google.com";class aa extends gc{constructor(){super("github.com")}static credential(e){return ir._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return aa.credential(e.oauthAccessToken)}catch{return null}}}aa.GITHUB_SIGN_IN_METHOD="github.com";aa.PROVIDER_ID="github.com";class ra extends gc{constructor(){super("twitter.com")}static credential(e,n){return ir._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return ra.credential(n,a)}catch{return null}}}ra.TWITTER_SIGN_IN_METHOD="twitter.com";ra.PROVIDER_ID="twitter.com";async function q1(s,e){return pc(s,"POST","/v1/accounts:signUp",va(s,e))}class sr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const c=await es._fromIdTokenResponse(e,a,o),f=HE(a);return new sr({user:c,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=HE(a);return new sr({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function HE(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Ad extends us{constructor(e,n,a,o){var c;super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Ad.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new Ad(e,n,a,o)}}function pA(s,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Ad._fromErrorAndOperation(s,c,e,a):c})}async function H1(s,e,n=!1){const a=await Ao(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return sr._forOperation(s,"link",a)}async function F1(s,e,n=!1){const{auth:a}=s;if(_i(a.app))return Promise.reject(is(a));const o="reauthenticate";try{const c=await Ao(s,pA(a,o,e,s),n);me(c.idToken,a,"internal-error");const f=$p(c.idToken);me(f,a,"internal-error");const{sub:g}=f;return me(s.uid===g,a,"user-mismatch"),sr._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&si(a,"user-mismatch"),c}}async function gA(s,e,n=!1){if(_i(s.app))return Promise.reject(is(s));const a="signIn",o=await pA(s,a,e),c=await sr._fromIdTokenResponse(s,a,o);return n||await s._updateCurrentUser(c.user),c}async function G1(s,e){return gA(ur(s),e)}async function yA(s){const e=ur(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function vA(s,e,n){if(_i(s.app))return Promise.reject(is(s));const a=ur(s),f=await Zm(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",q1).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&yA(s),y}),g=await sr._fromIdTokenResponse(a,"signIn",f);return await a._updateCurrentUser(g.user),g}function _A(s,e,n){return _i(s.app)?Promise.reject(is(s)):G1(Ot(s),No.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&yA(s),a})}function Q1(s,e){return $1(Ot(s),null,e)}async function $1(s,e,n){const{auth:a}=s,c={idToken:await s.getIdToken(),returnSecureToken:!0};n&&(c.password=n);const f=await Ao(s,j1(a,c));await s._updateTokensIfNecessary(f,!0)}function K1(s,e,n,a){return Ot(s).onIdTokenChanged(e,n,a)}function Y1(s,e,n){return Ot(s).beforeAuthStateChanged(e,n)}function EA(s,e,n,a){return Ot(s).onAuthStateChanged(e,n,a)}function TA(s){return Ot(s).signOut()}const Sd="__sak";class AA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sd,"1"),this.storage.removeItem(Sd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const X1=1e3,J1=10;class SA extends AA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,g,y)=>{this.notifyListeners(f,y)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},c=this.storage.getItem(a);g1()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,J1):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},X1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}SA.type="LOCAL";const Z1=SA;class wA extends AA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}wA.type="SESSION";const bA=wA;function W1(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class $d{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new $d(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:c}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(f).map(async E=>E(n.origin,c)),y=await W1(g);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$d.receivers=[];function Jp(s="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return s+n}class ex{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((g,y)=>{const E=Jp("",20);o.port1.start();const S=setTimeout(()=>{y(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(b){const V=b;if(V.data.eventId===E)switch(V.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(V.data.response);break;default:clearTimeout(S),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:E,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Si(){return window}function tx(s){Si().location.href=s}function RA(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function nx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ix(){var s;return((s=navigator?.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function sx(){return RA()?self:null}const IA="firebaseLocalStorageDb",ax=1,wd="firebaseLocalStorage",CA="fbase_key";class yc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kd(s,e){return s.transaction([wd],e?"readwrite":"readonly").objectStore(wd)}function rx(){const s=indexedDB.deleteDatabase(IA);return new yc(s).toPromise()}function Wm(){const s=indexedDB.open(IA,ax);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(wd,{keyPath:CA})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(wd)?e(a):(a.close(),await rx(),e(await Wm()))})})}async function FE(s,e,n){const a=Kd(s,!0).put({[CA]:e,value:n});return new yc(a).toPromise()}async function ox(s,e){const n=Kd(s,!1).get(e),a=await new yc(n).toPromise();return a===void 0?null:a.value}function GE(s,e){const n=Kd(s,!0).delete(e);return new yc(n).toPromise()}const lx=800,cx=3;class NA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>cx)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$d._getInstance(sx()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await nx(),!this.activeServiceWorker)return;this.sender=new ex(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ix()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wm();return await FE(e,Sd,"1"),await GE(e,Sd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>FE(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>ox(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>GE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Kd(o,!1).getAll();return new yc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NA.type="LOCAL";const ux=NA;new mc(3e4,6e4);function dx(s,e){return e?ts(e):(me(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Zp extends Yp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hx(s){return gA(s.auth,new Zp(s),s.bypassAuthState)}function fx(s){const{auth:e,user:n}=s;return me(n,e,"internal-error"),F1(n,new Zp(s),s.bypassAuthState)}async function mx(s){const{auth:e,user:n}=s;return me(n,e,"internal-error"),H1(n,new Zp(s),s.bypassAuthState)}class xA{constructor(e,n,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:c,error:f,type:g}=e;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(E){this.reject(E)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hx;case"linkViaPopup":case"linkViaRedirect":return mx;case"reauthViaPopup":case"reauthViaRedirect":return fx;default:si(this.auth,"internal-error")}}resolve(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const px=new mc(2e3,1e4);class ro extends xA{constructor(e,n,a,o,c){super(e,n,o,c),this.provider=a,this.authWindow=null,this.pollId=null,ro.currentPopupAction&&ro.currentPopupAction.cancel(),ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){os(this.filter.length===1,"Popup operations only handle one event");const e=Jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,px.get())};e()}}ro.currentPopupAction=null;const gx="pendingRedirect",ld=new Map;class yx extends xA{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=ld.get(this.auth._key());if(!e){try{const a=await vx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}ld.set(this.auth._key(),e)}return this.bypassAuthState||ld.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vx(s,e){const n=Tx(e),a=Ex(s);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function _x(s,e){ld.set(s._key(),e)}function Ex(s){return ts(s._redirectPersistence)}function Tx(s){return od(gx,s.config.apiKey,s.name)}async function Ax(s,e,n=!1){if(_i(s.app))return Promise.reject(is(s));const a=ur(s),o=dx(a,e),f=await new yx(a,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}const Sx=600*1e3;class wx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bx(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!DA(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(Ai(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Sx&&this.cachedEventUids.clear(),this.cachedEventUids.has(QE(e))}saveEventToCache(e){this.cachedEventUids.add(QE(e)),this.lastProcessedEventTime=Date.now()}}function QE(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function DA({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function bx(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DA(s);default:return!1}}async function Rx(s,e={}){return fs(s,"GET","/v1/projects",e)}const Ix=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cx=/^https?/;async function Nx(s){if(s.config.emulator)return;const{authorizedDomains:e}=await Rx(s);for(const n of e)try{if(xx(n))return}catch{}si(s,"unauthorized-domain")}function xx(s){const e=Xm(),{protocol:n,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&a===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!Cx.test(n))return!1;if(Ix.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const Dx=new mc(3e4,6e4);function $E(){const s=Si().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function Ox(s){return new Promise((e,n)=>{var a,o,c;function f(){$E(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$E(),n(Ai(s,"network-request-failed"))},timeout:Dx.get()})}if(!((o=(a=Si().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((c=Si().gapi)===null||c===void 0)&&c.load)f();else{const g=b1("iframefcb");return Si()[g]=()=>{gapi.load?f():n(Ai(s,"network-request-failed"))},hA(`${w1()}?onload=${g}`).catch(y=>n(y))}}).catch(e=>{throw cd=null,e})}let cd=null;function Mx(s){return cd=cd||Ox(s),cd}const jx=new mc(5e3,15e3),Vx="__/auth/iframe",Px="emulator/auth/iframe",Lx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ux(s){const e=s.config;me(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Qp(e,Px):`https://${s.config.authDomain}/${Vx}`,a={apiKey:e.apiKey,appName:s.name,v:So},o=kx.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${n}?${rc(a).slice(1)}`}async function Bx(s){const e=await Mx(s),n=Si().gapi;return me(n,s,"internal-error"),e.open({where:document.body,url:Ux(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lx,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const f=Ai(s,"network-request-failed"),g=Si().setTimeout(()=>{c(f)},jx.get());function y(){Si().clearTimeout(g),o(a)}a.ping(y).then(y,()=>{c(f)})}))}const zx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qx=500,Hx=600,Fx="_blank",Gx="http://localhost";class KE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Qx(s,e,n,a=qx,o=Hx){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const y=Object.assign(Object.assign({},zx),{width:a.toString(),height:o.toString(),top:c,left:f}),E=rn().toLowerCase();n&&(g=aA(E)?Fx:n),iA(E)&&(e=e||Gx,y.scrollbars="yes");const S=Object.entries(y).reduce((V,[H,J])=>`${V}${H}=${J},`,"");if(p1(E)&&g!=="_self")return $x(e||"",g),new KE(null);const b=window.open(e||"",g,S);me(b,s,"popup-blocked");try{b.focus()}catch{}return new KE(b)}function $x(s,e){const n=document.createElement("a");n.href=s,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const Kx="__/auth/handler",Yx="emulator/auth/handler",Xx=encodeURIComponent("fac");async function YE(s,e,n,a,o,c){me(s.config.authDomain,s,"auth-domain-config-required"),me(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:a,v:So,eventId:o};if(e instanceof mA){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",kb(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,b]of Object.entries({}))f[S]=b}if(e instanceof gc){const S=e.getScopes().filter(b=>b!=="");S.length>0&&(f.scopes=S.join(","))}s.tenantId&&(f.tid=s.tenantId);const g=f;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const y=await s._getAppCheckToken(),E=y?`#${Xx}=${encodeURIComponent(y)}`:"";return`${Jx(s)}?${rc(g).slice(1)}${E}`}function Jx({config:s}){return s.emulator?Qp(s,Yx):`https://${s.authDomain}/${Kx}`}const bm="webStorageSupport";class Zx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bA,this._completeRedirectFn=Ax,this._overrideRedirectResult=_x}async _openPopup(e,n,a,o){var c;os((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const f=await YE(e,n,a,Xm(),o);return Qx(e,f,Jp())}async _openRedirect(e,n,a,o){await this._originValidation(e);const c=await YE(e,n,a,Xm(),o);return tx(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(os(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await Bx(e),a=new wx(e);return n.register("authEvent",o=>(me(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bm,{type:bm},o=>{var c;const f=(c=o?.[0])===null||c===void 0?void 0:c[bm];f!==void 0&&n(!!f),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Nx(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uA()||sA()||Kp()}}const Wx=Zx;var XE="@firebase/auth",JE="1.7.9";class eD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function tD(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nD(s){mo(new Wa("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=a.options;me(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:f,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dA(s)},E=new T1(a,o,c,y);return x1(E,n),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),mo(new Wa("auth-internal",e=>{const n=ur(e.getProvider("auth").getImmediate());return(a=>new eD(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),da(XE,JE,tD(s)),da(XE,JE,"esm2017")}const iD=300,sD=fT("authIdTokenMaxAge")||iD;let ZE=null;const aD=s=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>sD)return;const o=n?.token;ZE!==o&&(ZE=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function rD(s=yT()){const e=op(s,"auth");if(e.isInitialized())return e.getImmediate();const n=N1(s,{popupRedirectResolver:Wx,persistence:[ux,Z1,bA]}),a=fT("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const f=aD(c.toString());Y1(n,f,()=>f(n.currentUser)),K1(n,g=>f(g))}}const o=dT("auth");return o&&D1(n,`http://${o}`),n}function oD(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}A1({loadJS(s){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=Ai("internal-error");c.customData=o,n(c)},a.type="text/javascript",a.charset="UTF-8",oD().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nD("Browser");const lD={apiKey:"AIzaSyDcHBBJC1BHAIDO8vSGQsNSN3y_e6sTmBM",authDomain:"makelifebetter-7f3c9.firebaseapp.com",projectId:"makelifebetter-7f3c9",storageBucket:"makelifebetter-7f3c9.firebasestorage.app",messagingSenderId:"749904577078",appId:"1:749904577078:web:3235cbb8e26ffaabba0e97",measurementId:"G-ZPNC0MZ1T7"},OA=gT(lD),Te=VN(OA),ai=rD(OA);async function cD(){const s=document.getElementById("email").value,e=document.getElementById("password").value;if(!s||!e){alert("Por favor, preencha email e senha!");return}try{await vA(ai,s,e),Yd(!0),typeof window<"u"&&window.showTab&&window.showTab("eventos"),alert("Usuario registrado com sucesso!")}catch(n){alert("Erro ao registrar: "+n.message)}}async function uD(){const s=document.getElementById("email").value,e=document.getElementById("password").value;if(!s||!e){alert("Por favor, preencha email e senha!");return}try{await _A(ai,s,e),Yd(!0),typeof window<"u"&&window.showTab&&window.showTab("eventos"),alert("Login realizado com sucesso!")}catch(n){alert("Erro ao fazer login: "+n.message)}}async function dD(){try{await TA(ai),Yd(!1),alert("Logout realizado com sucesso!")}catch(s){alert("Erro ao fazer logout: "+s.message)}}function Yd(s){const e=document.getElementById("auth-section"),n=document.getElementById("main-section");e&&n&&(e.style.display=s?"none":"block",n.style.display=s?"block":"none")}let MA="eventos",ep=null;function hD(){return MA}function fD(s){ep=s}function mD(s,e){document.querySelectorAll(".tab-content").forEach(o=>{o.classList.remove("active")}),document.querySelectorAll(".tab-btn").forEach(o=>{o.classList.remove("active")});const n=document.getElementById(s+"-tab");n&&n.classList.add("active");const a=e?.target||document.querySelector(`.tab-btn[onclick*="${s}"]`);a&&a.classList.add("active"),MA=s,ep&&ep(s)}function pD(){const s=document.querySelector(".tab-btn");s&&s.classList.add("active")}const Ae={USERS:"users",PRODUCTS:"produtos",ORDERS:"pedidos",EVENTS:"eventos",EVENT_LOCATIONS:"event_location",QUESTIONS:"duvidas",CHAT:"lista_geral"},gD=["admin@makelifebetter.com","carlos@makelifebetter.com"],jA={CART:"mlb_cart"},ao={PENDING:"pending",PAID:"paid",SHIPPED:"shipped",DELIVERED:"delivered",CANCELLED:"cancelled"},WE={[ao.PENDING]:{label:"Aguardando Pagamento",class:"pending"},[ao.PAID]:{label:"Pago",class:"paid"},[ao.SHIPPED]:{label:"Enviado",class:"shipped"},[ao.DELIVERED]:{label:"Entregue",class:"delivered"},[ao.CANCELLED]:{label:"Cancelado",class:"cancelled"}},Qn={CREDIT:"credit",DEBIT:"debit",PIX:"pix",BOLETO:"boleto"},yD={[Qn.CREDIT]:"Cartao de Credito",[Qn.DEBIT]:"Cartao de Debito",[Qn.PIX]:"PIX",[Qn.BOLETO]:"Boleto Bancario"},VA={NORMAL:{type:"normal",price:15.9,time:"5-8 dias",label:"Normal"},EXPRESS:{type:"express",price:29.9,time:"2-3 dias",label:"Expresso"},SAME_DAY:{type:"sameday",price:49.9,time:"Hoje",label:"Same Day"}},eT={Eletronicos:"fa-laptop",Roupas:"fa-tshirt",Calcados:"fa-shoe-prints",Acessorios:"fa-glasses",Moveis:"fa-couch",Livros:"fa-book",Beleza:"fa-spa",Eletrodomesticos:"fa-blender",default:"fa-tag"},at={SUCCESS:"success",ERROR:"error",INFO:"info",WARNING:"warning"},tT={[at.SUCCESS]:"fa-check-circle",[at.ERROR]:"fa-exclamation-circle",[at.INFO]:"fa-info-circle",[at.WARNING]:"fa-exclamation-triangle"},nT={TOAST_DURATION:3e3,TOAST_ANIMATION_DELAY:300},Xd={CART:{EMPTY:"Seu carrinho esta vazio"},ORDER:{CREATE_FAILED:"Erro ao criar pedido. Tente novamente.",LOAD_FAILED:"Erro ao carregar pedidos"}},ar={AUTH:{LOGIN:"Login realizado com sucesso!",REGISTER:"Conta criada com sucesso!",LOGOUT:"Voce saiu da sua conta."},CART:{ADDED:"Produto adicionado ao carrinho!",REMOVED:"removido do carrinho"},PROFILE:{UPDATED:"Perfil atualizado com sucesso!"},WISHLIST:{ADDED:"Produto adicionado aos favoritos!"}};async function PA(s){return(await hs(ut(Te,Ae.EVENTS),{titulo:s.titulo,subtitulo:s.subtitulo||"",descricao:s.descricao||"",hora:s.hora,lugar:s.lugar,categoria:s.categoria||"",createdAt:Date.now()})).id}async function LA(){const s=await An(ut(Te,Ae.EVENTS)),e=[];return s.forEach(n=>{e.push({id:n.id,...n.data()})}),e}async function vD(s,e){await ds(pt(Te,Ae.EVENTS,s),{...e,updatedAt:Date.now()})}async function kA(s){await ya(pt(Te,Ae.EVENTS,s))}const _D=Object.freeze(Object.defineProperty({__proto__:null,createEvento:PA,deleteEvento:kA,getAllEventos:LA,updateEvento:vD},Symbol.toStringTag,{value:"Module"}));async function ED(){const s=document.getElementById("evento-titulo").value,e=document.getElementById("evento-subtitulo").value,n=document.getElementById("evento-descricao").value,a=document.getElementById("evento-hora").value,o=document.getElementById("evento-lugar").value,c=document.getElementById("evento-categoria").value;if(!s||!a||!o){alert("Por favor, preencha pelo menos titulo, hora e lugar!");return}try{await PA({titulo:s,subtitulo:e,descricao:n,hora:a,lugar:o,categoria:c}),TD(),await Jd(),alert("Evento adicionado com sucesso!")}catch(f){alert("Erro ao adicionar evento: "+f.message)}}function TD(){document.getElementById("evento-titulo").value="",document.getElementById("evento-subtitulo").value="",document.getElementById("evento-descricao").value="",document.getElementById("evento-hora").value="",document.getElementById("evento-lugar").value="",document.getElementById("evento-categoria").value=""}async function Jd(){const s=document.getElementById("eventos-list");if(s)try{const e=await LA();if(e.length===0){s.innerHTML='<p class="no-data">Nenhum evento encontrado.</p>';return}s.innerHTML=e.map(n=>`
            <div class="item">
                <h3>${n.titulo||"Sem titulo"}</h3>
                ${n.subtitulo?`<p class="subtitle">${n.subtitulo}</p>`:""}
                ${n.descricao?`<p><strong>Descricao:</strong> ${n.descricao}</p>`:""}
                <p><strong>Hora:</strong> ${n.hora||"N/A"}</p>
                <p><strong>Lugar:</strong> ${n.lugar||"N/A"}</p>
                ${n.categoria?`<p><strong>Categoria:</strong> <span class="badge">${n.categoria}</span></p>`:""}
                <button class="delete-btn" data-type="eventos" data-id="${n.id}">Deletar</button>
            </div>
        `).join(""),AD(s)}catch(e){alert("Erro ao carregar eventos: "+e.message)}}function AD(s){s.querySelectorAll('.delete-btn[data-type="eventos"]').forEach(e=>{e.onclick=async()=>{if(confirm("Tem certeza que deseja deletar este item?"))try{await kA(e.dataset.id),await Jd(),alert("Item deletado com sucesso!")}catch(n){alert("Erro ao deletar item: "+n.message)}}})}async function UA(s){return(await hs(ut(Te,Ae.EVENT_LOCATIONS),{name:s.name,address:s.address,city:s.city,latitude:s.latitude?parseFloat(s.latitude):0,longitude:s.longitude?parseFloat(s.longitude):0,createdAt:Date.now()})).id}async function BA(){const s=await An(ut(Te,Ae.EVENT_LOCATIONS)),e=[];return s.forEach(n=>{e.push({id:n.id,...n.data()})}),e}async function SD(s){const e=await Wp(s);return{locationId:s,contacts:e}}async function zA(){const s=await BA();for(const e of s)try{e.contacts=await Wp(e.id)}catch{e.contacts=[]}return s}async function wD(s,e){await ds(pt(Te,Ae.EVENT_LOCATIONS,s),{...e,updatedAt:Date.now()})}async function qA(s){await ya(pt(Te,Ae.EVENT_LOCATIONS,s))}async function HA(s,e){return(await hs(ut(Te,Ae.EVENT_LOCATIONS,s,"contacts"),{name:e.name,phone:e.phone,createdAt:Date.now()})).id}async function Wp(s){const e=await An(ut(Te,Ae.EVENT_LOCATIONS,s,"contacts")),n=[];return e.forEach(a=>{n.push({id:a.id,...a.data()})}),n}async function bD(s,e){await ya(pt(Te,Ae.EVENT_LOCATIONS,s,"contacts",e))}const RD=Object.freeze(Object.defineProperty({__proto__:null,addLocationContact:HA,createEventLocation:UA,deleteEventLocation:qA,deleteLocationContact:bD,getAllEventLocations:BA,getAllLocationsWithContacts:zA,getEventLocationWithContacts:SD,getLocationContacts:Wp,updateEventLocation:wD},Symbol.toStringTag,{value:"Module"}));async function ID(){const s=document.getElementById("location-name").value,e=document.getElementById("location-address").value,n=document.getElementById("location-city").value,a=document.getElementById("location-latitude").value,o=document.getElementById("location-longitude").value;if(!s||!e||!n){alert("Por favor, preencha pelo menos nome, endereco e cidade!");return}try{await UA({name:s,address:e,city:n,latitude:a,longitude:o}),CD(),await vc(),alert("Local adicionado com sucesso!")}catch(c){alert("Erro ao adicionar local: "+c.message)}}function CD(){document.getElementById("location-name").value="",document.getElementById("location-address").value="",document.getElementById("location-city").value="",document.getElementById("location-latitude").value="",document.getElementById("location-longitude").value=""}async function vc(){const s=document.getElementById("event_location-list");if(s)try{const e=await zA();if(e.length===0){s.innerHTML='<p class="no-data">Nenhum local encontrado.</p>';return}s.innerHTML=e.map(n=>{const a=ND(n.contacts);return`
                <div class="item">
                    <h3>${n.name||"Sem nome"}</h3>
                    <p><strong>Endereco:</strong> ${n.address||"N/A"}</p>
                    <p><strong>Cidade:</strong> ${n.city||"N/A"}</p>
                    ${n.latitude&&n.longitude?`<p><strong>Coordenadas:</strong> ${n.latitude}, ${n.longitude}</p>`:""}
                    ${a}
                    <button class="add-contact-btn" data-location-id="${n.id}">Adicionar Contato</button>
                    <button class="delete-btn" data-type="locations" data-id="${n.id}">Deletar</button>
                </div>
            `}).join(""),xD(s)}catch(e){alert("Erro ao carregar locais: "+e.message)}}function ND(s){return!s||s.length===0?"":`
        <div class="contacts-section">
            <h4>Contatos:</h4>
            <ul>
                ${s.map(e=>`<li><strong>${e.name||"N/A"}:</strong> ${e.phone||"N/A"}</li>`).join("")}
            </ul>
        </div>
    `}function xD(s){s.querySelectorAll('.delete-btn[data-type="locations"]').forEach(e=>{e.onclick=async()=>{if(confirm("Tem certeza que deseja deletar este local?"))try{await qA(e.dataset.id),await vc(),alert("Local deletado com sucesso!")}catch(n){alert("Erro ao deletar local: "+n.message)}}}),s.querySelectorAll(".add-contact-btn").forEach(e=>{e.onclick=()=>FA(e.dataset.locationId)})}async function FA(s){const e=prompt("Nome do contato:");if(!e)return;const n=prompt("Telefone do contato:");if(n)try{await HA(s,{name:e,phone:n}),await vc(),alert("Contato adicionado com sucesso!")}catch(a){alert("Erro ao adicionar contato: "+a.message)}}function GA(){const s=ai.currentUser;return s?s.displayName||s.email.split("@")[0]:"Anonimo"}async function QA(s){return(await hs(ut(Te,Ae.QUESTIONS),{title:s.title,description:s.description,author:GA(),replies:0,timestamp:Date.now()})).id}async function $A(){try{const s=Co(ut(Te,Ae.QUESTIONS),Hp("timestamp","desc")),e=await An(s);return bd(e)}catch(s){console.warn("Falling back to unordered query:",s);const e=await An(ut(Te,Ae.QUESTIONS));return bd(e)}}function bd(s){const e=[];return s.forEach(n=>{e.push({id:n.id,...n.data()})}),e}async function DD(s,e){await ds(pt(Te,Ae.QUESTIONS,s),{...e,updatedAt:Date.now()})}async function KA(s){await ya(pt(Te,Ae.QUESTIONS,s))}async function YA(s,e){const n=await hs(ut(Te,Ae.QUESTIONS,s,"respostas"),{author:GA(),content:e,timestamp:Date.now()});return await ds(pt(Te,Ae.QUESTIONS,s),{replies:$0(1)}),n.id}async function XA(s){try{const e=Co(ut(Te,Ae.QUESTIONS,s,"respostas"),Hp("timestamp","asc")),n=await An(e);return bd(n)}catch(e){console.warn("Falling back to unordered respostas query:",e);const n=await An(ut(Te,Ae.QUESTIONS,s,"respostas"));return bd(n)}}async function OD(s,e){await ya(pt(Te,Ae.QUESTIONS,s,"respostas",e)),await ds(pt(Te,Ae.QUESTIONS,s),{replies:$0(-1)})}const MD=Object.freeze(Object.defineProperty({__proto__:null,addResposta:YA,createDuvida:QA,deleteDuvida:KA,deleteResposta:OD,getAllDuvidas:$A,getRespostas:XA,updateDuvida:DD},Symbol.toStringTag,{value:"Module"}));function Mn(s){return typeof s!="number"||isNaN(s)?"R$ 0,00":`R$ ${s.toFixed(2).replace(".",",")}`}function Zd(s){return s?(s instanceof Date?s:new Date(s)).toLocaleDateString("pt-BR"):"-"}function Wd(s){return s?(s instanceof Date?s:new Date(s)).toLocaleString("pt-BR"):"-"}function JA(s){const e=s.replace(/\D/g,"");return e.length>5?`${e.substring(0,5)}-${e.substring(5,8)}`:e}function ZA(s){const e=s.replace(/\D/g,"");return e.match(/.{1,4}/g)?.join(" ")||e}function WA(s){const e=s.replace(/\D/g,"");return e.length>2?`${e.substring(0,2)}/${e.substring(2,4)}`:e}function jD(s,e){return!s||!e||e>=s?0:Math.round((1-e/s)*100)}function VD(s){return s.substring(0,8).toUpperCase()}async function PD(){const s=document.getElementById("duvida-title").value,e=document.getElementById("duvida-description").value;if(!s||!e){alert("Por favor, preencha o titulo e a descricao!");return}try{await QA({title:s,description:e}),LD(),await _c(),alert("Duvida adicionada com sucesso!")}catch(n){alert("Erro ao adicionar duvida: "+n.message)}}function LD(){document.getElementById("duvida-title").value="",document.getElementById("duvida-description").value=""}async function _c(){const s=document.getElementById("duvidas-list");if(s)try{const e=await $A();if(e.length===0){s.innerHTML='<p class="no-data">Nenhuma duvida encontrada.</p>';return}s.innerHTML=e.map(n=>{const a=n.timestamp?Wd(n.timestamp):"N/A",o=(n.title||"").replace(/'/g,"\\'");return`
                <div class="item duvida-item">
                    <h3>${n.title||"Sem titulo"}</h3>
                    <p class="description">${n.description||"Sem descricao"}</p>
                    <div class="item-meta">
                        <span><strong>Autor:</strong> ${n.author||"Anonimo"}</span>
                        <span><strong>Respostas:</strong> ${n.replies||0}</span>
                        <span><strong>Data:</strong> ${a}</span>
                    </div>
                    <div class="item-actions">
                        <button class="view-btn" data-id="${n.id}" data-title="${o}">Ver Respostas</button>
                        <button class="reply-btn" data-id="${n.id}">Responder</button>
                        <button class="delete-btn" data-type="duvidas" data-id="${n.id}">Deletar</button>
                    </div>
                    <div id="respostas-${n.id}" class="respostas-container" style="display:none;"></div>
                    <div id="reply-form-${n.id}" class="reply-form" style="display:none;">
                        <textarea id="reply-content-${n.id}" placeholder="Escreva sua resposta..."></textarea>
                        <button class="submit-reply-btn" data-id="${n.id}">Enviar Resposta</button>
                        <button class="cancel-reply-btn" data-id="${n.id}">Cancelar</button>
                    </div>
                </div>
            `}).join(""),kD(s)}catch(e){alert("Erro ao carregar duvidas: "+e.message)}}function kD(s){s.querySelectorAll('.delete-btn[data-type="duvidas"]').forEach(e=>{e.onclick=async()=>{if(confirm("Tem certeza que deseja deletar esta duvida?"))try{await KA(e.dataset.id),await _c(),alert("Duvida deletada com sucesso!")}catch(n){alert("Erro ao deletar duvida: "+n.message)}}}),s.querySelectorAll(".view-btn").forEach(e=>{e.onclick=()=>eS(e.dataset.id,e.dataset.title)}),s.querySelectorAll(".reply-btn").forEach(e=>{e.onclick=()=>tS(e.dataset.id)}),s.querySelectorAll(".submit-reply-btn").forEach(e=>{e.onclick=()=>nS(e.dataset.id)}),s.querySelectorAll(".cancel-reply-btn").forEach(e=>{e.onclick=()=>eg(e.dataset.id)})}async function eS(s,e){const n=document.getElementById(`respostas-${s}`);if(n){if(n.style.display==="block"){n.style.display="none";return}n.innerHTML="<p>Carregando respostas...</p>",n.style.display="block";try{const a=await XA(s);if(a.length===0){n.innerHTML='<p class="no-data">Nenhuma resposta ainda. Seja o primeiro a responder!</p>';return}n.innerHTML=`
            <h4>Respostas para: "${e}"</h4>
            ${a.map(o=>{const c=o.timestamp?Wd(o.timestamp):"N/A";return`
                    <div class="resposta-item">
                        <p class="resposta-content">${o.content||"Sem conteudo"}</p>
                        <div class="resposta-meta">
                            <span><strong>Por:</strong> ${o.author||"Anonimo"}</span>
                            <span><strong>Em:</strong> ${c}</span>
                        </div>
                    </div>
                `}).join("")}
        `}catch(a){n.innerHTML='<p class="error">Erro ao carregar respostas: '+a.message+"</p>"}}}function tS(s){const e=document.getElementById(`reply-form-${s}`);e&&(e.style.display="block")}function eg(s){const e=document.getElementById(`reply-form-${s}`),n=document.getElementById(`reply-content-${s}`);e&&(e.style.display="none"),n&&(n.value="")}async function nS(s){const e=document.getElementById(`reply-content-${s}`).value;if(!e.trim()){alert("Por favor, escreva uma resposta!");return}try{await YA(s,e),eg(s),await _c(),alert("Resposta adicionada com sucesso!")}catch(n){alert("Erro ao adicionar resposta: "+n.message)}}function UD(){const s=ai.currentUser;return s?s.displayName||s.email.split("@")[0]:"Anonimo"}async function iS(s){return(await hs(ut(Te,Ae.CHAT),{author:UD(),message:s,timestamp:Date.now()})).id}async function sS(){try{const s=Co(ut(Te,Ae.CHAT),Hp("timestamp","asc")),e=await An(s);return iT(e)}catch(s){console.warn("Falling back to unordered chat query:",s);const e=await An(ut(Te,Ae.CHAT));return iT(e)}}function iT(s){const e=[];return s.forEach(n=>{e.push({id:n.id,...n.data()})}),e}async function aS(s){await ya(pt(Te,Ae.CHAT,s))}const BD=Object.freeze(Object.defineProperty({__proto__:null,deleteMessage:aS,getAllMessages:sS,sendMessage:iS},Symbol.toStringTag,{value:"Module"}));async function zD(){const s=document.getElementById("chat-message"),e=s?.value;if(!e?.trim()){alert("Por favor, escreva uma mensagem!");return}try{await iS(e),s.value="",await eh()}catch(n){alert("Erro ao enviar mensagem: "+n.message)}}async function eh(){const s=document.getElementById("lista_geral-list");if(s)try{const e=await sS();if(e.length===0){s.innerHTML='<p class="no-data">Nenhuma mensagem ainda. Comece a conversa!</p>';return}s.innerHTML=e.map(n=>{const a=n.timestamp?Wd(n.timestamp):"";return`
                <div class="chat-message">
                    <div class="chat-header">
                        <strong>${n.author||"Anonimo"}</strong>
                        <span class="chat-time">${a}</span>
                    </div>
                    <p class="chat-content">${n.message||""}</p>
                    <button class="delete-btn small" data-type="chat" data-id="${n.id}">x</button>
                </div>
            `}).join(""),qD(s),s.scrollTop=s.scrollHeight}catch(e){alert("Erro ao carregar mensagens: "+e.message)}}function qD(s){s.querySelectorAll('.delete-btn[data-type="chat"]').forEach(e=>{e.onclick=async()=>{if(confirm("Tem certeza que deseja deletar esta mensagem?"))try{await aS(e.dataset.id),await eh()}catch(n){alert("Erro ao deletar mensagem: "+n.message)}}})}async function rS(s){return(await hs(ut(Te,Ae.USERS),{id:ai.currentUser?.uid||s.id,username:s.username,email:s.email,role:s.role||"user",createdAt:Date.now()})).id}async function oS(){const s=await An(ut(Te,Ae.USERS)),e=[];return s.forEach(n=>{e.push({docId:n.id,...n.data()})}),e}async function lS(s){const e=Co(ut(Te,Ae.USERS),Bp("email","==",s)),n=await An(e);if(n.empty)return null;const a=n.docs[0];return{docId:a.id,...a.data()}}async function HD(s){const e=Co(ut(Te,Ae.USERS),Bp("id","==",s)),n=await An(e);if(n.empty)return null;const a=n.docs[0];return{docId:a.id,...a.data()}}async function FD(s,e){await ds(pt(Te,Ae.USERS,s),{...e,updatedAt:Date.now()})}async function cS(s){await ya(pt(Te,Ae.USERS,s))}async function GD(s){return(await lS(s))?.role==="admin"}const QD=Object.freeze(Object.defineProperty({__proto__:null,createUserDoc:rS,deleteUserDoc:cS,getAllUsers:oS,getUserByEmail:lS,getUserByUid:HD,isUserAdmin:GD,updateUserDoc:FD},Symbol.toStringTag,{value:"Module"}));async function $D(){const s=document.getElementById("user-username").value,e=document.getElementById("user-email").value;if(!s||!e){alert("Por favor, preencha username e email!");return}try{await rS({username:s,email:e}),KD(),await th(),alert("Usuario adicionado com sucesso!")}catch(n){alert("Erro ao adicionar usuario: "+n.message)}}function KD(){document.getElementById("user-username").value="",document.getElementById("user-email").value=""}async function th(){const s=document.getElementById("users-list");if(s)try{const e=await oS();if(e.length===0){s.innerHTML='<p class="no-data">Nenhum usuario encontrado.</p>';return}s.innerHTML=e.map(n=>{const a=n.createdAt?Wd(n.createdAt):"N/A";return`
                <div class="item">
                    <h3>${n.username||"Sem username"}</h3>
                    <p><strong>Email:</strong> ${n.email||"N/A"}</p>
                    <p><strong>ID:</strong> ${n.id||n.docId}</p>
                    ${n.role?`<p><strong>Role:</strong> <span class="badge">${n.role}</span></p>`:""}
                    <div class="item-meta">
                        Criado em: ${a}
                    </div>
                    <button class="delete-btn" data-type="users" data-id="${n.docId}">Deletar</button>
                </div>
            `}).join(""),YD(s)}catch(e){alert("Erro ao carregar usuarios: "+e.message)}}function YD(s){s.querySelectorAll('.delete-btn[data-type="users"]').forEach(e=>{e.onclick=async()=>{if(confirm("Tem certeza que deseja deletar este usuario?"))try{await cS(e.dataset.id),await th(),alert("Usuario deletado com sucesso!")}catch(n){alert("Erro ao deletar usuario: "+n.message)}}})}async function tg(s=!1){const e=await An(ut(Te,Ae.PRODUCTS)),n=[];return e.forEach(a=>{const o={id:a.id,...a.data()};(!s||o.ativo!==!1)&&n.push(o)}),n.sort((a,o)=>(o.createdAt||0)-(a.createdAt||0)),n}async function XD(s){const e=await F0(pt(Te,Ae.PRODUCTS,s));return e.exists()?{id:e.id,...e.data()}:null}async function ng(s){const e={...s,createdAt:Date.now(),ativo:s.ativo!==!1};return(await hs(ut(Te,Ae.PRODUCTS),e)).id}async function ig(s,e){await ds(pt(Te,Ae.PRODUCTS,s),{...e,updatedAt:Date.now()})}async function sg(s){await ya(pt(Te,Ae.PRODUCTS,s))}async function JD(s,e){await ds(pt(Te,Ae.PRODUCTS,s),{ativo:e,updatedAt:Date.now()})}function uS(s){const e=new Set;return s.forEach(n=>{n.categoria&&e.add(n.categoria)}),e}function dS(s,{searchTerm:e="",category:n="",sortBy:a="recentes"}){let o=[...s];if(e){const c=e.toLowerCase();o=o.filter(f=>f.nome&&f.nome.toLowerCase().includes(c)||f.descricao&&f.descricao.toLowerCase().includes(c)||f.categoria&&f.categoria.toLowerCase().includes(c))}switch(n&&(o=o.filter(c=>c.categoria===n)),a){case"preco-menor":o.sort((c,f)=>zl(c)-zl(f));break;case"preco-maior":o.sort((c,f)=>zl(f)-zl(c));break;case"nome":o.sort((c,f)=>(c.nome||"").localeCompare(f.nome||""));break;default:o.sort((c,f)=>(f.createdAt||0)-(c.createdAt||0))}return o}function zl(s){return s.precoPromocional||s.preco||0}function ZD(){return[{nome:"Smartphone Galaxy Pro",descricao:"Smartphone de ultima geracao com camera de 108MP e tela AMOLED de 6.7 polegadas.",preco:2999.9,precoPromocional:2499.9,categoria:"Eletronicos",estoque:50,imagem:"https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?w=400",ativo:!0},{nome:"Notebook Ultra Slim",descricao:"Notebook leve e potente com processador Intel i7, 16GB RAM e SSD 512GB.",preco:4599.9,precoPromocional:null,categoria:"Eletronicos",estoque:25,imagem:"https://images.unsplash.com/photo-1496181133206-80ce9b88a853?w=400",ativo:!0},{nome:"Fones Bluetooth Premium",descricao:"Fones de ouvido sem fio com cancelamento de ruido ativo e 30h de bateria.",preco:899.9,precoPromocional:699.9,categoria:"Eletronicos",estoque:100,imagem:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400",ativo:!0},{nome:"Camiseta Algodao Premium",descricao:"Camiseta 100% algodao organico, confortavel e sustentavel.",preco:89.9,precoPromocional:null,categoria:"Roupas",estoque:200,imagem:"https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=400",ativo:!0},{nome:"Tenis Running Sport",descricao:"Tenis para corrida com tecnologia de amortecimento e respirabilidade.",preco:459.9,precoPromocional:359.9,categoria:"Calcados",estoque:75,imagem:"https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=400",ativo:!0},{nome:"Relogio Smartwatch",descricao:"Smartwatch com monitor cardiaco, GPS e resistencia a agua.",preco:1299.9,precoPromocional:999.9,categoria:"Acessorios",estoque:40,imagem:"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400",ativo:!0}]}const WD=Object.freeze(Object.defineProperty({__proto__:null,createProduct:ng,deleteProduct:sg,extractCategories:uS,filterProducts:dS,getAllProducts:tg,getEffectivePrice:zl,getExampleProducts:ZD,getProductById:XD,toggleProductStatus:JD,updateProduct:ig},Symbol.toStringTag,{value:"Module"}));let Ja=[],tp=new Set;const eO=[{nome:"Smartphone Galaxy Pro",descricao:"Smartphone de ultima geracao com camera de 108MP, tela AMOLED de 6.7 polegadas e bateria de 5000mAh.",preco:2499.99,precoPromocional:1999.99,imagem:"https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?w=400",categoria:"Eletronicos",estoque:50,ativo:!0},{nome:"Notebook UltraBook 15",descricao:"Notebook ultrafino com processador Intel Core i7, 16GB RAM e SSD de 512GB.",preco:4999.99,precoPromocional:null,imagem:"https://images.unsplash.com/photo-1496181133206-80ce9b88a853?w=400",categoria:"Eletronicos",estoque:25,ativo:!0},{nome:"Fone de Ouvido Bluetooth Premium",descricao:"Fone sem fio com cancelamento de ruido ativo, 30 horas de bateria e som Hi-Fi.",preco:599.99,precoPromocional:449.99,imagem:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400",categoria:"Acessorios",estoque:100,ativo:!0},{nome:"Camiseta Basica Algodao",descricao:"Camiseta 100% algodao, confortavel e duravel. Disponivel em varias cores.",preco:79.99,precoPromocional:null,imagem:"https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=400",categoria:"Roupas",estoque:200,ativo:!0},{nome:"Tenis Esportivo Runner",descricao:"Tenis para corrida com tecnologia de amortecimento, leve e respiravel.",preco:399.99,precoPromocional:299.99,imagem:"https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=400",categoria:"Calcados",estoque:75,ativo:!0},{nome:"Relogio Smartwatch Fit",descricao:"Smartwatch com monitor cardiaco, GPS integrado e resistencia a agua.",preco:899.99,precoPromocional:699.99,imagem:"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400",categoria:"Acessorios",estoque:40,ativo:!0}];function tO(){const s=document.getElementById("produto-imagem");s&&s.addEventListener("input",function(){const e=document.getElementById("produto-imagem-preview"),n=this.value;n?e.innerHTML=`<img src="${n}" alt="Preview" onerror="this.parentElement.innerHTML='<p class=\\'error\\'>Imagem nao encontrada</p>'">`:e.innerHTML=""})}async function nO(){const s=document.getElementById("produto-edit-id").value,e=document.getElementById("produto-nome").value,n=document.getElementById("produto-descricao").value,a=document.getElementById("produto-preco").value,o=document.getElementById("produto-preco-promocional").value,c=document.getElementById("produto-imagem").value,f=document.getElementById("produto-categoria").value,g=document.getElementById("produto-estoque").value,y=document.getElementById("produto-ativo").value==="true";if(!e||!a){alert("Por favor, preencha pelo menos o nome e o preco!");return}const E={nome:e,descricao:n||"",preco:parseFloat(a),precoPromocional:o?parseFloat(o):null,imagem:c||"",categoria:f||"Geral",estoque:g?parseInt(g):0,ativo:y};try{s?(await ig(s,E),alert("Produto atualizado com sucesso!")):(await ng(E),alert("Produto adicionado com sucesso!")),hS(),await ls()}catch(S){alert("Erro ao salvar produto: "+S.message)}}function hS(){document.getElementById("produto-edit-id").value="",document.getElementById("produto-nome").value="",document.getElementById("produto-descricao").value="",document.getElementById("produto-preco").value="",document.getElementById("produto-preco-promocional").value="",document.getElementById("produto-imagem").value="",document.getElementById("produto-categoria").value="",document.getElementById("produto-estoque").value="",document.getElementById("produto-ativo").value="true",document.getElementById("produto-imagem-preview").innerHTML="",document.getElementById("produto-submit-btn").textContent="Adicionar Produto",document.getElementById("produto-cancel-btn").style.display="none"}async function ls(){const s=document.getElementById("produtos-list");if(s)try{if(Ja=await tg(),tp=new Set,Ja.length===0){s.innerHTML='<p class="no-data">Nenhum produto encontrado. Adicione seu primeiro produto!</p>';return}Ja.forEach(e=>{e.categoria&&tp.add(e.categoria)}),iO(),fS(Ja)}catch(e){console.error("Erro ao carregar produtos:",e),alert("Erro ao carregar produtos: "+e.message)}}function iO(){const s=document.getElementById("produtos-filter-categoria");if(!s)return;const e=s.value;s.innerHTML='<option value="">Todas as categorias</option>',tp.forEach(n=>{const a=document.createElement("option");a.value=n,a.textContent=n,s.appendChild(a)}),s.value=e}function fS(s){const e=document.getElementById("produtos-list");if(s.length===0){e.innerHTML='<p class="no-data">Nenhum produto encontrado com os filtros aplicados.</p>';return}e.innerHTML=s.map(n=>{const a=Mn(n.preco),o=n.precoPromocional?Mn(n.precoPromocional):null,c=n.createdAt?Zd(n.createdAt):"N/A";return`
            <div class="produto-card ${n.ativo?"":"inativo"}">
                <div class="produto-image">
                    ${n.imagem?`<img src="${n.imagem}" alt="${n.nome}" onerror="this.src='https://via.placeholder.com/200x200?text=Sem+Imagem'">`:'<div class="no-image">Sem imagem</div>'}
                    ${n.ativo?"":'<span class="status-badge inativo">Inativo</span>'}
                    ${n.precoPromocional?'<span class="status-badge promo">Promocao</span>':""}
                </div>
                <div class="produto-info">
                    <h3>${n.nome||"Sem nome"}</h3>
                    <p class="produto-categoria">${n.categoria||"Sem categoria"}</p>
                    <p class="produto-descricao">${n.descricao||""}</p>
                    <div class="produto-preco">
                        ${o?`<span class="preco-original">${a}</span><span class="preco-promo">${o}</span>`:`<span class="preco">${a}</span>`}
                    </div>
                    <p class="produto-estoque">Estoque: ${n.estoque||0} unidades</p>
                    <p class="produto-data">Criado em: ${c}</p>
                </div>
                <div class="produto-actions">
                    <button class="edit-btn" data-id="${n.id}">Editar</button>
                    <button class="toggle-btn ${n.ativo?"desativar":"ativar"}" data-id="${n.id}" data-status="${!n.ativo}">
                        ${n.ativo?"Desativar":"Ativar"}
                    </button>
                    <button class="delete-btn" data-type="produtos" data-id="${n.id}">Excluir</button>
                </div>
            </div>
        `}).join(""),sO(e)}function sO(s){s.querySelectorAll(".edit-btn").forEach(e=>{e.onclick=()=>mS(e.dataset.id)}),s.querySelectorAll(".toggle-btn").forEach(e=>{e.onclick=()=>pS(e.dataset.id,e.dataset.status==="true")}),s.querySelectorAll('.delete-btn[data-type="produtos"]').forEach(e=>{e.onclick=()=>gS(e.dataset.id)})}function aO(){const s=document.getElementById("produtos-search").value.toLowerCase(),e=document.getElementById("produtos-filter-categoria").value,n=document.getElementById("produtos-filter-status").value;let a=Ja;if(s&&(a=a.filter(o=>o.nome&&o.nome.toLowerCase().includes(s)||o.descricao&&o.descricao.toLowerCase().includes(s))),e&&(a=a.filter(o=>o.categoria===e)),n!==""){const o=n==="true";a=a.filter(c=>c.ativo===o)}fS(a)}function mS(s){const e=Ja.find(a=>a.id===s);if(!e){alert("Produto nao encontrado!");return}document.getElementById("produto-edit-id").value=s,document.getElementById("produto-nome").value=e.nome||"",document.getElementById("produto-descricao").value=e.descricao||"",document.getElementById("produto-preco").value=e.preco||"",document.getElementById("produto-preco-promocional").value=e.precoPromocional||"",document.getElementById("produto-imagem").value=e.imagem||"",document.getElementById("produto-categoria").value=e.categoria||"",document.getElementById("produto-estoque").value=e.estoque||"",document.getElementById("produto-ativo").value=e.ativo?"true":"false";const n=document.getElementById("produto-imagem-preview");e.imagem&&(n.innerHTML=`<img src="${e.imagem}" alt="Preview">`),document.getElementById("produto-submit-btn").textContent="Atualizar Produto",document.getElementById("produto-cancel-btn").style.display="inline-block",document.querySelector(".produto-form").scrollIntoView({behavior:"smooth"})}async function pS(s,e){try{await ig(s,{ativo:e}),await ls()}catch(n){alert("Erro ao alterar status: "+n.message)}}async function gS(s){if(confirm("Tem certeza que deseja excluir este produto? Esta acao nao pode ser desfeita."))try{await sg(s),await ls(),alert("Produto excluido com sucesso!")}catch(e){alert("Erro ao excluir produto: "+e.message)}}async function rO(){if(!confirm("Isso ira adicionar produtos de exemplo. Deseja continuar?"))return;const s=document.getElementById("produtos-list");s.innerHTML='<p class="loading">Adicionando produtos de exemplo...</p>';try{let e=0;for(const n of eO)await ng({...n,createdAt:Date.now()-e*6e4}),e++;await ls(),alert(`${e} produtos de exemplo adicionados com sucesso!`)}catch(e){alert("Erro ao adicionar produtos: "+e.message),await ls()}}async function oO(){if(!confirm("ATENCAO: Isso ira excluir TODOS os produtos! Esta acao nao pode ser desfeita. Deseja continuar?")||!confirm("Tem CERTEZA ABSOLUTA? Todos os produtos serao perdidos permanentemente!"))return;const s=document.getElementById("produtos-list");s.innerHTML='<p class="loading">Excluindo todos os produtos...</p>';try{let e=0;for(const n of Ja)await sg(n.id),e++;await ls(),alert(`${e} produtos excluidos com sucesso!`)}catch(e){alert("Erro ao excluir produtos: "+e.message),await ls()}}function yS(s){switch(s){case"eventos":Jd();break;case"event_location":vc();break;case"duvidas":_c();break;case"lista_geral":eh();break;case"users":th();break;case"produtos":ls();break}}function lO(){EA(ai,s=>{const e=!!s;Yd(e),e&&yS(hD())})}function cO(){window.register=cD,window.login=uD,window.logout=dD,window.showTab=mD,window.addEvento=ED,window.addEventLocation=ID,window.showAddContactForm=FA,window.addDuvida=PD,window.viewRespostas=eS,window.showReplyForm=tS,window.hideReplyForm=eg,window.addResposta=nS,window.addListaGeral=zD,window.addUser=$D,window.addOrUpdateProduto=nO,window.cancelEditProduto=hS,window.filterProdutos=aO,window.editProduto=mS,window.toggleProdutoStatus=pS,window.deleteProduto=gS,window.popularProdutosExemplo=rO,window.deletarTodosProdutos=oO,window.deleteItem=async function(s,e){if(!confirm("Tem certeza que deseja deletar este item?"))return;const a={eventos:{delete:()=>to(()=>Promise.resolve().then(()=>_D),void 0).then(o=>o.deleteEvento(e)),load:Jd},event_location:{delete:()=>to(()=>Promise.resolve().then(()=>RD),void 0).then(o=>o.deleteEventLocation(e)),load:vc},duvidas:{delete:()=>to(()=>Promise.resolve().then(()=>MD),void 0).then(o=>o.deleteDuvida(e)),load:_c},lista_geral:{delete:()=>to(()=>Promise.resolve().then(()=>BD),void 0).then(o=>o.deleteMessage(e)),load:eh},users:{delete:()=>to(()=>Promise.resolve().then(()=>QD),void 0).then(o=>o.deleteUserDoc(e)),load:th},produtos:{delete:()=>to(()=>Promise.resolve().then(()=>WD),void 0).then(o=>o.deleteProduct(e)),load:ls}}[s];if(!a){alert("Colecao desconhecida: "+s);return}try{await a.delete(),await a.load(),alert("Item deletado com sucesso!")}catch(o){alert("Erro ao deletar item: "+o.message)}}}function uO(){fD(yS),pD(),tO(),cO(),lO(),console.log("Admin App initialized")}function dO(){return fo.useEffect(()=>{const s=window;s.__mlbAdminInit||(s.__mlbAdminInit=!0,uO())},[]),m.jsx("div",{className:"admin-page",children:m.jsxs("div",{className:"container",children:[m.jsx("h1",{children:"MakeLifeBetter - Gerenciamento"}),m.jsxs("div",{id:"auth-section",children:[m.jsx("h2",{children:"Login"}),m.jsx("input",{type:"email",id:"email",placeholder:"Email"}),m.jsx("input",{type:"password",id:"password",placeholder:"Senha"}),m.jsx("button",{type:"button",onClick:()=>window.login?.(),children:"Login"}),m.jsx("button",{type:"button",onClick:()=>window.register?.(),children:"Registrar"})]}),m.jsxs("div",{id:"main-section",style:{display:"none"},children:[m.jsxs("div",{className:"nav-tabs",children:[m.jsx("button",{className:"tab-btn active",type:"button",onClick:s=>window.showTab?.("eventos",s),children:"Eventos"}),m.jsx("button",{className:"tab-btn",type:"button",onClick:s=>window.showTab?.("event_location",s),children:"Locais"}),m.jsx("button",{className:"tab-btn",type:"button",onClick:s=>window.showTab?.("duvidas",s),children:"Duvidas"}),m.jsx("button",{className:"tab-btn",type:"button",onClick:s=>window.showTab?.("lista_geral",s),children:"Chat Geral"}),m.jsx("button",{className:"tab-btn",type:"button",onClick:s=>window.showTab?.("users",s),children:"Usuarios"}),m.jsx("button",{className:"tab-btn produtos-tab-btn",type:"button",onClick:s=>window.showTab?.("produtos",s),children:"Produtos"})]}),m.jsxs("div",{id:"eventos-tab",className:"tab-content active",children:[m.jsx("h2",{children:"Gerenciar Eventos"}),m.jsxs("div",{className:"form-section",children:[m.jsx("input",{type:"text",id:"evento-titulo",placeholder:"Titulo do Evento"}),m.jsx("input",{type:"text",id:"evento-subtitulo",placeholder:"Subtitulo"}),m.jsx("textarea",{id:"evento-descricao",placeholder:"Descricao"}),m.jsx("input",{type:"text",id:"evento-hora",placeholder:"Hora (ex: 09:00)"}),m.jsx("input",{type:"text",id:"evento-lugar",placeholder:"Lugar"}),m.jsxs("select",{id:"evento-categoria",defaultValue:"",children:[m.jsx("option",{value:"",children:"Selecione a categoria"}),m.jsx("option",{value:"agora",children:"Agora"}),m.jsx("option",{value:"programado",children:"Programado"}),m.jsx("option",{value:"novidade",children:"Novidade"}),m.jsx("option",{value:"contato",children:"Contato"}),m.jsx("option",{value:"cupom",children:"Cupom"}),m.jsx("option",{value:"cerimonia",children:"Cerimonia"}),m.jsx("option",{value:"intervalo",children:"Intervalo"}),m.jsx("option",{value:"palestra",children:"Palestra"}),m.jsx("option",{value:"refeicao",children:"Refeicao"}),m.jsx("option",{value:"workshop",children:"Workshop"})]}),m.jsx("button",{type:"button",onClick:()=>window.addEvento?.(),children:"Adicionar Evento"})]}),m.jsx("div",{id:"eventos-list",className:"items-list"})]}),m.jsxs("div",{id:"event_location-tab",className:"tab-content",children:[m.jsx("h2",{children:"Gerenciar Locais de Eventos"}),m.jsxs("div",{className:"form-section",children:[m.jsx("input",{type:"text",id:"location-name",placeholder:"Nome do Local"}),m.jsx("input",{type:"text",id:"location-address",placeholder:"Endereco"}),m.jsx("input",{type:"text",id:"location-city",placeholder:"Cidade"}),m.jsx("input",{type:"number",id:"location-latitude",step:"any",placeholder:"Latitude"}),m.jsx("input",{type:"number",id:"location-longitude",step:"any",placeholder:"Longitude"}),m.jsx("button",{type:"button",onClick:()=>window.addEventLocation?.(),children:"Adicionar Local"})]}),m.jsx("div",{id:"event_location-list",className:"items-list"})]}),m.jsxs("div",{id:"duvidas-tab",className:"tab-content",children:[m.jsx("h2",{children:"Duvidas e Perguntas"}),m.jsxs("div",{className:"form-section",children:[m.jsx("input",{type:"text",id:"duvida-title",placeholder:"Titulo da Duvida"}),m.jsx("textarea",{id:"duvida-description",placeholder:"Descricao da sua duvida..."}),m.jsx("button",{type:"button",onClick:()=>window.addDuvida?.(),children:"Fazer Pergunta"})]}),m.jsx("div",{id:"duvidas-list",className:"items-list"})]}),m.jsxs("div",{id:"lista_geral-tab",className:"tab-content",children:[m.jsx("h2",{children:"Chat Geral"}),m.jsx("div",{id:"lista_geral-list",className:"chat-container"}),m.jsxs("div",{className:"chat-input-section",children:[m.jsx("textarea",{id:"chat-message",placeholder:"Digite sua mensagem..."}),m.jsx("button",{type:"button",onClick:()=>window.addListaGeral?.(),children:"Enviar"})]})]}),m.jsxs("div",{id:"users-tab",className:"tab-content",children:[m.jsx("h2",{children:"Gerenciar Usuarios"}),m.jsxs("div",{className:"form-section",children:[m.jsx("input",{type:"text",id:"user-username",placeholder:"Username"}),m.jsx("input",{type:"email",id:"user-email",placeholder:"Email"}),m.jsx("button",{type:"button",onClick:()=>window.addUser?.(),children:"Adicionar Usuario"})]}),m.jsx("div",{id:"users-list",className:"items-list"})]}),m.jsxs("div",{id:"produtos-tab",className:"tab-content",children:[m.jsx("h2",{children:"Gerenciar Produtos"}),m.jsxs("div",{className:"store-link",children:[m.jsx("a",{href:"#/store",className:"view-store-btn",children:"Ver Loja Publica"}),m.jsx("button",{type:"button",className:"example-btn",onClick:()=>window.popularProdutosExemplo?.(),children:"Preencher Exemplos"}),m.jsx("button",{type:"button",className:"delete-all-btn",onClick:()=>window.deletarTodosProdutos?.(),children:"Deletar Todos"})]}),m.jsxs("div",{className:"form-section produto-form",children:[m.jsx("input",{type:"hidden",id:"produto-edit-id"}),m.jsxs("div",{className:"form-row",children:[m.jsx("input",{type:"text",id:"produto-nome",placeholder:"Nome do Produto",required:!0}),m.jsx("input",{type:"text",id:"produto-categoria",placeholder:"Categoria (ex: Eletronicos, Roupas)"})]}),m.jsx("textarea",{id:"produto-descricao",placeholder:"Descricao detalhada do produto..."}),m.jsxs("div",{className:"form-row",children:[m.jsx("input",{type:"number",id:"produto-preco",placeholder:"Preco (R$)",step:"0.01",min:"0",required:!0}),m.jsx("input",{type:"number",id:"produto-preco-promocional",placeholder:"Preco Promocional (opcional)",step:"0.01",min:"0"})]}),m.jsxs("div",{className:"form-row",children:[m.jsx("input",{type:"number",id:"produto-estoque",placeholder:"Quantidade em Estoque",min:"0"}),m.jsxs("select",{id:"produto-ativo",defaultValue:"true",children:[m.jsx("option",{value:"true",children:"Ativo (visivel na loja)"}),m.jsx("option",{value:"false",children:"Inativo (oculto)"})]})]}),m.jsx("input",{type:"url",id:"produto-imagem",placeholder:"URL da Imagem do Produto"}),m.jsx("div",{className:"image-preview",id:"produto-imagem-preview"}),m.jsxs("div",{className:"form-actions",children:[m.jsx("button",{type:"button",id:"produto-submit-btn",onClick:()=>window.addOrUpdateProduto?.(),children:"Adicionar Produto"}),m.jsx("button",{type:"button",id:"produto-cancel-btn",className:"cancel-btn",style:{display:"none"},onClick:()=>window.cancelEditProduto?.(),children:"Cancelar Edicao"})]})]}),m.jsxs("div",{className:"produtos-filter",children:[m.jsx("input",{type:"text",id:"produtos-search",placeholder:"Buscar produtos...",onInput:()=>window.filterProdutos?.()}),m.jsx("select",{id:"produtos-filter-categoria",defaultValue:"",onChange:()=>window.filterProdutos?.(),children:m.jsx("option",{value:"",children:"Todas as categorias"})}),m.jsxs("select",{id:"produtos-filter-status",defaultValue:"",onChange:()=>window.filterProdutos?.(),children:[m.jsx("option",{value:"",children:"Todos os status"}),m.jsx("option",{value:"true",children:"Ativos"}),m.jsx("option",{value:"false",children:"Inativos"})]})]}),m.jsx("div",{id:"produtos-list",className:"produtos-grid"})]}),m.jsx("div",{className:"logout-section",children:m.jsx("button",{type:"button",className:"logout-btn",onClick:()=>window.logout?.(),children:"Logout"})})]})]})})}let cs=null,ti=null,Rm=null;function hO(s){Rm=s,EA(ai,async e=>{cs=e,e?await fO(e):ti=null,Rm&&Rm(e,ti)})}async function fO(s){try{const e=await F0(pt(Te,Ae.USERS,s.uid));e.exists()?ti={id:s.uid,...e.data()}:(ti=np(s),await Q0(pt(Te,Ae.USERS,s.uid),ti))}catch(e){console.error("Error loading user data:",e),ti=np(s)}}function np(s){return{id:s.uid,username:s.email.split("@")[0],email:s.email,createdAt:Date.now(),isAdmin:vS(s.email)}}function vS(s){return gD.includes(s)}async function mO(s,e){const n=await vA(ai,s,e),a=n.user,o=np(a);return await Q0(pt(Te,Ae.USERS,a.uid),o),n}async function pO(s,e){return await _A(ai,s,e)}async function gO(){await TA(ai)}async function yO(s){if(!cs)throw new Error("No user logged in");await ds(pt(Te,Ae.USERS,cs.uid),{...s,updatedAt:Date.now()}),ti={...ti,...s}}async function vO(s){if(!cs)throw new Error("No user logged in");await Q1(cs,s)}function nh(){return cs}function _S(){return ti}function ES(){return!cs||!ti?!1:ti.isAdmin||vS(cs.email)}function dr(){return cs!==null}function TS(s){return{"auth/email-already-in-use":"Este email ja esta em uso.","auth/invalid-email":"Email invalido.","auth/weak-password":"A senha deve ter pelo menos 6 caracteres.","auth/user-not-found":"Email ou senha incorretos.","auth/wrong-password":"Email ou senha incorretos.","auth/invalid-credential":"Email ou senha incorretos.","auth/requires-recent-login":"Por seguranca, faca login novamente para alterar a senha."}[s.code]||"Erro ao processar. Tente novamente."}function _O(s,e=null){try{const n=localStorage.getItem(s);return n?JSON.parse(n):e}catch(n){return console.error(`Error reading from localStorage: ${s}`,n),e}}function EO(s,e){try{localStorage.setItem(s,JSON.stringify(e))}catch(n){console.error(`Error writing to localStorage: ${s}`,n)}}let Xt=[],ip=null;function TO(s=null){ip=s,Xt=_O(jA.CART,[]),AS()}function ih(){EO(jA.CART,Xt),AS()}function AS(){ip&&ip(Xt)}function ag(){return[...Xt]}function AO(){return Xt.reduce((s,e)=>s+e.quantity,0)}function SO(){return Xt.reduce((s,e)=>{const n=e.precoPromocional||e.preco;return s+n*e.quantity},0)}function wO(){return Xt.length===0}function SS(s,e=1){if(!s||!s.id)return!1;const n=Xt.findIndex(a=>a.id===s.id);return n>=0?Xt[n].quantity+=e:Xt.push({id:s.id,nome:s.nome,preco:s.preco,precoPromocional:s.precoPromocional,imagem:s.imagem,quantity:e}),ih(),!0}function bO(s){if(s<0||s>=Xt.length)return null;const e=Xt.splice(s,1)[0];return ih(),e}function RO(s,e){return s<0||s>=Xt.length?!1:(Xt[s].quantity+=e,Xt[s].quantity<=0&&Xt.splice(s,1),ih(),!0)}function IO(){Xt=[],ih()}async function CO(s){const e={...s,status:ao.PENDING,createdAt:Date.now()};return{id:(await hs(ut(Te,Ae.ORDERS),e)).id,...e}}async function NO(s){const e=Co(ut(Te,Ae.ORDERS),Bp("userId","==",s)),n=await An(e),a=[];return n.forEach(o=>{a.push({id:o.id,...o.data()})}),a.sort((o,c)=>(c.createdAt||0)-(o.createdAt||0)),a}function xO({userId:s,userEmail:e,cartItems:n,address:a,shipping:o,payment:c,subtotal:f,shippingCost:g}){return{userId:s,userEmail:e,items:n.map(y=>({productId:y.id,nome:y.nome,preco:y.precoPromocional||y.preco,quantity:y.quantity})),address:a,shipping:o,payment:c,subtotal:f,shippingCost:g,total:f+g}}function DO(s){const e=new Date,n={sameday:0,express:3,normal:8};return e.setDate(e.getDate()+(n[s]||8)),e}function se(s){return document.getElementById(s)}function st(s,e){const n=se(s);n&&(n.textContent=e)}function OO(s,e){const n=se(s);n&&(n.innerHTML=e)}function sT(s,e){const n=se(s);n&&n.classList.add(e)}function aT(s,e){const n=se(s);n&&n.classList.remove(e)}function Ec(s){const e=se(s);e&&(e.style.display="flex",document.body.style.overflow="hidden")}function bi(s){const e=se(s);e&&(e.style.display="none",document.body.style.overflow="auto")}function It(s,e=at.INFO){const n=se("toast-container");if(!n)return;const a=document.createElement("div");a.className=`toast toast-${e}`;const o=tT[e]||tT[at.INFO];a.innerHTML=`
        <i class="fas ${o}"></i>
        <span>${s}</span>
    `,n.appendChild(a),requestAnimationFrame(()=>{a.classList.add("show")}),setTimeout(()=>{a.classList.remove("show"),setTimeout(()=>a.remove(),nT.TOAST_ANIMATION_DELAY)},nT.TOAST_DURATION)}function MO(s="Carregando..."){return`
        <div class="loading-spinner">
            <i class="fas fa-spinner fa-spin"></i>
            <p>${s}</p>
        </div>
    `}function jO(s,e,n){return`
        <div class="empty-state">
            <i class="fas ${s}"></i>
            <h3>${e}</h3>
            <p>${n}</p>
        </div>
    `}function VO(s,e){document.addEventListener("click",n=>{const a=se(s),o=se(e);a&&o&&!a.contains(n.target)&&o.classList.remove("show")})}function PO(s){document.addEventListener("keydown",e=>{e.key==="Escape"&&s()})}function LO(s){window.addEventListener("click",e=>{s.forEach(n=>{const a=se(n);e.target===a&&bi(n)})})}function kO(s,{onProductClick:e,onQuickAdd:n,onWishlist:a}){const o=document.getElementById("products-grid");if(o){if(s.length===0){o.innerHTML=jO("fa-search","Nenhum produto encontrado","Tente ajustar os filtros ou buscar por outro termo"),st("products-count","0 produtos");return}o.innerHTML="",s.forEach(c=>{const f=UO(c,{onProductClick:e,onQuickAdd:n,onWishlist:a});o.appendChild(f)}),st("products-count",`${s.length} produtos`)}}function UO(s,{onProductClick:e,onQuickAdd:n,onWishlist:a}){const o=document.createElement("div");o.className="product-card",o.onclick=()=>e(s);const c=BO(s),f=jD(s.preco,s.precoPromocional),g=s.codigo||s.sku||(s.id?s.id.substring(0,3).toUpperCase():"---");o.innerHTML=`
        <div class="product-image">
            ${s.imagem?`<img src="${s.imagem}" alt="${s.nome}" loading="lazy"
                    onerror="this.src='https://via.placeholder.com/300x300?text=Sem+Imagem'">`:'<div class="placeholder-image"><i class="fas fa-image"></i></div>'}
            ${f>0?`<span class="discount-badge">-${f}%</span>`:""}
            <button class="wishlist-btn" onclick="event.stopPropagation();" aria-label="Favoritar">
                <i class="far fa-heart"></i>
            </button>
        </div>
        <div class="product-details">
            <span class="product-name">${s.nome}</span>
            <span class="product-sku">Codigo: ${g}</span>
            <div class="product-price">${c}</div>
            <button class="product-cta" type="button">Ver mais</button>
            <div class="product-meta">
                <span class="product-category">${s.categoria||"Geral"}</span>
                ${zO(s.estoque)}
            </div>
        </div>
    `,o.querySelector(".wishlist-btn").addEventListener("click",b=>{b.stopPropagation(),a(s.id)});const E=o.querySelector(".product-cta");E&&E.addEventListener("click",b=>{b.stopPropagation(),e(s)});const S=o.querySelector(".quick-add-btn");return S&&S.addEventListener("click",b=>{b.stopPropagation(),n(s.id)}),o}function BO(s){const e=Mn(s.preco),n=s.precoPromocional?Mn(s.precoPromocional):null;return n?`
            <span class="price-old">${e}</span>
            <span class="price-current">${n}</span>
        `:`<span class="price-current">${e}</span>`}function zO(s){return s>0?'<span class="stock in-stock"><i class="fas fa-check-circle"></i> Em estoque</span>':'<span class="stock out-of-stock"><i class="fas fa-times-circle"></i> Indisponivel</span>'}function qO(s,e){const n=document.getElementById("categories-list");if(!n)return;let a=`
        <button class="category-chip active" data-category="">
            <i class="fas fa-th-large"></i>
            <span>Todos</span>
        </button>
    `;s.forEach(o=>{const c=eT[o]||eT.default;a+=`
            <button class="category-chip" data-category="${o}">
                <i class="fas ${c}"></i>
                <span>${o}</span>
            </button>
        `}),n.innerHTML=a,n.querySelectorAll(".category-chip").forEach(o=>{o.addEventListener("click",()=>{const c=o.dataset.category;n.querySelectorAll(".category-chip").forEach(f=>f.classList.remove("active")),o.classList.add("active"),e(c)})})}function HO(s){const e=document.getElementById("categoria-filter");e&&(e.innerHTML='<option value="">Todas as Categorias</option>',s.forEach(n=>{const a=document.createElement("option");a.value=n,a.textContent=n,e.appendChild(a)}))}function FO(){OO("products-grid",MO("Carregando produtos..."))}function GO(s,e){st("total-products",s.toString()),st("total-categories",e.toString())}function QO(s,{onUpdateQuantity:e,onRemoveItem:n}){const a=se("cart-items"),o=se("cart-empty"),c=se("cart-footer");if(!a)return;if(s.length===0){a.innerHTML="",o&&(o.style.display="flex"),c&&(c.style.display="none");return}o&&(o.style.display="none"),c&&(c.style.display="block");let f=0;const g=s.map((y,E)=>{const S=y.precoPromocional||y.preco,b=S*y.quantity;return f+=b,$O(y,E,S,b)}).join("");a.innerHTML=g,a.querySelectorAll(".qty-btn").forEach(y=>{y.addEventListener("click",()=>{const E=parseInt(y.dataset.index),S=parseInt(y.dataset.delta);e(E,S)})}),a.querySelectorAll(".remove-item-btn").forEach(y=>{y.addEventListener("click",()=>{const E=parseInt(y.dataset.index);n(E)})}),KO(f)}function $O(s,e,n,a){return`
        <div class="cart-item">
            <div class="cart-item-image">
                ${s.imagem?`<img src="${s.imagem}" alt="${s.nome}">`:'<div class="no-image"><i class="fas fa-image"></i></div>'}
            </div>
            <div class="cart-item-details">
                <h4>${s.nome}</h4>
                <p class="cart-item-price">${Mn(n)}</p>
                <div class="cart-item-quantity">
                    <button class="qty-btn" data-index="${e}" data-delta="-1">
                        <i class="fas fa-minus"></i>
                    </button>
                    <span>${s.quantity}</span>
                    <button class="qty-btn" data-index="${e}" data-delta="1">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>
            </div>
            <div class="cart-item-total">
                <span>${Mn(a)}</span>
                <button class="remove-item-btn" data-index="${e}">
                    <i class="fas fa-trash"></i>
                </button>
            </div>
        </div>
    `}function KO(s,e=0){st("cart-subtotal-value",Mn(s)),st("cart-total-value",Mn(s+e))}function YO(s){st("cart-count",s.toString())}function XO(){sT("cart-overlay","show"),sT("cart-sidebar","show"),document.body.style.overflow="hidden"}function rg(){aT("cart-overlay","show"),aT("cart-sidebar","show"),document.body.style.overflow="auto"}let Rd=VA.NORMAL,sc=Qn.CREDIT;function JO(){ZO()}function ZO(){const s=se("checkout-cep");s&&s.addEventListener("input",o=>{o.target.value=JA(o.target.value)});const e=se("card-number");e&&e.addEventListener("input",o=>{o.target.value=ZA(o.target.value),Im("number",o.target.value)});const n=se("card-holder");n&&n.addEventListener("input",o=>{Im("holder",o.target.value.toUpperCase())});const a=se("card-expiry");a&&a.addEventListener("input",o=>{o.target.value=WA(o.target.value),Im("expiry",o.target.value)})}function Im(s,e){const a={number:{id:"preview-card-number",default:".... .... .... ...."},holder:{id:"preview-card-holder",default:"NOME NO CARTAO"},expiry:{id:"preview-card-expiry",default:"MM/AA"}}[s];a&&st(a.id,e||a.default)}function WO(){Ec("checkout-modal"),sh(1)}function og(){bi("checkout-modal")}function sh(s){document.querySelectorAll(".checkout-step").forEach(n=>{n.classList.remove("active")}),document.querySelectorAll(".checkout-stepper .step").forEach((n,a)=>{n.classList.remove("active","completed"),a+1<s?n.classList.add("completed"):a+1===s&&n.classList.add("active")});const e=se(`checkout-step-${s}`);e&&e.classList.add("active")}function e2(){const s=se("address-form");return s&&!s.checkValidity()?(s.reportValidity(),!1):(sh(2),!0)}function t2(){sh(1)}function n2(s){const e=Object.values(VA).find(n=>n.type===s);e&&(Rd=e,document.querySelectorAll(".shipping-option").forEach(n=>{const a=n.querySelector('input[type="radio"]'),o=a.value===s;n.classList.toggle("selected",o),a.checked=o}))}function i2(s){sc=s,document.querySelectorAll(".payment-method").forEach(n=>{const a=n.querySelector('input[type="radio"]'),o=a.value===s;n.classList.toggle("selected",o),a.checked=o});const e=s===Qn.CREDIT||s===Qn.DEBIT;Cm("card-form",e),Cm("pix-info",s===Qn.PIX),Cm("boleto-info",s===Qn.BOLETO)}function Cm(s,e){const n=se(s);n&&(n.style.display=e?"block":"none")}function s2(s){const e=se("checkout-items-summary");if(!e)return;let n=0;const a=s.map(c=>{const g=(c.precoPromocional||c.preco)*c.quantity;return n+=g,`
            <div class="summary-item">
                <span>${c.quantity}x ${c.nome}</span>
                <span>${Mn(g)}</span>
            </div>
        `}).join("");e.innerHTML=a;const o=n+Rd.price;st("summary-subtotal",Mn(n)),st("summary-shipping",Mn(Rd.price)),st("summary-total",Mn(o))}function a2(){if(sc===Qn.CREDIT||sc===Qn.DEBIT){const s=se("card-number")?.value,e=se("card-holder")?.value,n=se("card-expiry")?.value,a=se("card-cvv")?.value;if(!s||!e||!n||!a)return It("Preencha todos os dados do cartao","error"),!1}return!0}function r2(){return{address:{name:se("checkout-name")?.value||"",phone:se("checkout-phone")?.value||"",cep:se("checkout-cep")?.value||"",street:se("checkout-street")?.value||"",number:se("checkout-number")?.value||"",complement:se("checkout-complement")?.value||"",neighborhood:se("checkout-neighborhood")?.value||"",city:se("checkout-city")?.value||"",state:se("checkout-state")?.value||""},shipping:Rd,payment:{method:sc,installments:sc===Qn.CREDIT?parseInt(se("card-installments")?.value||"1"):1}}}function o2(s){sh(3);const e=VD(s.id);st("order-number",`#${e}`),st("confirm-payment-method",yD[s.payment.method]);const n=DO(s.shipping.type);st("confirm-delivery-date",Zd(n));const a=s.address;st("confirm-address",`${a.street}, ${a.number} - ${a.neighborhood}, ${a.city}/${a.state}`),st("confirm-total",Mn(s.total))}let oo=[],ed=new Set,la=!1;function l2(){hO(c2),TO(u2),JO(),d2(),D2(),O2()}function c2(s,e){s?w2(e):b2()}function u2(s){YO(AO())}async function d2(){FO();try{oo=await tg(!0),ed=uS(oo),GO(oo.length,ed.size),HO(ed),qO(ed,h2),wS(oo)}catch(s){console.error("Error loading products:",s),It(Xd.ORDER.LOAD_FAILED,at.ERROR)}}function wS(s){kO(s,{onProductClick:m2,onQuickAdd:bS,onWishlist:f2})}function h2(s){const e=se("categoria-filter");e&&(e.value=s),$l()}function $l(){const s=se("search-input")?.value||"",e=se("categoria-filter")?.value||"",n=se("ordenar-filter")?.value||"recentes",a=dS(oo,{searchTerm:s,category:e,sortBy:n});wS(a)}function bS(s){const e=oo.find(n=>n.id===s);e&&(SS(e),It(ar.CART.ADDED,at.SUCCESS))}function f2(s){if(!dr()){xo();return}It(ar.WISHLIST.ADDED,at.SUCCESS)}function m2(s){const e=se("modal-body");if(!e)return;e.innerHTML=p2(s),Ec("product-modal");const n=e.querySelector(".btn-buy");n&&n.addEventListener("click",()=>g2(s));const a=e.querySelector(".btn-cart");a&&a.addEventListener("click",()=>{bS(s.id),bi("product-modal")});const o=e.querySelector(".btn-notify");o&&o.addEventListener("click",()=>y2(s.id))}function p2(s){const e=s.preco?`R$ ${s.preco.toFixed(2)}`:"",n=s.precoPromocional?`R$ ${s.precoPromocional.toFixed(2)}`:null,a=s.precoPromocional&&s.preco?Math.round((1-s.precoPromocional/s.preco)*100):0;return`
        <div class="modal-product">
            <div class="modal-image">
                ${s.imagem?`<img src="${s.imagem}" alt="${s.nome}"
                        onerror="this.src='https://via.placeholder.com/500x500?text=Sem+Imagem'">`:'<div class="placeholder-image large"><i class="fas fa-image"></i></div>'}
                ${a>0?`<span class="discount-badge large">-${a}%</span>`:""}
            </div>
            <div class="modal-info">
                <span class="modal-category">${s.categoria||"Geral"}</span>
                <h2 class="modal-title">${s.nome}</h2>
                <p class="modal-description">${s.descricao||"Sem descricao disponivel."}</p>

                <div class="modal-price-section">
                    ${n?`<div class="modal-prices">
                            <span class="modal-original-price">${e}</span>
                            <span class="modal-promo-price">${n}</span>
                            <span class="modal-discount">Economia de ${a}%</span>
                        </div>`:`<span class="modal-price">${e}</span>`}
                </div>

                <div class="modal-stock">
                    ${s.estoque>0?`<span class="stock-status available"><i class="fas fa-check-circle"></i> Disponivel - ${s.estoque} unidades em estoque</span>`:'<span class="stock-status unavailable"><i class="fas fa-times-circle"></i> Produto indisponivel no momento</span>'}
                </div>

                <div class="modal-actions">
                    ${s.estoque>0?`<button class="btn-buy">
                            <i class="fas fa-bolt"></i>
                            <span>Comprar Agora</span>
                        </button>
                        <button class="btn-cart">
                            <i class="fas fa-cart-plus"></i>
                            <span>Adicionar ao Carrinho</span>
                        </button>`:`<button class="btn-notify">
                            <i class="fas fa-bell"></i>
                            <span>Avise-me quando disponivel</span>
                        </button>`}
                </div>

                <div class="modal-extras">
                    <div class="extra-item">
                        <i class="fas fa-truck"></i>
                        <span>Frete gratis acima de R$ 199</span>
                    </div>
                    <div class="extra-item">
                        <i class="fas fa-shield-alt"></i>
                        <span>Garantia de 30 dias</span>
                    </div>
                    <div class="extra-item">
                        <i class="fas fa-undo"></i>
                        <span>Devolucao facil</span>
                    </div>
                </div>
            </div>
        </div>
    `}function g2(s){if(!dr()){xo(),It("Faca login para continuar a compra",at.INFO);return}SS(s),bi("product-modal"),RS()}function y2(s){if(!dr()){xo();return}It("Voce sera notificado quando o produto estiver disponivel!",at.SUCCESS),bi("product-modal")}function v2(){XO();const s={onUpdateQuantity:(n,a)=>{RO(n,a),e()},onRemoveItem:n=>{const a=bO(n);a&&It(`${a.nome} ${ar.CART.REMOVED}`,at.INFO),e()}},e=()=>{QO(ag(),s)};e()}function _2(){rg()}function RS(){if(!dr()){xo(),It("Faca login para finalizar a compra",at.INFO);return}if(wO()){It(Xd.CART.EMPTY,at.WARNING);return}rg(),WO(),s2(ag())}async function E2(){if(!a2())return;It("Processando pagamento...",at.INFO),await new Promise(c=>setTimeout(c,2e3));const s=nh(),e=r2(),n=ag(),a=SO(),o=xO({userId:s.uid,userEmail:s.email,cartItems:n,address:e.address,shipping:e.shipping,payment:e.payment,subtotal:a,shippingCost:e.shipping.price});try{const c=await CO(o);o2(c),IO(),It("Pedido realizado com sucesso!",at.SUCCESS)}catch(c){console.error("Error creating order:",c),It(Xd.ORDER.CREATE_FAILED,at.ERROR)}}function xo(){la=!1,lg(),Ec("login-modal")}function IS(){bi("login-modal"),se("login-email").value="",se("login-password").value=""}function T2(){la=!la,lg()}function lg(){st("login-title",la?"Criar Conta":"Entrar"),st("login-subtitle",la?"Preencha os dados para se cadastrar":"Acesse sua conta para continuar");const s=se("login-submit-btn");s&&(s.innerHTML=la?'<span>Cadastrar</span><i class="fas fa-arrow-right"></i>':'<span>Entrar</span><i class="fas fa-arrow-right"></i>'),st("toggle-register-text",la?"Ja tenho uma conta":"Criar nova conta")}async function A2(s){s.preventDefault();const e=se("login-email")?.value,n=se("login-password")?.value,a=se("login-submit-btn");a&&(a.disabled=!0,a.innerHTML='<i class="fas fa-spinner fa-spin"></i>');try{la?(await mO(e,n),It(ar.AUTH.REGISTER,at.SUCCESS)):(await pO(e,n),It(ar.AUTH.LOGIN,at.SUCCESS)),IS()}catch(o){console.error("Auth error:",o),It(TS(o),at.ERROR)}finally{a&&(a.disabled=!1,lg())}}async function S2(){try{await gO(),It(ar.AUTH.LOGOUT,at.INFO),se("user-dropdown")?.classList.remove("show")}catch{It("Erro ao sair. Tente novamente.",at.ERROR)}}function w2(s){const e=se("login-btn"),n=se("user-area");e&&(e.style.display="none"),n&&(n.style.display="flex");const a=s?.username||nh()?.email?.split("@")[0]||"Usuario";st("user-display-name",a);const o=ES(),c=se("admin-link");c&&(c.style.display=o?"block":"none")}function b2(){const s=se("login-btn"),e=se("user-area");s&&(s.style.display="flex"),e&&(e.style.display="none")}function R2(){if(!dr()){xo();return}se("user-dropdown")?.classList.remove("show"),Ec("profile-modal");const s=nh(),e=_S(),n=e?.username||s.email.split("@")[0];st("profile-name",n),st("profile-email",s.email);const a=se("profile-username");a&&(a.value=e?.username||"");const o=se("profile-display-email");o&&(o.value=s.email);const c=ES(),f=se("profile-badge");f&&(f.textContent=c?"Administrador":"Usuario",f.className="profile-badge "+(c?"admin":"user")),e?.createdAt&&st("profile-created-at",Zd(e.createdAt))}function CS(){bi("profile-modal");const s=se("profile-new-password");s&&(s.value="")}async function I2(s){if(s.preventDefault(),!dr())return;const e=se("profile-username")?.value.trim(),n=se("profile-new-password")?.value,a=_S();try{if(e&&e!==a?.username&&(await yO({username:e}),st("user-display-name",e),st("profile-name",e)),n){if(n.length<6){It("A senha deve ter pelo menos 6 caracteres.",at.ERROR);return}await vO(n)}It(ar.PROFILE.UPDATED,at.SUCCESS),CS()}catch(o){console.error("Profile update error:",o),It(TS(o),at.ERROR)}}async function NS(){se("user-dropdown")?.classList.remove("show"),Ec("orders-modal"),await N2()}function C2(){bi("orders-modal")}async function N2(){const s=se("orders-list"),e=se("orders-empty");if(s){if(s.innerHTML=`
        <div class="loading-spinner">
            <i class="fas fa-spinner fa-spin"></i>
            <p>Carregando pedidos...</p>
        </div>
    `,e&&(e.style.display="none"),!dr()){s.innerHTML="",e&&(e.style.display="flex");return}try{const n=nh(),a=await NO(n.uid);if(a.length===0){s.innerHTML="",e&&(e.style.display="flex");return}e&&(e.style.display="none"),x2(a,s)}catch(n){console.error("Error loading orders:",n),s.innerHTML=`
            <div class="error-state">
                <i class="fas fa-exclamation-circle"></i>
                <p>${Xd.ORDER.LOAD_FAILED}</p>
            </div>
        `}}}function x2(s,e){const n=s.map(a=>{const o=a.id.substring(0,8).toUpperCase(),c=Zd(a.createdAt),f=WE[a.status]||WE.pending,g=a.items.reduce((y,E)=>y+E.quantity,0);return`
            <div class="order-card">
                <div class="order-header">
                    <div class="order-number-date">
                        <span class="order-number">#${o}</span>
                        <span class="order-date">${c}</span>
                    </div>
                    <span class="status-badge ${f.class}">${f.label}</span>
                </div>
                <div class="order-items-preview">
                    ${a.items.slice(0,3).map(y=>`<span class="order-item-name">${y.quantity}x ${y.nome}</span>`).join("")}
                    ${a.items.length>3?`<span class="more-items">+${a.items.length-3} itens</span>`:""}
                </div>
                <div class="order-footer">
                    <span class="order-total">Total: R$ ${a.total.toFixed(2)}</span>
                    <span class="order-items-count">${g} ${g===1?"item":"itens"}</span>
                </div>
            </div>
        `}).join("");e.innerHTML=n}function D2(){const s=se("search-input");s&&s.addEventListener("input",$l);const e=se("categoria-filter");e&&e.addEventListener("change",$l);const n=se("ordenar-filter");n&&n.addEventListener("change",$l)}function O2(){const s=["product-modal","login-modal","profile-modal","checkout-modal","orders-modal"];LO(s),PO(()=>{rg(),s.forEach(e=>bi(e))}),VO("user-menu","user-dropdown")}window.showCart=v2;window.closeCart=_2;window.goToCheckout=RS;window.processPayment=E2;window.showLoginModal=xo;window.closeLoginModal=IS;window.toggleRegisterMode=T2;window.handleLogin=A2;window.doLogout=S2;window.showProfile=R2;window.closeProfileModal=CS;window.updateProfile=I2;window.showOrders=NS;window.closeOrdersModal=C2;window.closeProductModal=()=>bi("product-modal");window.closeCheckoutModal=og;window.goToPaymentStep=e2;window.goToAddressStep=t2;window.selectShipping=n2;window.selectPaymentMethod=i2;window.toggleUserDropdown=()=>se("user-dropdown")?.classList.toggle("show");window.goToAdmin=()=>{window.location.hash="#/admin"};window.filterStoreProducts=$l;window.viewMyOrders=()=>{og(),NS()};window.continueShopping=og;window.formatCEP=s=>{s.value=JA(s.value)};window.formatCardNumber=s=>{s.value=ZA(s.value)};window.formatExpiry=s=>{s.value=WA(s.value)};window.updateCardPreview=()=>{};window.calculateShipping=()=>{};const rT="mlb_age_gate";function M2(){const[s,e]=fo.useState(()=>typeof window>"u"?!1:localStorage.getItem(rT)!=="confirmed");fo.useEffect(()=>{const o=window;o.__mlbStoreInit||(o.__mlbStoreInit=!0,l2())},[]);const n=()=>{localStorage.setItem(rT,"confirmed"),e(!1)},a=()=>{window.location.href="https://www.google.com.br"};return m.jsxs("div",{className:"store-page",children:[s&&m.jsx("div",{className:"age-gate",children:m.jsxs("div",{className:"age-gate-card",children:[m.jsx("span",{className:"age-gate-badge",children:"Conteudo +18"}),m.jsx("h2",{children:"Voce tem mais de 18 anos?"}),m.jsx("p",{children:"Este site contem conteudo destinado a adultos. Para continuar, confirme sua idade."}),m.jsxs("div",{className:"age-gate-actions",children:[m.jsx("button",{className:"age-btn primary",type:"button",onClick:n,children:"Sim, continuar"}),m.jsx("button",{className:"age-btn ghost",type:"button",onClick:a,children:"Nao"})]})]})}),m.jsx("div",{className:"topbar",children:m.jsxs("div",{className:"topbar-inner",children:[m.jsx("span",{className:"topbar-text",children:"Entrega para todo o Brasil"}),m.jsxs("div",{className:"topbar-links",children:[m.jsx("button",{type:"button",onClick:()=>window.showProfile?.(),children:"Minha conta"}),m.jsx("button",{type:"button",onClick:()=>window.showOrders?.(),children:"Meus pedidos"}),m.jsx("button",{type:"button",onClick:()=>window.showLoginModal?.(),children:"Favoritos"}),m.jsx("button",{type:"button",onClick:()=>window.doLogout?.(),children:"Sair"})]})]})}),m.jsx("header",{className:"store-header bera-header",children:m.jsxs("div",{className:"header-container",children:[m.jsxs("a",{href:"#/store",className:"logo",children:[m.jsx("div",{className:"logo-icon",children:m.jsx("i",{className:"fas fa-leaf"})}),m.jsxs("div",{className:"logo-text",children:[m.jsx("h1",{children:"MakeLifeBetter"}),m.jsx("span",{className:"tagline",children:"E-commerce & eventos"})]})]}),m.jsxs("div",{className:"header-search",children:[m.jsx("i",{className:"fas fa-search"}),m.jsx("input",{type:"text",id:"search-input",placeholder:"Buscar produtos"})]}),m.jsxs("div",{className:"header-actions",children:[m.jsxs("div",{id:"user-area",className:"user-area",style:{display:"none"},children:[m.jsxs("div",{className:"user-menu",id:"user-menu",onClick:()=>window.toggleUserDropdown?.(),children:[m.jsx("div",{className:"user-avatar",id:"user-avatar",children:m.jsx("i",{className:"fas fa-user"})}),m.jsx("span",{className:"user-name",id:"user-display-name",children:"Usuario"}),m.jsx("i",{className:"fas fa-chevron-down"})]}),m.jsxs("div",{className:"user-dropdown",id:"user-dropdown",children:[m.jsxs("a",{href:"#/store",onClick:o=>{o.preventDefault(),window.showProfile?.()},children:[m.jsx("i",{className:"fas fa-user-circle"})," Meu Perfil"]}),m.jsxs("a",{href:"#/store",onClick:o=>{o.preventDefault(),window.showOrders?.()},children:[m.jsx("i",{className:"fas fa-shopping-bag"})," Meus Pedidos"]}),m.jsxs("a",{href:"#/admin",id:"admin-link",style:{display:"none"},onClick:o=>{o.preventDefault(),window.goToAdmin?.()},children:[m.jsx("i",{className:"fas fa-cog"})," Painel Admin"]}),m.jsx("hr",{}),m.jsxs("a",{href:"#/store",className:"logout-link",onClick:o=>{o.preventDefault(),window.doLogout?.()},children:[m.jsx("i",{className:"fas fa-sign-out-alt"})," Sair"]})]})]}),m.jsxs("button",{id:"login-btn",className:"login-btn",type:"button",onClick:()=>window.showLoginModal?.(),children:[m.jsx("i",{className:"fas fa-user"}),m.jsx("span",{children:"Entrar"})]}),m.jsxs("button",{className:"cart-btn",type:"button",onClick:()=>window.showCart?.(),children:[m.jsx("i",{className:"fas fa-shopping-cart"}),m.jsx("span",{className:"cart-count",id:"cart-count",children:"0"})]})]})]})}),m.jsx("div",{className:"category-bar",children:m.jsxs("div",{className:"category-inner",children:[m.jsxs("div",{className:"category-left",children:[m.jsx("button",{className:"brand-button",type:"button",children:"Marcas"}),m.jsxs("div",{className:"brand-popover",children:[m.jsx("span",{children:"Colab Series"}),m.jsx("span",{children:"Lagers"}),m.jsx("span",{children:"IPA"}),m.jsx("span",{children:"Weiss"}),m.jsx("span",{children:"Zero"})]})]}),m.jsxs("div",{className:"categories-scroll",id:"categories-list",children:[m.jsx("button",{className:"category-chip active",type:"button",children:m.jsx("span",{children:"Todos"})}),m.jsx("button",{className:"category-chip",type:"button",children:m.jsx("span",{children:"Lager"})}),m.jsx("button",{className:"category-chip",type:"button",children:m.jsx("span",{children:"IPA"})}),m.jsx("button",{className:"category-chip",type:"button",children:m.jsx("span",{children:"Session"})})]}),m.jsxs("div",{className:"category-actions",children:[m.jsx("span",{className:"category-tag",children:"Ofertas"}),m.jsx("span",{className:"category-tag",children:"Lancamentos"})]})]})}),m.jsxs("main",{className:"store-main bera-main",children:[m.jsxs("section",{className:"store-stats",children:[m.jsxs("div",{className:"stat-item",children:[m.jsx("span",{className:"stat-label",children:"Produtos"}),m.jsx("span",{className:"stat-number",id:"total-products",children:"0"})]}),m.jsxs("div",{className:"stat-item",children:[m.jsx("span",{className:"stat-label",children:"Categorias"}),m.jsx("span",{className:"stat-number",id:"total-categories",children:"0"})]}),m.jsxs("div",{className:"stat-item",children:[m.jsx("span",{className:"stat-label",children:"Entrega"}),m.jsx("span",{className:"stat-number",children:"Brasil"})]})]}),m.jsx("section",{className:"filters-section bera-filters",children:m.jsx("div",{className:"filters-container",children:m.jsxs("div",{className:"filter-options",children:[m.jsx("select",{id:"categoria-filter",defaultValue:"",children:m.jsx("option",{value:"",children:"Todas as Categorias"})}),m.jsxs("select",{id:"ordenar-filter",defaultValue:"recentes",children:[m.jsx("option",{value:"recentes",children:"Mais Recentes"}),m.jsx("option",{value:"preco-menor",children:"Menor Preco"}),m.jsx("option",{value:"preco-maior",children:"Maior Preco"}),m.jsx("option",{value:"nome",children:"Nome A-Z"})]})]})})}),m.jsx("section",{className:"products-section",children:m.jsxs("div",{className:"products-container",children:[m.jsxs("div",{className:"section-header",children:[m.jsxs("div",{children:[m.jsx("p",{className:"section-eyebrow",children:"Categoria em destaque"}),m.jsx("h3",{children:"Todos os Produtos"})]}),m.jsx("span",{className:"products-count",id:"products-count",children:"0 produtos"})]}),m.jsx("div",{id:"products-grid",className:"products-grid",children:m.jsxs("div",{className:"product-card",children:[m.jsx("div",{className:"product-image",children:m.jsx("div",{className:"placeholder-image",children:m.jsx("i",{className:"fas fa-image"})})}),m.jsxs("div",{className:"product-details",children:[m.jsx("span",{className:"product-name",children:"Produto Exemplo"}),m.jsx("span",{className:"product-sku",children:"Codigo: 000"}),m.jsx("div",{className:"product-price",children:m.jsx("span",{className:"price-current",children:"R$ 199,90"})}),m.jsx("button",{className:"product-cta",type:"button",children:"Ver mais"})]})]})})]})}),m.jsx("section",{className:"newsletter",children:m.jsxs("div",{className:"newsletter-inner",children:[m.jsxs("div",{children:[m.jsx("p",{className:"newsletter-eyebrow",children:"Newsletter"}),m.jsx("h2",{children:"Cadastre-se e ganhe 10% de desconto"}),m.jsx("p",{children:"Receba novidades, eventos e lancamentos em primeira mao."})]}),m.jsxs("form",{className:"newsletter-form",onSubmit:o=>{o.preventDefault()},children:[m.jsx("input",{type:"email",placeholder:"Digite seu email"}),m.jsx("button",{className:"btn-primary",type:"submit",children:"Quero desconto"})]})]})})]}),m.jsx("div",{id:"login-modal",className:"modal",children:m.jsxs("div",{className:"modal-content login-modal-content",children:[m.jsx("span",{className:"close-modal",onClick:()=>window.closeLoginModal?.(),children:""}),m.jsxs("div",{className:"login-container",children:[m.jsxs("div",{className:"login-header",children:[m.jsx("div",{className:"login-logo",children:m.jsx("i",{className:"fas fa-leaf"})}),m.jsx("h2",{id:"login-title",children:"Entrar"}),m.jsx("p",{id:"login-subtitle",children:"Acesse sua conta para continuar"})]}),m.jsxs("form",{id:"login-form",onSubmit:o=>{window.handleLogin?.(o)},children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"login-email",children:"Email"}),m.jsxs("div",{className:"input-icon",children:[m.jsx("i",{className:"fas fa-envelope"}),m.jsx("input",{type:"email",id:"login-email",placeholder:"seu@email.com",required:!0})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"login-password",children:"Senha"}),m.jsxs("div",{className:"input-icon",children:[m.jsx("i",{className:"fas fa-lock"}),m.jsx("input",{type:"password",id:"login-password",placeholder:"Sua senha",required:!0})]})]}),m.jsxs("button",{type:"submit",className:"btn-primary",id:"login-submit-btn",children:[m.jsx("span",{children:"Entrar"}),m.jsx("i",{className:"fas fa-arrow-right"})]})]}),m.jsx("div",{className:"login-divider",children:m.jsx("span",{children:"ou"})}),m.jsx("button",{className:"btn-secondary",type:"button",onClick:()=>window.toggleRegisterMode?.(),children:m.jsx("span",{id:"toggle-register-text",children:"Criar nova conta"})}),m.jsx("p",{className:"login-footer",id:"login-footer-text",children:"Ao continuar, voce concorda com nossos Termos de Uso"})]})]})}),m.jsx("div",{id:"profile-modal",className:"modal",children:m.jsxs("div",{className:"modal-content profile-modal-content",children:[m.jsx("span",{className:"close-modal",onClick:()=>window.closeProfileModal?.(),children:""}),m.jsxs("div",{className:"profile-container",children:[m.jsxs("div",{className:"profile-header",children:[m.jsx("div",{className:"profile-avatar",id:"profile-avatar",children:m.jsx("i",{className:"fas fa-user"})}),m.jsx("h2",{id:"profile-name",children:"Carregando..."}),m.jsx("p",{id:"profile-email",children:"email@example.com"}),m.jsx("span",{className:"profile-badge",id:"profile-badge",children:"Usuario"})]}),m.jsxs("form",{id:"profile-form",onSubmit:o=>{window.updateProfile?.(o)},children:[m.jsxs("div",{className:"form-section",children:[m.jsxs("h3",{children:[m.jsx("i",{className:"fas fa-user-edit"})," Informacoes Pessoais"]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"profile-username",children:"Nome de Usuario"}),m.jsxs("div",{className:"input-icon",children:[m.jsx("i",{className:"fas fa-at"}),m.jsx("input",{type:"text",id:"profile-username",placeholder:"Seu username"})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"profile-display-email",children:"Email"}),m.jsxs("div",{className:"input-icon",children:[m.jsx("i",{className:"fas fa-envelope"}),m.jsx("input",{type:"email",id:"profile-display-email",placeholder:"seu@email.com",disabled:!0})]}),m.jsx("small",{children:"O email nao pode ser alterado"})]})]}),m.jsxs("div",{className:"form-section",children:[m.jsxs("h3",{children:[m.jsx("i",{className:"fas fa-lock"})," Alterar Senha"]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"profile-new-password",children:"Nova Senha (deixe em branco para manter)"}),m.jsxs("div",{className:"input-icon",children:[m.jsx("i",{className:"fas fa-key"}),m.jsx("input",{type:"password",id:"profile-new-password",placeholder:"Nova senha"})]})]})]}),m.jsxs("div",{className:"profile-actions",children:[m.jsxs("button",{type:"submit",className:"btn-primary",children:[m.jsx("i",{className:"fas fa-save"}),m.jsx("span",{children:"Salvar Alteracoes"})]}),m.jsx("button",{type:"button",className:"btn-outline",onClick:()=>window.closeProfileModal?.(),children:m.jsx("span",{children:"Cancelar"})})]})]}),m.jsx("div",{className:"profile-info",children:m.jsxs("p",{children:[m.jsx("i",{className:"fas fa-calendar"})," Membro desde:"," ",m.jsx("span",{id:"profile-created-at",children:"-"})]})})]})]})}),m.jsx("div",{id:"product-modal",className:"modal",children:m.jsxs("div",{className:"modal-content product-modal-content",children:[m.jsx("span",{className:"close-modal",onClick:()=>window.closeProductModal?.(),children:""}),m.jsx("div",{id:"modal-body",children:m.jsxs("div",{className:"modal-product",children:[m.jsx("div",{className:"modal-image",children:m.jsx("div",{className:"placeholder-image large",children:m.jsx("i",{className:"fas fa-image"})})}),m.jsxs("div",{className:"modal-info",children:[m.jsx("span",{className:"modal-category",children:"Categoria"}),m.jsx("h2",{className:"modal-title",children:"Produto Exemplo"}),m.jsx("p",{className:"modal-description",children:"Descricao completa do produto para layout base."}),m.jsx("div",{className:"modal-price-section",children:m.jsx("span",{className:"modal-price",children:"R$ 199,90"})}),m.jsx("div",{className:"modal-stock",children:m.jsxs("span",{className:"stock-status available",children:[m.jsx("i",{className:"fas fa-check-circle"})," Disponivel"]})}),m.jsxs("div",{className:"modal-actions",children:[m.jsxs("button",{className:"btn-buy",type:"button",children:[m.jsx("i",{className:"fas fa-bolt"}),m.jsx("span",{children:"Comprar Agora"})]}),m.jsxs("button",{className:"btn-cart",type:"button",children:[m.jsx("i",{className:"fas fa-cart-plus"}),m.jsx("span",{children:"Adicionar ao Carrinho"})]})]}),m.jsxs("div",{className:"modal-extras",children:[m.jsxs("div",{className:"extra-item",children:[m.jsx("i",{className:"fas fa-truck"}),m.jsx("span",{children:"Frete gratis acima de R$ 199"})]}),m.jsxs("div",{className:"extra-item",children:[m.jsx("i",{className:"fas fa-shield-alt"}),m.jsx("span",{children:"Garantia de 30 dias"})]}),m.jsxs("div",{className:"extra-item",children:[m.jsx("i",{className:"fas fa-undo"}),m.jsx("span",{children:"Devolucao facil"})]})]})]})]})})]})}),m.jsx("div",{id:"cart-overlay",className:"cart-overlay",onClick:()=>window.closeCart?.()}),m.jsxs("aside",{id:"cart-sidebar",className:"cart-sidebar",children:[m.jsxs("div",{className:"cart-header",children:[m.jsxs("h2",{children:[m.jsx("i",{className:"fas fa-shopping-cart"})," Meu Carrinho"]}),m.jsx("button",{className:"close-cart-btn",type:"button",onClick:()=>window.closeCart?.(),children:m.jsx("i",{className:"fas fa-times"})})]}),m.jsx("div",{id:"cart-items",className:"cart-items",children:m.jsxs("div",{className:"cart-item",children:[m.jsx("div",{className:"cart-item-image",children:m.jsx("div",{className:"no-image",children:m.jsx("i",{className:"fas fa-image"})})}),m.jsxs("div",{className:"cart-item-details",children:[m.jsx("h4",{children:"Produto Exemplo"}),m.jsx("p",{className:"cart-item-price",children:"R$ 199,90"}),m.jsxs("div",{className:"cart-item-quantity",children:[m.jsx("button",{className:"qty-btn",type:"button",children:m.jsx("i",{className:"fas fa-minus"})}),m.jsx("span",{children:"1"}),m.jsx("button",{className:"qty-btn",type:"button",children:m.jsx("i",{className:"fas fa-plus"})})]})]}),m.jsxs("div",{className:"cart-item-total",children:[m.jsx("span",{children:"R$ 199,90"}),m.jsx("button",{className:"remove-item-btn",type:"button",children:m.jsx("i",{className:"fas fa-trash"})})]})]})}),m.jsxs("div",{id:"cart-empty",className:"cart-empty",style:{display:"none"},children:[m.jsx("i",{className:"fas fa-shopping-basket"}),m.jsx("h3",{children:"Seu carrinho esta vazio"}),m.jsx("p",{children:"Adicione produtos para comecar suas compras"}),m.jsxs("button",{className:"btn-primary",type:"button",onClick:()=>window.closeCart?.(),children:[m.jsx("i",{className:"fas fa-store"}),m.jsx("span",{children:"Continuar Comprando"})]})]}),m.jsxs("div",{id:"cart-footer",className:"cart-footer",children:[m.jsxs("div",{className:"cart-subtotal",children:[m.jsx("span",{children:"Subtotal"}),m.jsx("span",{id:"cart-subtotal-value",children:"R$ 0,00"})]}),m.jsxs("div",{className:"cart-shipping",children:[m.jsx("span",{children:"Frete"}),m.jsx("span",{id:"cart-shipping-value",children:"Calcular no checkout"})]}),m.jsxs("div",{className:"cart-total",children:[m.jsx("span",{children:"Total"}),m.jsx("span",{id:"cart-total-value",children:"R$ 0,00"})]}),m.jsxs("button",{className:"btn-checkout",type:"button",onClick:()=>window.goToCheckout?.(),children:[m.jsx("i",{className:"fas fa-lock"}),m.jsx("span",{children:"Finalizar Compra"})]}),m.jsx("button",{className:"btn-continue",type:"button",onClick:()=>window.closeCart?.(),children:"Continuar Comprando"})]})]}),m.jsx("div",{id:"checkout-modal",className:"modal",children:m.jsxs("div",{className:"modal-content checkout-modal-content",children:[m.jsx("span",{className:"close-modal",onClick:()=>window.closeCheckoutModal?.(),children:""}),m.jsxs("div",{className:"checkout-container",children:[m.jsxs("div",{className:"checkout-stepper",children:[m.jsxs("div",{className:"step active",id:"step-1",children:[m.jsx("div",{className:"step-number",children:"1"}),m.jsx("span",{children:"Endereco"})]}),m.jsx("div",{className:"step-line"}),m.jsxs("div",{className:"step",id:"step-2",children:[m.jsx("div",{className:"step-number",children:"2"}),m.jsx("span",{children:"Pagamento"})]}),m.jsx("div",{className:"step-line"}),m.jsxs("div",{className:"step",id:"step-3",children:[m.jsx("div",{className:"step-number",children:"3"}),m.jsx("span",{children:"Confirmacao"})]})]}),m.jsxs("div",{id:"checkout-step-1",className:"checkout-step active",children:[m.jsx("h2",{children:"Endereco de Entrega"}),m.jsxs("form",{id:"address-form",className:"checkout-form",children:[m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"checkout-name",children:"Nome Completo *"}),m.jsx("input",{type:"text",id:"checkout-name",placeholder:"Seu nome completo",required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"checkout-phone",children:"Telefone *"}),m.jsx("input",{type:"tel",id:"checkout-phone",placeholder:"(11) 99999-9999",required:!0})]})]}),m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"form-group small",children:[m.jsx("label",{htmlFor:"checkout-cep",children:"CEP *"}),m.jsx("input",{type:"text",id:"checkout-cep",placeholder:"00000-000",maxLength:9,required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"checkout-street",children:"Rua *"}),m.jsx("input",{type:"text",id:"checkout-street",placeholder:"Nome da rua",required:!0})]}),m.jsxs("div",{className:"form-group small",children:[m.jsx("label",{htmlFor:"checkout-number",children:"Numero *"}),m.jsx("input",{type:"text",id:"checkout-number",placeholder:"123",required:!0})]})]}),m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"checkout-complement",children:"Complemento"}),m.jsx("input",{type:"text",id:"checkout-complement",placeholder:"Apto, Bloco, etc."})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"checkout-neighborhood",children:"Bairro *"}),m.jsx("input",{type:"text",id:"checkout-neighborhood",placeholder:"Seu bairro",required:!0})]})]}),m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"checkout-city",children:"Cidade *"}),m.jsx("input",{type:"text",id:"checkout-city",placeholder:"Sua cidade",required:!0})]}),m.jsxs("div",{className:"form-group small",children:[m.jsx("label",{htmlFor:"checkout-state",children:"Estado *"}),m.jsxs("select",{id:"checkout-state",required:!0,defaultValue:"",children:[m.jsx("option",{value:"",children:"UF"}),m.jsx("option",{value:"AC",children:"AC"}),m.jsx("option",{value:"AL",children:"AL"}),m.jsx("option",{value:"AP",children:"AP"}),m.jsx("option",{value:"AM",children:"AM"}),m.jsx("option",{value:"BA",children:"BA"}),m.jsx("option",{value:"CE",children:"CE"}),m.jsx("option",{value:"DF",children:"DF"}),m.jsx("option",{value:"ES",children:"ES"}),m.jsx("option",{value:"GO",children:"GO"}),m.jsx("option",{value:"MA",children:"MA"}),m.jsx("option",{value:"MT",children:"MT"}),m.jsx("option",{value:"MS",children:"MS"}),m.jsx("option",{value:"MG",children:"MG"}),m.jsx("option",{value:"PA",children:"PA"}),m.jsx("option",{value:"PB",children:"PB"}),m.jsx("option",{value:"PR",children:"PR"}),m.jsx("option",{value:"PE",children:"PE"}),m.jsx("option",{value:"PI",children:"PI"}),m.jsx("option",{value:"RJ",children:"RJ"}),m.jsx("option",{value:"RN",children:"RN"}),m.jsx("option",{value:"RS",children:"RS"}),m.jsx("option",{value:"RO",children:"RO"}),m.jsx("option",{value:"RR",children:"RR"}),m.jsx("option",{value:"SC",children:"SC"}),m.jsx("option",{value:"SP",children:"SP"}),m.jsx("option",{value:"SE",children:"SE"}),m.jsx("option",{value:"TO",children:"TO"})]})]})]}),m.jsxs("div",{className:"shipping-options",id:"shipping-options",children:[m.jsx("h3",{children:"Opcoes de Frete"}),m.jsxs("div",{className:"shipping-option selected",onClick:()=>window.selectShipping?.("normal"),children:[m.jsx("input",{type:"radio",name:"shipping",value:"normal",defaultChecked:!0}),m.jsxs("div",{className:"shipping-info",children:[m.jsx("span",{className:"shipping-name",children:"Normal"}),m.jsx("span",{className:"shipping-time",children:"5-8 dias uteis"})]}),m.jsx("span",{className:"shipping-price",children:"R$ 15,90"})]}),m.jsxs("div",{className:"shipping-option",onClick:()=>window.selectShipping?.("express"),children:[m.jsx("input",{type:"radio",name:"shipping",value:"express"}),m.jsxs("div",{className:"shipping-info",children:[m.jsx("span",{className:"shipping-name",children:"Expresso"}),m.jsx("span",{className:"shipping-time",children:"2-3 dias"})]}),m.jsx("span",{className:"shipping-price",children:"R$ 29,90"})]}),m.jsxs("div",{className:"shipping-option",onClick:()=>window.selectShipping?.("sameday"),children:[m.jsx("input",{type:"radio",name:"shipping",value:"sameday"}),m.jsxs("div",{className:"shipping-info",children:[m.jsx("span",{className:"shipping-name",children:"Same Day"}),m.jsx("span",{className:"shipping-time",children:"Hoje"})]}),m.jsx("span",{className:"shipping-price",children:"R$ 49,90"})]})]})]}),m.jsxs("div",{className:"checkout-actions",children:[m.jsx("button",{className:"btn-outline",type:"button",onClick:()=>window.closeCheckoutModal?.(),children:"Voltar ao Carrinho"}),m.jsxs("button",{className:"btn-primary",type:"button",onClick:()=>window.goToPaymentStep?.(),children:[m.jsx("span",{children:"Continuar para Pagamento"}),m.jsx("i",{className:"fas fa-arrow-right"})]})]})]}),m.jsxs("div",{id:"checkout-step-2",className:"checkout-step",children:[m.jsx("h2",{children:"Forma de Pagamento"}),m.jsxs("div",{className:"payment-methods",children:[m.jsxs("div",{className:"payment-method selected",onClick:()=>window.selectPaymentMethod?.("credit"),children:[m.jsx("input",{type:"radio",name:"payment",value:"credit",defaultChecked:!0}),m.jsx("i",{className:"fas fa-credit-card"}),m.jsx("span",{children:"Cartao de Credito"})]}),m.jsxs("div",{className:"payment-method",onClick:()=>window.selectPaymentMethod?.("debit"),children:[m.jsx("input",{type:"radio",name:"payment",value:"debit"}),m.jsx("i",{className:"fas fa-credit-card"}),m.jsx("span",{children:"Cartao de Debito"})]}),m.jsxs("div",{className:"payment-method",onClick:()=>window.selectPaymentMethod?.("pix"),children:[m.jsx("input",{type:"radio",name:"payment",value:"pix"}),m.jsx("i",{className:"fas fa-qrcode"}),m.jsx("span",{children:"PIX"})]}),m.jsxs("div",{className:"payment-method",onClick:()=>window.selectPaymentMethod?.("boleto"),children:[m.jsx("input",{type:"radio",name:"payment",value:"boleto"}),m.jsx("i",{className:"fas fa-barcode"}),m.jsx("span",{children:"Boleto Bancario"})]})]}),m.jsxs("div",{id:"card-form",className:"card-form",children:[m.jsx("div",{className:"card-preview",children:m.jsxs("div",{className:"card-front",children:[m.jsx("div",{className:"card-chip"}),m.jsx("div",{className:"card-number",id:"preview-card-number",children:".... .... .... ...."}),m.jsxs("div",{className:"card-bottom",children:[m.jsx("div",{className:"card-holder",id:"preview-card-holder",children:"NOME NO CARTAO"}),m.jsx("div",{className:"card-expiry",id:"preview-card-expiry",children:"MM/AA"})]})]})}),m.jsxs("form",{id:"payment-card-form",className:"checkout-form",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"card-number",children:"Numero do Cartao"}),m.jsx("input",{type:"text",id:"card-number",placeholder:"0000 0000 0000 0000",maxLength:19})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"card-holder",children:"Nome no Cartao"}),m.jsx("input",{type:"text",id:"card-holder",placeholder:"Como esta no cartao"})]}),m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"card-expiry",children:"Validade"}),m.jsx("input",{type:"text",id:"card-expiry",placeholder:"MM/AA",maxLength:5})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"card-cvv",children:"CVV"}),m.jsx("input",{type:"text",id:"card-cvv",placeholder:"123",maxLength:4})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"card-installments",children:"Parcelas"}),m.jsxs("select",{id:"card-installments",defaultValue:"1",children:[m.jsx("option",{value:"1",children:"1x sem juros"}),m.jsx("option",{value:"2",children:"2x sem juros"}),m.jsx("option",{value:"3",children:"3x sem juros"}),m.jsx("option",{value:"4",children:"4x sem juros"}),m.jsx("option",{value:"5",children:"5x sem juros"}),m.jsx("option",{value:"6",children:"6x sem juros"})]})]})]})]}),m.jsxs("div",{id:"pix-info",className:"pix-info",style:{display:"none"},children:[m.jsxs("div",{className:"pix-qr",children:[m.jsx("i",{className:"fas fa-qrcode"}),m.jsx("p",{children:"QR Code sera gerado apos confirmacao"})]}),m.jsxs("p",{className:"pix-instructions",children:[m.jsx("i",{className:"fas fa-info-circle"})," Apos confirmar, voce tera 30 minutos para realizar o pagamento via PIX."]})]}),m.jsx("div",{id:"boleto-info",className:"boleto-info",style:{display:"none"},children:m.jsxs("p",{className:"boleto-instructions",children:[m.jsx("i",{className:"fas fa-info-circle"})," O boleto sera gerado apos a confirmacao do pedido. Prazo de vencimento: 3 dias uteis."]})}),m.jsxs("div",{className:"order-summary",children:[m.jsx("h3",{children:"Resumo do Pedido"}),m.jsx("div",{id:"checkout-items-summary",children:m.jsxs("div",{className:"summary-item",children:[m.jsx("span",{children:"1x Produto Exemplo"}),m.jsx("span",{children:"R$ 199,90"})]})}),m.jsxs("div",{className:"summary-line",children:[m.jsx("span",{children:"Subtotal"}),m.jsx("span",{id:"summary-subtotal",children:"R$ 0,00"})]}),m.jsxs("div",{className:"summary-line",children:[m.jsx("span",{children:"Frete"}),m.jsx("span",{id:"summary-shipping",children:"R$ 0,00"})]}),m.jsxs("div",{className:"summary-line total",children:[m.jsx("span",{children:"Total"}),m.jsx("span",{id:"summary-total",children:"R$ 0,00"})]})]}),m.jsxs("div",{className:"checkout-actions",children:[m.jsxs("button",{className:"btn-outline",type:"button",onClick:()=>window.goToAddressStep?.(),children:[m.jsx("i",{className:"fas fa-arrow-left"}),m.jsx("span",{children:"Voltar"})]}),m.jsxs("button",{className:"btn-primary",type:"button",onClick:()=>window.processPayment?.(),children:[m.jsx("i",{className:"fas fa-lock"}),m.jsx("span",{children:"Confirmar Pagamento"})]})]})]}),m.jsx("div",{id:"checkout-step-3",className:"checkout-step",children:m.jsxs("div",{className:"confirmation-success",children:[m.jsx("div",{className:"success-icon",children:m.jsx("i",{className:"fas fa-check-circle"})}),m.jsx("h2",{children:"Pedido Confirmado!"}),m.jsxs("p",{className:"order-number",children:["Pedido ",m.jsx("strong",{id:"order-number",children:"#000000"})]}),m.jsx("p",{className:"confirmation-message",children:"Obrigado pela sua compra! Voce recebera um email com os detalhes do pedido."}),m.jsxs("div",{className:"order-details-card",children:[m.jsx("h3",{children:"Detalhes do Pedido"}),m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{children:"Status:"}),m.jsx("span",{className:"status-badge pending",children:"Aguardando Pagamento"})]}),m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{children:"Forma de Pagamento:"}),m.jsx("span",{id:"confirm-payment-method",children:"Cartao de Credito"})]}),m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{children:"Previsao de Entrega:"}),m.jsx("span",{id:"confirm-delivery-date",children:"-"})]}),m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{children:"Endereco:"}),m.jsx("span",{id:"confirm-address",children:"-"})]}),m.jsxs("div",{className:"detail-row total",children:[m.jsx("span",{children:"Total:"}),m.jsx("span",{id:"confirm-total",children:"R$ 0,00"})]})]}),m.jsxs("div",{className:"confirmation-actions",children:[m.jsxs("button",{className:"btn-primary",type:"button",onClick:()=>window.viewMyOrders?.(),children:[m.jsx("i",{className:"fas fa-list"}),m.jsx("span",{children:"Ver Meus Pedidos"})]}),m.jsx("button",{className:"btn-outline",type:"button",onClick:()=>window.continueShopping?.(),children:m.jsx("span",{children:"Continuar Comprando"})})]})]})})]})]})}),m.jsx("div",{id:"orders-modal",className:"modal",children:m.jsxs("div",{className:"modal-content orders-modal-content",children:[m.jsx("span",{className:"close-modal",onClick:()=>window.closeOrdersModal?.(),children:""}),m.jsxs("div",{className:"orders-container",children:[m.jsxs("h2",{children:[m.jsx("i",{className:"fas fa-shopping-bag"})," Meus Pedidos"]}),m.jsx("div",{id:"orders-list",className:"orders-list",children:m.jsxs("div",{className:"loading-spinner",children:[m.jsx("i",{className:"fas fa-spinner fa-spin"}),m.jsx("p",{children:"Carregando pedidos..."})]})}),m.jsxs("div",{id:"orders-empty",className:"orders-empty",style:{display:"none"},children:[m.jsx("i",{className:"fas fa-box-open"}),m.jsx("h3",{children:"Nenhum pedido encontrado"}),m.jsx("p",{children:"Voce ainda nao realizou nenhuma compra"}),m.jsxs("button",{className:"btn-primary",type:"button",onClick:()=>window.closeOrdersModal?.(),children:[m.jsx("i",{className:"fas fa-store"}),m.jsx("span",{children:"Ir as Compras"})]})]})]})]})}),m.jsxs("footer",{className:"store-footer bera-footer",children:[m.jsxs("div",{className:"footer-container",children:[m.jsxs("div",{className:"footer-section footer-brand",children:[m.jsxs("div",{className:"footer-logo",children:[m.jsx("i",{className:"fas fa-leaf"}),m.jsx("h4",{children:"MakeLifeBetter"})]}),m.jsx("p",{children:"Tornando sua vida melhor, um produto de cada vez. Qualidade, preco justo e satisfacao garantida."})]}),m.jsxs("div",{className:"footer-section",children:[m.jsx("h4",{children:"Categorias"}),m.jsxs("ul",{children:[m.jsx("li",{children:m.jsx("a",{href:"#/store",children:"Lager"})}),m.jsx("li",{children:m.jsx("a",{href:"#/store",children:"IPA"})}),m.jsx("li",{children:m.jsx("a",{href:"#/store",children:"Session"})}),m.jsx("li",{children:m.jsx("a",{href:"#/store",children:"Marcas"})})]})]}),m.jsxs("div",{className:"footer-section",children:[m.jsx("h4",{children:"Institucional"}),m.jsxs("ul",{children:[m.jsx("li",{children:m.jsx("a",{href:"#/store",children:"Sobre a marca"})}),m.jsx("li",{children:m.jsx("a",{href:"#/store",children:"Eventos"})}),m.jsx("li",{children:m.jsx("a",{href:"#/store",children:"Politica de privacidade"})}),m.jsx("li",{children:m.jsx("a",{href:"#/store",children:"Trocas e devolucoes"})})]})]}),m.jsxs("div",{className:"footer-section",children:[m.jsx("h4",{children:"Contato"}),m.jsxs("p",{children:[m.jsx("i",{className:"fas fa-envelope"})," contato@makelifebetter.com"]}),m.jsxs("p",{children:[m.jsx("i",{className:"fas fa-phone"})," (11) 99999-9999"]}),m.jsxs("p",{children:[m.jsx("i",{className:"fas fa-map-marker-alt"})," Sao Paulo, SP"]})]})]}),m.jsx("div",{className:"footer-bottom",children:m.jsx("p",{children:" 2024 MakeLifeBetter. Todos os direitos reservados."})})]}),m.jsx("div",{id:"toast-container",className:"toast-container"})]})}function oT(){return window.location.hash.replace("#","").replace("/","").trim()==="admin"?"admin":"store"}function j2(){const[s,e]=fo.useState(()=>oT());return fo.useEffect(()=>{const n=()=>e(oT());return window.addEventListener("hashchange",n),()=>window.removeEventListener("hashchange",n)},[]),m.jsx(fb,{children:s==="admin"?m.jsx(dO,{}):m.jsx(M2,{})})}hb.createRoot(document.getElementById("root")).render(m.jsx(fo.StrictMode,{children:m.jsx(j2,{})}));
